ARM GAS  /tmp/ccP8Hb0i.s 			page 1


   1              		.cpu cortex-m3
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"RC522.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.Delay_us,"ax",%progbits
  16              		.align	1
  17              		.global	Delay_us
  18              		.arch armv7-m
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu softvfp
  24              	Delay_us:
  25              	.LVL0:
  26              	.LFB70:
  27              		.file 1 "Core/Src/RC522.c"
   1:Core/Src/RC522.c **** #include "main.h"
   2:Core/Src/RC522.c **** #include "spi.h"
   3:Core/Src/RC522.c **** #include "RC522.h"
   4:Core/Src/RC522.c **** #include <stdio.h>
   5:Core/Src/RC522.c **** #include <string.h>
   6:Core/Src/RC522.c **** 
   7:Core/Src/RC522.c **** // M1å¡åˆ†ä¸º16ä¸ªæ‰‡åŒºï¼Œæ¯ä¸ªæ‰‡åŒºç”±å››ä¸ªå—ï¼ˆå—0ã€å—1ã€å—2ã€å—3ï¼‰ç»„æˆ
   8:Core/Src/RC522.c **** // å°†16ä¸ªæ‰‡åŒºçš„64ä¸ªå—æŒ‰ç»å¯¹åœ°å€ç¼–å·ä¸ºï¼š0~63
   9:Core/Src/RC522.c **** // ç¬¬0ä¸ªæ‰‡åŒºçš„å—0ï¼ˆå³ç»å¯¹åœ°å€0å—ï¼‰ï¼Œç”¨äºå­˜æ”¾å‚å•†ä»£ç ï¼Œå·²ç»å›ºåŒ–ä¸å¯æ›´
  10:Core/Src/RC522.c **** // æ¯ä¸ªæ‰‡åŒºçš„å—0ã€å—1ã€å—2ä¸ºæ•°æ®å—ï¼Œå¯ç”¨äºå­˜æ”¾æ•°æ®
  11:Core/Src/RC522.c **** // æ¯ä¸ªæ‰‡åŒºçš„å—3ä¸ºæ§åˆ¶å—ï¼ˆç»å¯¹åœ°å€ä¸º:å—3ã€å—7ã€å—11.....ï¼‰åŒ…æ‹¬å¯†ç Aï¼Œå­˜
  12:Core/Src/RC522.c **** 
  13:Core/Src/RC522.c **** #define RC522_DELAY()   Delay_us( 20 )
  14:Core/Src/RC522.c **** 
  15:Core/Src/RC522.c **** // ç”¨æˆ·è‡ªå®šä¹‰GPIOï¼Œç”¨äºæ§åˆ¶ç‰‡é€‰å’Œé‡å¯ä¿¡å·
  16:Core/Src/RC522.c **** #define RC522_Reset_Disable()   HAL_GPIO_WritePin(RC522_RST_GPIO_Port,RC522_RST_Pin,GPIO_PIN_SET)
  17:Core/Src/RC522.c **** #define RC522_Reset_Enable()    HAL_GPIO_WritePin(RC522_RST_GPIO_Port,RC522_RST_Pin,GPIO_PIN_RESET)
  18:Core/Src/RC522.c **** #define RC522_CS_Disable()    HAL_GPIO_WritePin(RC522_CS_GPIO_Port,RC522_CS_Pin,GPIO_PIN_SET)
  19:Core/Src/RC522.c **** #define RC522_CS_Enable()    HAL_GPIO_WritePin(RC522_CS_GPIO_Port,RC522_CS_Pin,GPIO_PIN_RESET)
  20:Core/Src/RC522.c **** #define cardsNum 2
  21:Core/Src/RC522.c **** 
  22:Core/Src/RC522.c **** unsigned char CT[2];             //å¡ç±»å‹
  23:Core/Src/RC522.c **** unsigned char SN[4];             //å¡å·
  24:Core/Src/RC522.c **** unsigned char DATA[16];
  25:Core/Src/RC522.c **** unsigned char RFID[16];          //å­˜æ”¾RFID 
  26:Core/Src/RC522.c **** unsigned char total=0;
  27:Core/Src/RC522.c **** unsigned char mycards[cardsNum][4]={
  28:Core/Src/RC522.c ****                     {0xAA,0x5B,0xD3,0x84},
  29:Core/Src/RC522.c ****                     {0xF9,0x56,0x2C,0xE5}
  30:Core/Src/RC522.c ****                 };
  31:Core/Src/RC522.c **** int8_t cardNum;                
ARM GAS  /tmp/ccP8Hb0i.s 			page 2


  32:Core/Src/RC522.c **** uint8_t KEY_A[6]= {0xff,0xff,0xff,0xff,0xff,0xff};
  33:Core/Src/RC522.c **** uint8_t KEY_B[6]= {0xff,0xff,0xff,0xff,0xff,0xff};
  34:Core/Src/RC522.c **** unsigned char RFID1[16]={0x00,0x00,0x00,0x00,0x00,0x00,0xff,0x07,0x80,0x29,0xff,0xff,0xff,0xff,0xff
  35:Core/Src/RC522.c **** unsigned char DATA1[16]= {0x12,0x34,0x56,0x78,0x9A,0x00,0xff,0x07,0x80,0x29,0xff,0xff,0xff,0xff,0xf
  36:Core/Src/RC522.c **** unsigned char status;
  37:Core/Src/RC522.c **** unsigned char addr=0x08;
  38:Core/Src/RC522.c **** 
  39:Core/Src/RC522.c **** void RC522_Handle1(void){
  40:Core/Src/RC522.c ****     status=MI_ERR;
  41:Core/Src/RC522.c ****     status = PcdRequest(PICC_REQALL, CT);// å¯»å¡ -> æ‰«ææœ‰æ— å¡ç‰‡
  42:Core/Src/RC522.c ****     if (status == MI_OK)
  43:Core/Src/RC522.c ****     {
  44:Core/Src/RC522.c ****         // æ‰“å°å¡ç‰‡ç±»å‹ä»£ç 
  45:Core/Src/RC522.c ****         // printf("Card Type:%x%x\r\n", CT[0],CT[1]);
  46:Core/Src/RC522.c ****         status=MI_ERR;
  47:Core/Src/RC522.c ****         status=PcdAnticoll(SN);// é˜²å†²çª -> å¯å–å¾—UID
  48:Core/Src/RC522.c ****         if (status==MI_OK)
  49:Core/Src/RC522.c ****         {
  50:Core/Src/RC522.c ****             // æ‰“å°16è¿›åˆ¶UID
  51:Core/Src/RC522.c ****             ShowID(SN); 
  52:Core/Src/RC522.c ****             // åˆ¤æ–­å¡æ‰€å±ç”¨æˆ·
  53:Core/Src/RC522.c ****             for (uint8_t i = 0; i < cardsNum; i++)
  54:Core/Src/RC522.c ****             {
  55:Core/Src/RC522.c ****                 if((SN[0]==mycards[i][0])&&(SN[1]==mycards[i][1])&&(SN[2]==mycards[i][2])&&(SN[3]==
  56:Core/Src/RC522.c ****                 {
  57:Core/Src/RC522.c ****                     cardNum=i;
  58:Core/Src/RC522.c ****                     printf("The Card is:card_%d\r\n",i);
  59:Core/Src/RC522.c ****                     break;
  60:Core/Src/RC522.c ****                 }else{
  61:Core/Src/RC522.c ****                     cardNum=-1;
  62:Core/Src/RC522.c ****                 }
  63:Core/Src/RC522.c ****             }
  64:Core/Src/RC522.c ****             if (cardNum==-1)
  65:Core/Src/RC522.c ****             {
  66:Core/Src/RC522.c ****                 printf("Unkown cardï¼\r\n");
  67:Core/Src/RC522.c ****             }
  68:Core/Src/RC522.c ****             status = MI_ERR;
  69:Core/Src/RC522.c ****             status = PcdSelect(SN);// é€‰æ‹©å¡ç‰‡
  70:Core/Src/RC522.c ****             if (status==MI_OK)
  71:Core/Src/RC522.c ****             {
  72:Core/Src/RC522.c ****                 printf("Select Card\r\n");
  73:Core/Src/RC522.c ****                 status = MI_ERR;
  74:Core/Src/RC522.c ****             }
  75:Core/Src/RC522.c ****         }
  76:Core/Src/RC522.c ****         HAL_Delay(500); 
  77:Core/Src/RC522.c ****     }
  78:Core/Src/RC522.c ****     else{
  79:Core/Src/RC522.c ****         //NO Card
  80:Core/Src/RC522.c ****     }    
  81:Core/Src/RC522.c **** }
  82:Core/Src/RC522.c **** // æµ‹è¯•ç¨‹åº0ï¼Œå®Œæˆaddrè¯»å†™è¯»
  83:Core/Src/RC522.c **** void RC522_Handle(void)
  84:Core/Src/RC522.c **** {
  85:Core/Src/RC522.c ****     uint8_t i = 0;
  86:Core/Src/RC522.c ****     uint8_t card0_bit = 0;
  87:Core/Src/RC522.c ****     status = PcdRequest(PICC_REQALL,CT);//å¯»å¡
  88:Core/Src/RC522.c ****     // printf("\r\nstatus>>>>>>%d\r\n", status);
ARM GAS  /tmp/ccP8Hb0i.s 			page 3


  89:Core/Src/RC522.c ****     if(status==MI_OK)// å¯»å¡æˆåŠŸ
  90:Core/Src/RC522.c ****     {
  91:Core/Src/RC522.c ****         printf("å¯»å¡æˆåŠŸ\r\n");
  92:Core/Src/RC522.c ****         status=MI_ERR;
  93:Core/Src/RC522.c ****         status = PcdAnticoll(SN);// é˜²å†²æ’ è·å¾—UID å­˜å…¥SN
  94:Core/Src/RC522.c ****     }else{
  95:Core/Src/RC522.c ****         printf("å¯»å¡å¤±è´¥\r\n");
  96:Core/Src/RC522.c ****     }
  97:Core/Src/RC522.c ****     if (status==MI_OK)// é˜²å†²æ’æˆåŠŸ
  98:Core/Src/RC522.c ****     {
  99:Core/Src/RC522.c ****         //printf("é˜²å†²æ’æˆåŠŸ\r\n");
 100:Core/Src/RC522.c ****         status = MI_ERR;
 101:Core/Src/RC522.c ****         ShowID(SN); // ä¸²å£æ‰“å°å¡çš„IDå· UID
 102:Core/Src/RC522.c **** 
 103:Core/Src/RC522.c ****         // åˆ¤æ–­ç”¨æˆ·
 104:Core/Src/RC522.c ****         // if((SN[0]==lxl[0])
 105:Core/Src/RC522.c **** 	    //     &&(SN[1]==lxl[1])
 106:Core/Src/RC522.c **** 	    //     &&(SN[2]==lxl[2])
 107:Core/Src/RC522.c **** 	    //     &&(SN[3]==lxl[3]))
 108:Core/Src/RC522.c ****         // {
 109:Core/Src/RC522.c ****         //     lxl_bit=1;
 110:Core/Src/RC522.c ****         //     printf("\r\nThe User is:card_0\r\n");
 111:Core/Src/RC522.c ****         // }
 112:Core/Src/RC522.c ****     
 113:Core/Src/RC522.c ****         status = PcdSelect(SN);
 114:Core/Src/RC522.c ****     }
 115:Core/Src/RC522.c ****     else
 116:Core/Src/RC522.c ****     {
 117:Core/Src/RC522.c ****         //printf("é˜²å†²æ’å¤±è´¥\r\n");
 118:Core/Src/RC522.c ****     }
 119:Core/Src/RC522.c ****     if(status == MI_OK)//é€‰å¡æˆåŠŸ
 120:Core/Src/RC522.c ****     {
 121:Core/Src/RC522.c ****        // printf("é€‰å¡æˆåŠŸ\r\n");
 122:Core/Src/RC522.c ****         status = MI_ERR;
 123:Core/Src/RC522.c ****         // éªŒè¯Aå¯†é’¥ å—åœ°å€ å¯†ç  SN 
 124:Core/Src/RC522.c **** 		// æ³¨æ„ï¼šæ­¤å¤„çš„å—åœ°å€0x0Bå³2æ‰‡åŒº3åŒºå—ï¼Œæ­¤å—åœ°å€åªéœ€è¦æŒ‡å‘æŸä¸€æ‰‡åŒºå°±å
 125:Core/Src/RC522.c ****         status = PcdAuthState(0x60, 0x0B, KEY_A, SN);
 126:Core/Src/RC522.c ****         if(status == MI_OK)//éªŒè¯æˆåŠŸ
 127:Core/Src/RC522.c ****         {
 128:Core/Src/RC522.c ****             printf("PcdAuthState(A) success\r\n");
 129:Core/Src/RC522.c ****         }
 130:Core/Src/RC522.c ****         else
 131:Core/Src/RC522.c ****         {
 132:Core/Src/RC522.c ****             printf("PcdAuthState(A) failed\r\n");
 133:Core/Src/RC522.c ****         }
 134:Core/Src/RC522.c **** 		// éªŒè¯Bå¯†é’¥ å—åœ°å€ å¯†ç  SN 
 135:Core/Src/RC522.c **** 		status = PcdAuthState(0x61, 0x0B, KEY_B, SN);
 136:Core/Src/RC522.c ****         if(status == MI_OK)//éªŒè¯æˆåŠŸ
 137:Core/Src/RC522.c ****         {
 138:Core/Src/RC522.c ****             printf("PcdAuthState(B) success\r\n");
 139:Core/Src/RC522.c ****         }
 140:Core/Src/RC522.c ****         else
 141:Core/Src/RC522.c ****         {
 142:Core/Src/RC522.c ****             printf("PcdAuthState(B) failed\r\n");
 143:Core/Src/RC522.c ****         }
 144:Core/Src/RC522.c ****     }
 145:Core/Src/RC522.c ****     if(status == MI_OK)//éªŒè¯æˆåŠŸ
ARM GAS  /tmp/ccP8Hb0i.s 			page 4


 146:Core/Src/RC522.c ****     {
 147:Core/Src/RC522.c ****         //printf("æ‰‡åŒºéªŒè¯æˆåŠŸ\r\n");
 148:Core/Src/RC522.c ****         status = MI_ERR;
 149:Core/Src/RC522.c ****         // è¯»å–M1å¡ä¸€å—æ•°æ® å—åœ°å€ è¯»å–çš„æ•°æ® æ³¨æ„ï¼šå› ä¸ºä¸Šé¢éªŒè¯çš„æ‰‡åŒºæ˜
 150:Core/Src/RC522.c ****         status = PcdRead(addr, DATA);
 151:Core/Src/RC522.c ****         if(status == MI_OK)//è¯»å¡æˆåŠŸ
 152:Core/Src/RC522.c ****         {
 153:Core/Src/RC522.c ****             printf("RFID:%s\r\n", RFID);
 154:Core/Src/RC522.c ****             printf("DATA:");
 155:Core/Src/RC522.c ****             for(i = 0; i < 16; i++)
 156:Core/Src/RC522.c ****             {
 157:Core/Src/RC522.c ****                 printf("%02x", DATA[i]);
 158:Core/Src/RC522.c ****             }
 159:Core/Src/RC522.c ****             printf("\r\n");
 160:Core/Src/RC522.c ****         }
 161:Core/Src/RC522.c ****         else
 162:Core/Src/RC522.c ****         {
 163:Core/Src/RC522.c ****             //printf("è¯»å¡å¤±è´¥\r\n");
 164:Core/Src/RC522.c ****         }
 165:Core/Src/RC522.c ****     }
 166:Core/Src/RC522.c ****     if(status == MI_OK)//è¯»å¡æˆåŠŸ
 167:Core/Src/RC522.c ****     {
 168:Core/Src/RC522.c ****         //printf("è¯»å¡æˆåŠŸ\r\n");
 169:Core/Src/RC522.c ****         status = MI_ERR;
 170:Core/Src/RC522.c **** 		printf("ä¸€ç§’åå¼€å§‹å†™å¡ï¼Œè¯·å‹¿ç§»å¼€å¡ç‰‡ï¼ï¼\r\n");
 171:Core/Src/RC522.c **** 		HAL_Delay(1000);
 172:Core/Src/RC522.c ****         // status = PcdWrite(addr, DATA0);
 173:Core/Src/RC522.c ****         // å†™æ•°æ®åˆ°M1å¡ä¸€å—
 174:Core/Src/RC522.c ****         status = PcdWrite(addr, DATA1);
 175:Core/Src/RC522.c ****         if(status == MI_OK)//å†™å¡æˆåŠŸ
 176:Core/Src/RC522.c ****         {
 177:Core/Src/RC522.c ****             printf("PcdWrite() success\r\n");
 178:Core/Src/RC522.c ****         }
 179:Core/Src/RC522.c ****         else
 180:Core/Src/RC522.c ****         {
 181:Core/Src/RC522.c ****             printf("PcdWrite() failed\r\n");
 182:Core/Src/RC522.c **** 			HAL_Delay(3000);
 183:Core/Src/RC522.c ****         }
 184:Core/Src/RC522.c ****     }
 185:Core/Src/RC522.c ****     if(status == MI_OK)//å†™å¡æˆåŠŸ
 186:Core/Src/RC522.c ****     {
 187:Core/Src/RC522.c ****         status = MI_ERR;
 188:Core/Src/RC522.c ****         // è¯»å–M1å¡ä¸€å—æ•°æ® å—åœ°å€ è¯»å–çš„æ•°æ®
 189:Core/Src/RC522.c ****         status = PcdRead(addr, DATA);
 190:Core/Src/RC522.c ****         if(status == MI_OK)//è¯»å¡æˆåŠŸ
 191:Core/Src/RC522.c ****         {
 192:Core/Src/RC522.c ****             // printf("DATA:%s\r\n", DATA);
 193:Core/Src/RC522.c ****             printf("DATA:");
 194:Core/Src/RC522.c ****             for(i = 0; i < 16; i++)
 195:Core/Src/RC522.c ****             {
 196:Core/Src/RC522.c ****                 printf("%02x", DATA[i]);
 197:Core/Src/RC522.c ****             }
 198:Core/Src/RC522.c ****             printf("\r\n");
 199:Core/Src/RC522.c ****         }
 200:Core/Src/RC522.c ****         else
 201:Core/Src/RC522.c ****         {
 202:Core/Src/RC522.c ****             printf("PcdRead() failed\r\n");
ARM GAS  /tmp/ccP8Hb0i.s 			page 5


 203:Core/Src/RC522.c ****         }
 204:Core/Src/RC522.c ****     }
 205:Core/Src/RC522.c **** 
 206:Core/Src/RC522.c ****     if(status == MI_OK)//è¯»å¡æˆåŠŸ
 207:Core/Src/RC522.c ****     {
 208:Core/Src/RC522.c ****         status = MI_ERR;
 209:Core/Src/RC522.c **** 		printf("RC522_Handle() run finished after 1 second!\r\n");
 210:Core/Src/RC522.c ****         HAL_Delay(1000);
 211:Core/Src/RC522.c ****     }
 212:Core/Src/RC522.c **** }
 213:Core/Src/RC522.c **** 
 214:Core/Src/RC522.c **** /* us delay func */
 215:Core/Src/RC522.c **** void Delay_us(uint32_t t) {
  28              		.loc 1 215 27 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 215 27 is_stmt 0 view .LVU1
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
  38 0002 0446     		mov	r4, r0
 216:Core/Src/RC522.c ****     HAL_SYSTICK_Config(HAL_RCC_GetHCLKFreq() / 1000000);
  39              		.loc 1 216 5 is_stmt 1 view .LVU2
  40              		.loc 1 216 24 is_stmt 0 view .LVU3
  41 0004 FFF7FEFF 		bl	HAL_RCC_GetHCLKFreq
  42              	.LVL1:
  43              		.loc 1 216 5 view .LVU4
  44 0008 084B     		ldr	r3, .L3
  45 000a A3FB0030 		umull	r3, r0, r3, r0
  46 000e 800C     		lsrs	r0, r0, #18
  47 0010 FFF7FEFF 		bl	HAL_SYSTICK_Config
  48              	.LVL2:
 217:Core/Src/RC522.c ****     HAL_Delay(t - 1);
  49              		.loc 1 217 5 is_stmt 1 view .LVU5
  50 0014 601E     		subs	r0, r4, #1
  51 0016 FFF7FEFF 		bl	HAL_Delay
  52              	.LVL3:
 218:Core/Src/RC522.c ****     HAL_SYSTICK_Config(HAL_RCC_GetHCLKFreq() / 1000);
  53              		.loc 1 218 5 view .LVU6
  54              		.loc 1 218 24 is_stmt 0 view .LVU7
  55 001a FFF7FEFF 		bl	HAL_RCC_GetHCLKFreq
  56              	.LVL4:
  57              		.loc 1 218 5 view .LVU8
  58 001e 044B     		ldr	r3, .L3+4
  59 0020 A3FB0030 		umull	r3, r0, r3, r0
  60 0024 8009     		lsrs	r0, r0, #6
  61 0026 FFF7FEFF 		bl	HAL_SYSTICK_Config
  62              	.LVL5:
 219:Core/Src/RC522.c **** }
  63              		.loc 1 219 1 view .LVU9
  64 002a 10BD     		pop	{r4, pc}
  65              	.LVL6:
  66              	.L4:
  67              		.loc 1 219 1 view .LVU10
ARM GAS  /tmp/ccP8Hb0i.s 			page 6


  68              		.align	2
  69              	.L3:
  70 002c 83DE1B43 		.word	1125899907
  71 0030 D34D6210 		.word	274877907
  72              		.cfi_endproc
  73              	.LFE70:
  75              		.section	.rodata.ShowID.str1.4,"aMS",%progbits,1
  76              		.align	2
  77              	.LC0:
  78 0000 5549443E 		.ascii	"UID>>>%s\015\012\000"
  78      3E3E2573 
  78      0D0A00
  79              		.section	.text.ShowID,"ax",%progbits
  80              		.align	1
  81              		.global	ShowID
  82              		.syntax unified
  83              		.thumb
  84              		.thumb_func
  85              		.fpu softvfp
  87              	ShowID:
  88              	.LVL7:
  89              	.LFB74:
 220:Core/Src/RC522.c **** 
 221:Core/Src/RC522.c **** /* 
 222:Core/Src/RC522.c ****     RC522å¯»å¡
 223:Core/Src/RC522.c ****     cReq_codeï¼Œå¯»å¡æ–¹å¼
 224:Core/Src/RC522.c ****         = 0x52ï¼Œå¯»æ„Ÿåº”åŒºå†…æ‰€æœ‰ç¬¦åˆ14443Aæ ‡å‡†çš„å¡
 225:Core/Src/RC522.c ****         = 0x26ï¼Œå¯»æœªè¿›å…¥ä¼‘çœ çŠ¶æ€çš„å¡
 226:Core/Src/RC522.c ****     pTagTypeï¼Œå¡ç‰‡ç±»å‹ä»£ç 
 227:Core/Src/RC522.c ****         = 0x4400ï¼ŒMifare_UltraLight
 228:Core/Src/RC522.c ****         = 0x0400ï¼ŒMifare_One(S50)
 229:Core/Src/RC522.c ****         = 0x0200ï¼ŒMifare_One(S70)
 230:Core/Src/RC522.c ****         = 0x0800ï¼ŒMifare_Pro(X))
 231:Core/Src/RC522.c ****         = 0x4403ï¼ŒMifare_DESFire
 232:Core/Src/RC522.c ****     è¿”å› MI_OKå³è°ƒç”¨æˆåŠŸ
 233:Core/Src/RC522.c ****  */
 234:Core/Src/RC522.c **** char PcdRequest (uint8_t ucReq_code, uint8_t * pTagType)
 235:Core/Src/RC522.c **** {
 236:Core/Src/RC522.c ****     char cStatus;
 237:Core/Src/RC522.c ****     uint8_t ucComMF522Buf [MAXRLEN];
 238:Core/Src/RC522.c ****     uint32_t ulLen;
 239:Core/Src/RC522.c **** 
 240:Core/Src/RC522.c ****     ClearBitMask ( Status2Reg, 0x08 );	//æ¸…ç†æŒ‡ç¤ºMIFARECyptolå•å…ƒæ¥é€šä»¥åŠæ‰€æœ‰å¡çš„æ•°æ
 241:Core/Src/RC522.c ****     WriteRawRC ( BitFramingReg, 0x07 );	//	å‘é€çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„ ä¸ƒä½
 242:Core/Src/RC522.c ****     SetBitMask ( TxControlReg, 0x03 );	//TX1,TX2ç®¡è„šçš„è¾“å‡ºä¿¡å·ä¼ é€’ç»å‘é€è°ƒåˆ¶çš„13.56ç
 243:Core/Src/RC522.c **** 
 244:Core/Src/RC522.c ****     ucComMF522Buf [0] = ucReq_code;		//å­˜å…¥ å¡ç‰‡å‘½ä»¤å­—
 245:Core/Src/RC522.c **** 
 246:Core/Src/RC522.c ****     cStatus = PcdComMF522 ( PCD_TRANSCEIVE,	ucComMF522Buf, 1, ucComMF522Buf, & ulLen );	//å¯»å¡
 247:Core/Src/RC522.c ****     
 248:Core/Src/RC522.c ****     if ( ( cStatus == MI_OK ) && ( ulLen == 0x10 ) )	//å¯»å¡æˆåŠŸè¿”å›å¡ç±»å‹
 249:Core/Src/RC522.c ****     {
 250:Core/Src/RC522.c ****         * pTagType = ucComMF522Buf [ 0 ];
 251:Core/Src/RC522.c ****         * ( pTagType + 1 ) = ucComMF522Buf [ 1 ];
 252:Core/Src/RC522.c ****     }
 253:Core/Src/RC522.c ****     else
 254:Core/Src/RC522.c ****         cStatus = MI_ERR;
ARM GAS  /tmp/ccP8Hb0i.s 			page 7


 255:Core/Src/RC522.c **** 
 256:Core/Src/RC522.c ****     return cStatus;
 257:Core/Src/RC522.c **** }
 258:Core/Src/RC522.c **** /*
 259:Core/Src/RC522.c ****     é€šè¿‡RC522å’ŒISO14443å¡é€šè®¯
 260:Core/Src/RC522.c ****     ucCommandï¼ŒRC522å‘½ä»¤å­—èŠ‚
 261:Core/Src/RC522.c ****     pInDataï¼Œé€šè¿‡RC522å‘é€åˆ°å¡ç‰‡çš„æ•°æ®
 262:Core/Src/RC522.c ****     ucInLenByteï¼Œå‘é€æ•°æ®çš„å­—èŠ‚é•¿åº¦
 263:Core/Src/RC522.c ****     pOutDataï¼Œæ¥æ”¶åˆ°çš„å¡ç‰‡è¿”å›æ•°æ®
 264:Core/Src/RC522.c ****     pOutLenBitï¼Œè¿”å›æ•°æ®çš„ä½é•¿åº¦
 265:Core/Src/RC522.c ****     è¿”å› MI_OKå³è°ƒç”¨æˆåŠŸ
 266:Core/Src/RC522.c ****  */
 267:Core/Src/RC522.c **** char PcdComMF522 (uint8_t ucCommand, uint8_t * pInData, uint8_t ucInLenByte, uint8_t * pOutData, ui
 268:Core/Src/RC522.c **** { 
 269:Core/Src/RC522.c ****     char cStatus = MI_ERR;
 270:Core/Src/RC522.c ****     uint8_t ucIrqEn   = 0x00;
 271:Core/Src/RC522.c ****     uint8_t ucWaitFor = 0x00;
 272:Core/Src/RC522.c ****     uint8_t ucLastBits;
 273:Core/Src/RC522.c ****     uint8_t ucN;
 274:Core/Src/RC522.c ****     uint32_t ul;
 275:Core/Src/RC522.c ****     switch ( ucCommand )
 276:Core/Src/RC522.c ****     {
 277:Core/Src/RC522.c ****     case PCD_AUTHENT:		//Mifareè®¤è¯
 278:Core/Src/RC522.c ****         ucIrqEn   = 0x12;		//å…è®¸é”™è¯¯ä¸­æ–­è¯·æ±‚ErrIEn  å…è®¸ç©ºé—²ä¸­æ–­IdleIEn
 279:Core/Src/RC522.c ****         ucWaitFor = 0x10;		//è®¤è¯å¯»å¡ç­‰å¾…æ—¶å€™ æŸ¥è¯¢ç©ºé—²ä¸­æ–­æ ‡å¿—ä½
 280:Core/Src/RC522.c ****         break;
 281:Core/Src/RC522.c ****     case PCD_TRANSCEIVE:		//æ¥æ”¶å‘é€ å‘é€æ¥æ”¶
 282:Core/Src/RC522.c ****         ucIrqEn   = 0x77;		//å…è®¸TxIEn RxIEn IdleIEn LoAlertIEn ErrIEn TimerIEn
 283:Core/Src/RC522.c ****         ucWaitFor = 0x30;		//å¯»å¡ç­‰å¾…æ—¶å€™ æŸ¥è¯¢æ¥æ”¶ä¸­æ–­æ ‡å¿—ä½ä¸ ç©ºé—²ä¸­æ–­æ ‡å¿—ä½
 284:Core/Src/RC522.c ****         break;
 285:Core/Src/RC522.c ****     default:
 286:Core/Src/RC522.c ****         break;
 287:Core/Src/RC522.c ****     }
 288:Core/Src/RC522.c ****     WriteRawRC ( ComIEnReg, ucIrqEn | 0x80 );		//IRqInvç½®ä½ç®¡è„šIRQä¸Status1Regçš„IRqä½çš„å€¼ç
 289:Core/Src/RC522.c ****     ClearBitMask ( ComIrqReg, 0x80 );			//Set1è¯¥ä½æ¸…é›¶æ—¶ï¼ŒCommIRqRegçš„å±è”½ä½æ¸…é›¶
 290:Core/Src/RC522.c ****     WriteRawRC ( CommandReg, PCD_IDLE );		//å†™ç©ºé—²å‘½ä»¤
 291:Core/Src/RC522.c ****     SetBitMask ( FIFOLevelReg, 0x80 );			//ç½®ä½FlushBufferæ¸…é™¤å†…éƒ¨FIFOçš„è¯»å’Œå†™æŒ‡é’ˆä»¥å
 292:Core/Src/RC522.c ****     for ( ul = 0; ul < ucInLenByte; ul ++ )
 293:Core/Src/RC522.c ****         WriteRawRC ( FIFODataReg, pInData [ ul ] );    		//å†™æ•°æ®è¿›FIFOdata
 294:Core/Src/RC522.c **** 
 295:Core/Src/RC522.c ****     WriteRawRC ( CommandReg, ucCommand );					//å†™å‘½ä»¤
 296:Core/Src/RC522.c **** 
 297:Core/Src/RC522.c ****     if ( ucCommand == PCD_TRANSCEIVE )
 298:Core/Src/RC522.c ****         SetBitMask(BitFramingReg,0x80);  				//StartSendç½®ä½å¯åŠ¨æ•°æ®å‘é€ è¯¥ä½ä¸æ”¶å‘å‘½
 299:Core/Src/RC522.c **** 
 300:Core/Src/RC522.c ****     ul = 1000;//æ ¹æ®æ—¶é’Ÿé¢‘ç‡è°ƒæ•´ï¼Œæ“ä½œM1å¡æœ€å¤§ç­‰å¾…æ—¶é—´25ms
 301:Core/Src/RC522.c **** 
 302:Core/Src/RC522.c ****     do 														//è®¤è¯ ä¸å¯»å¡ç­‰å¾…æ—¶é—´
 303:Core/Src/RC522.c ****     {
 304:Core/Src/RC522.c ****         ucN = ReadRawRC ( ComIrqReg );							//æŸ¥è¯¢äº‹ä»¶ä¸­æ–­
 305:Core/Src/RC522.c ****         ul --;
 306:Core/Src/RC522.c ****     } while ( ( ul != 0 ) && ( ! ( ucN & 0x01 ) ) && ( ! ( ucN & ucWaitFor ) ) );		//é€€å‡ºæ¡ä»¶i=
 307:Core/Src/RC522.c **** 
 308:Core/Src/RC522.c ****     ClearBitMask ( BitFramingReg, 0x80 );					//æ¸…ç†å…è®¸StartSendä½
 309:Core/Src/RC522.c **** 
 310:Core/Src/RC522.c ****     if ( ul != 0 )
 311:Core/Src/RC522.c ****     {
ARM GAS  /tmp/ccP8Hb0i.s 			page 8


 312:Core/Src/RC522.c ****         if ( ! (( ReadRawRC ( ErrorReg ) & 0x1B )) )			//è¯»é”™è¯¯æ ‡å¿—å¯„å­˜å™¨BufferOfI CollErr 
 313:Core/Src/RC522.c ****         {
 314:Core/Src/RC522.c ****             cStatus = MI_OK;
 315:Core/Src/RC522.c ****             if ( ucN & ucIrqEn & 0x01 )					//æ˜¯å¦å‘ç”Ÿå®šæ—¶å™¨ä¸­æ–­
 316:Core/Src/RC522.c ****                 cStatus = MI_NOTAGERR;
 317:Core/Src/RC522.c **** 
 318:Core/Src/RC522.c ****             if ( ucCommand == PCD_TRANSCEIVE )
 319:Core/Src/RC522.c ****             {
 320:Core/Src/RC522.c ****                 ucN = ReadRawRC ( FIFOLevelReg );			//è¯»FIFOä¸­ä¿å­˜çš„å­—èŠ‚æ•°
 321:Core/Src/RC522.c ****                 ucLastBits = ReadRawRC ( ControlReg ) & 0x07;	//æœ€åæ¥æ”¶åˆ°å¾—å­—èŠ‚çš„æœ‰æ•ˆä½
 322:Core/Src/RC522.c ****                 if ( ucLastBits )
 323:Core/Src/RC522.c ****                     * pOutLenBit = ( ucN - 1 ) * 8 + ucLastBits;   	//Nä¸ªå­—èŠ‚æ•°å‡å»1ï¼ˆæœ€å
 324:Core/Src/RC522.c ****                 else
 325:Core/Src/RC522.c ****                     * pOutLenBit = ucN * 8;   					//æœ€åæ¥æ”¶åˆ°çš„å­—èŠ‚æ•´ä¸ªå­—èŠ‚æœ‰æ•ˆ
 326:Core/Src/RC522.c ****                 if ( ucN == 0 )
 327:Core/Src/RC522.c ****                     ucN = 1;
 328:Core/Src/RC522.c ****                 if ( ucN > MAXRLEN )
 329:Core/Src/RC522.c ****                     ucN = MAXRLEN;
 330:Core/Src/RC522.c ****                 for ( ul = 0; ul < ucN; ul ++ )
 331:Core/Src/RC522.c ****                     pOutData [ ul ] = ReadRawRC ( FIFODataReg );
 332:Core/Src/RC522.c ****             }
 333:Core/Src/RC522.c ****         }
 334:Core/Src/RC522.c ****         else
 335:Core/Src/RC522.c ****             cStatus = MI_ERR;
 336:Core/Src/RC522.c ****     // printf(ErrorReg);
 337:Core/Src/RC522.c ****     }
 338:Core/Src/RC522.c ****     SetBitMask ( ControlReg, 0x80 );    // stop timer now
 339:Core/Src/RC522.c ****     WriteRawRC ( CommandReg, PCD_IDLE );
 340:Core/Src/RC522.c ****     return cStatus;
 341:Core/Src/RC522.c **** }
 342:Core/Src/RC522.c **** 
 343:Core/Src/RC522.c **** /*
 344:Core/Src/RC522.c ****     PCDé˜²å†²æ’
 345:Core/Src/RC522.c ****     pSnrï¼Œå¡ç‰‡åºåˆ—å·ï¼Œ4å­—èŠ‚
 346:Core/Src/RC522.c ****     è¿”å› MI_OKå³è°ƒç”¨æˆåŠŸ
 347:Core/Src/RC522.c ****  */
 348:Core/Src/RC522.c **** char PcdAnticoll (uint8_t * pSnr)
 349:Core/Src/RC522.c **** {
 350:Core/Src/RC522.c ****     char cStatus;
 351:Core/Src/RC522.c ****     uint8_t uc, ucSnr_check = 0;
 352:Core/Src/RC522.c ****     uint8_t ucComMF522Buf [ MAXRLEN ];
 353:Core/Src/RC522.c ****     uint32_t ulLen;
 354:Core/Src/RC522.c **** 
 355:Core/Src/RC522.c ****     ClearBitMask ( Status2Reg, 0x08 );		//æ¸…MFCryptol Onä½ åªæœ‰æˆåŠŸæ‰§è¡ŒMFAuthentå‘½ä»¤åï¼
 356:Core/Src/RC522.c ****     WriteRawRC ( BitFramingReg, 0x00);		//æ¸…ç†å¯„å­˜å™¨ åœæ­¢æ”¶å‘
 357:Core/Src/RC522.c ****     ClearBitMask ( CollReg, 0x80 );			//æ¸…ValuesAfterCollæ‰€æœ‰æ¥æ”¶çš„ä½åœ¨å†²çªåè¢«æ¸…é™¤
 358:Core/Src/RC522.c **** 
 359:Core/Src/RC522.c ****     /*
 360:Core/Src/RC522.c ****     å‚è€ƒISO14443åè®®ï¼šhttps://blog.csdn.net/wowocpp/article/details/79910800
 361:Core/Src/RC522.c ****     PCD å‘é€ SEL = â€˜93â€™ï¼ŒNVB = â€˜20â€™ä¸¤ä¸ªå­—èŠ‚
 362:Core/Src/RC522.c ****     è¿«ä½¿æ‰€æœ‰çš„åœ¨åœºçš„PICCå‘å›å®Œæ•´çš„UID CLnä½œä¸ºåº”ç­”ã€‚
 363:Core/Src/RC522.c ****     */
 364:Core/Src/RC522.c **** 
 365:Core/Src/RC522.c ****     ucComMF522Buf [ 0 ] = 0x93;	//å¡ç‰‡é˜²å†²çªå‘½ä»¤
 366:Core/Src/RC522.c ****     ucComMF522Buf [ 1 ] = 0x20;
 367:Core/Src/RC522.c **** 
 368:Core/Src/RC522.c ****     // å‘é€å¹¶æ¥æ”¶æ•°æ® æ¥æ”¶çš„æ•°æ®å­˜å‚¨äºucComMF522Buf
ARM GAS  /tmp/ccP8Hb0i.s 			page 9


 369:Core/Src/RC522.c ****     cStatus = PcdComMF522 ( PCD_TRANSCEIVE, ucComMF522Buf, 2, ucComMF522Buf, & ulLen);//ä¸å¡ç‰‡é€
 370:Core/Src/RC522.c **** 
 371:Core/Src/RC522.c ****     if ( cStatus == MI_OK)		//é€šä¿¡æˆåŠŸ
 372:Core/Src/RC522.c ****     {
 373:Core/Src/RC522.c ****         
 374:Core/Src/RC522.c ****         // æ”¶åˆ°çš„UID å­˜å…¥pSnr
 375:Core/Src/RC522.c ****         for ( uc = 0; uc < 4; uc ++ )
 376:Core/Src/RC522.c ****         {
 377:Core/Src/RC522.c ****             * ( pSnr + uc )  = ucComMF522Buf [ uc ];			//è¯»å‡ºUID
 378:Core/Src/RC522.c ****             ucSnr_check ^= ucComMF522Buf [ uc ];
 379:Core/Src/RC522.c ****         }
 380:Core/Src/RC522.c ****         if ( ucSnr_check != ucComMF522Buf [ uc ] )
 381:Core/Src/RC522.c ****             cStatus = MI_ERR;
 382:Core/Src/RC522.c ****     }
 383:Core/Src/RC522.c ****     SetBitMask ( CollReg, 0x80 );
 384:Core/Src/RC522.c ****     return cStatus;
 385:Core/Src/RC522.c **** }
 386:Core/Src/RC522.c **** 
 387:Core/Src/RC522.c **** void ShowID(uint8_t *p)
 388:Core/Src/RC522.c **** {
  90              		.loc 1 388 1 is_stmt 1 view -0
  91              		.cfi_startproc
  92              		@ args = 0, pretend = 0, frame = 16
  93              		@ frame_needed = 0, uses_anonymous_args = 0
  94              		.loc 1 388 1 is_stmt 0 view .LVU12
  95 0000 00B5     		push	{lr}
  96              	.LCFI1:
  97              		.cfi_def_cfa_offset 4
  98              		.cfi_offset 14, -4
  99 0002 85B0     		sub	sp, sp, #20
 100              	.LCFI2:
 101              		.cfi_def_cfa_offset 24
 389:Core/Src/RC522.c ****     uint8_t num[9];
 102              		.loc 1 389 5 is_stmt 1 view .LVU13
 390:Core/Src/RC522.c ****     uint8_t i;
 103              		.loc 1 390 5 view .LVU14
 391:Core/Src/RC522.c ****     for(i=0; i<4; i++)
 104              		.loc 1 391 5 view .LVU15
 105              	.LVL8:
 106              		.loc 1 391 10 is_stmt 0 view .LVU16
 107 0004 0023     		movs	r3, #0
 108              		.loc 1 391 5 view .LVU17
 109 0006 0EE0     		b	.L6
 110              	.LVL9:
 111              	.L7:
 392:Core/Src/RC522.c ****     {
 393:Core/Src/RC522.c ****         num[i*2] = p[i] / 16;
 394:Core/Src/RC522.c ****         num[i*2] > 9 ? (num[i*2] += '7') : (num[i*2] += '0');
 112              		.loc 1 394 54 discriminator 2 view .LVU18
 113 0008 3031     		adds	r1, r1, #48
 114 000a 0DF1100E 		add	lr, sp, #16
 115 000e 9644     		add	lr, lr, r2
 116 0010 0EF80C1C 		strb	r1, [lr, #-12]
 117 0014 1CE0     		b	.L8
 118              	.L9:
 395:Core/Src/RC522.c ****         num[i*2+1] = p[i] % 16;
 396:Core/Src/RC522.c ****         num[i*2+1] > 9 ? (num[i*2+1] += '7') : (num[i*2+1] += '0');
ARM GAS  /tmp/ccP8Hb0i.s 			page 10


 119              		.loc 1 396 60 discriminator 2 view .LVU19
 120 0016 0DF1100C 		add	ip, sp, #16
 121 001a 6244     		add	r2, r2, ip
 122 001c 3031     		adds	r1, r1, #48
 123 001e 02F80C1C 		strb	r1, [r2, #-12]
 124              	.L10:
 391:Core/Src/RC522.c ****     {
 125              		.loc 1 391 19 is_stmt 1 discriminator 2 view .LVU20
 391:Core/Src/RC522.c ****     {
 126              		.loc 1 391 20 is_stmt 0 discriminator 2 view .LVU21
 127 0022 0133     		adds	r3, r3, #1
 128              	.LVL10:
 391:Core/Src/RC522.c ****     {
 129              		.loc 1 391 20 discriminator 2 view .LVU22
 130 0024 DBB2     		uxtb	r3, r3
 131              	.LVL11:
 132              	.L6:
 391:Core/Src/RC522.c ****     {
 133              		.loc 1 391 14 is_stmt 1 discriminator 1 view .LVU23
 391:Core/Src/RC522.c ****     {
 134              		.loc 1 391 5 is_stmt 0 discriminator 1 view .LVU24
 135 0026 032B     		cmp	r3, #3
 136 0028 25D8     		bhi	.L13
 393:Core/Src/RC522.c ****         num[i*2] > 9 ? (num[i*2] += '7') : (num[i*2] += '0');
 137              		.loc 1 393 9 is_stmt 1 view .LVU25
 393:Core/Src/RC522.c ****         num[i*2] > 9 ? (num[i*2] += '7') : (num[i*2] += '0');
 138              		.loc 1 393 21 is_stmt 0 view .LVU26
 139 002a 00EB030C 		add	ip, r0, r3
 140 002e C15C     		ldrb	r1, [r0, r3]	@ zero_extendqisi2
 393:Core/Src/RC522.c ****         num[i*2] > 9 ? (num[i*2] += '7') : (num[i*2] += '0');
 141              		.loc 1 393 14 view .LVU27
 142 0030 5A00     		lsls	r2, r3, #1
 393:Core/Src/RC522.c ****         num[i*2] > 9 ? (num[i*2] += '7') : (num[i*2] += '0');
 143              		.loc 1 393 18 view .LVU28
 144 0032 0909     		lsrs	r1, r1, #4
 145 0034 0DF1100E 		add	lr, sp, #16
 146 0038 0EEB430E 		add	lr, lr, r3, lsl #1
 147 003c 0EF80C1C 		strb	r1, [lr, #-12]
 394:Core/Src/RC522.c ****         num[i*2+1] = p[i] % 16;
 148              		.loc 1 394 9 is_stmt 1 view .LVU29
 394:Core/Src/RC522.c ****         num[i*2+1] = p[i] % 16;
 149              		.loc 1 394 42 is_stmt 0 view .LVU30
 150 0040 0929     		cmp	r1, #9
 151 0042 E1D9     		bls	.L7
 394:Core/Src/RC522.c ****         num[i*2+1] = p[i] % 16;
 152              		.loc 1 394 34 discriminator 1 view .LVU31
 153 0044 3731     		adds	r1, r1, #55
 154 0046 0DF1100E 		add	lr, sp, #16
 155 004a 9644     		add	lr, lr, r2
 156 004c 0EF80C1C 		strb	r1, [lr, #-12]
 157              	.L8:
 395:Core/Src/RC522.c ****         num[i*2+1] > 9 ? (num[i*2+1] += '7') : (num[i*2+1] += '0');
 158              		.loc 1 395 9 is_stmt 1 view .LVU32
 395:Core/Src/RC522.c ****         num[i*2+1] > 9 ? (num[i*2+1] += '7') : (num[i*2+1] += '0');
 159              		.loc 1 395 23 is_stmt 0 view .LVU33
 160 0050 9CF80010 		ldrb	r1, [ip]	@ zero_extendqisi2
 395:Core/Src/RC522.c ****         num[i*2+1] > 9 ? (num[i*2+1] += '7') : (num[i*2+1] += '0');
ARM GAS  /tmp/ccP8Hb0i.s 			page 11


 161              		.loc 1 395 16 view .LVU34
 162 0054 0132     		adds	r2, r2, #1
 395:Core/Src/RC522.c ****         num[i*2+1] > 9 ? (num[i*2+1] += '7') : (num[i*2+1] += '0');
 163              		.loc 1 395 27 view .LVU35
 164 0056 01F00F01 		and	r1, r1, #15
 395:Core/Src/RC522.c ****         num[i*2+1] > 9 ? (num[i*2+1] += '7') : (num[i*2+1] += '0');
 165              		.loc 1 395 20 view .LVU36
 166 005a 0DF1100C 		add	ip, sp, #16
 167 005e 9444     		add	ip, ip, r2
 168 0060 0CF80C1C 		strb	r1, [ip, #-12]
 169              		.loc 1 396 9 is_stmt 1 view .LVU37
 170              		.loc 1 396 46 is_stmt 0 view .LVU38
 171 0064 0929     		cmp	r1, #9
 172 0066 D6D9     		bls	.L9
 173              		.loc 1 396 38 discriminator 1 view .LVU39
 174 0068 0DF1100C 		add	ip, sp, #16
 175 006c 6244     		add	r2, r2, ip
 176 006e 3731     		adds	r1, r1, #55
 177 0070 02F80C1C 		strb	r1, [r2, #-12]
 178 0074 D5E7     		b	.L10
 179              	.L13:
 397:Core/Src/RC522.c ****     }
 398:Core/Src/RC522.c ****     num[8] = 0;
 180              		.loc 1 398 5 is_stmt 1 view .LVU40
 181              		.loc 1 398 12 is_stmt 0 view .LVU41
 182 0076 0023     		movs	r3, #0
 183              	.LVL12:
 184              		.loc 1 398 12 view .LVU42
 185 0078 8DF80C30 		strb	r3, [sp, #12]
 399:Core/Src/RC522.c ****     printf("UID>>>%s\r\n", num);
 186              		.loc 1 399 5 is_stmt 1 view .LVU43
 187 007c 01A9     		add	r1, sp, #4
 188 007e 0348     		ldr	r0, .L14
 189              	.LVL13:
 190              		.loc 1 399 5 is_stmt 0 view .LVU44
 191 0080 FFF7FEFF 		bl	printf
 192              	.LVL14:
 400:Core/Src/RC522.c **** }
 193              		.loc 1 400 1 view .LVU45
 194 0084 05B0     		add	sp, sp, #20
 195              	.LCFI3:
 196              		.cfi_def_cfa_offset 4
 197              		@ sp needed
 198 0086 5DF804FB 		ldr	pc, [sp], #4
 199              	.L15:
 200 008a 00BF     		.align	2
 201              	.L14:
 202 008c 00000000 		.word	.LC0
 203              		.cfi_endproc
 204              	.LFE74:
 206              		.section	.text.WriteRawRC,"ax",%progbits
 207              		.align	1
 208              		.global	WriteRawRC
 209              		.syntax unified
 210              		.thumb
 211              		.thumb_func
 212              		.fpu softvfp
ARM GAS  /tmp/ccP8Hb0i.s 			page 12


 214              	WriteRawRC:
 215              	.LVL15:
 216              	.LFB85:
 401:Core/Src/RC522.c **** 
 402:Core/Src/RC522.c **** /*
 403:Core/Src/RC522.c ****     é€‰å®šå¡ç‰‡
 404:Core/Src/RC522.c ****     pSnrï¼Œå¡ç‰‡åºåˆ—å·ï¼Œ4å­—èŠ‚
 405:Core/Src/RC522.c ****     è¿”å› MI_OKè°ƒç”¨æˆåŠŸ
 406:Core/Src/RC522.c ****  */
 407:Core/Src/RC522.c **** char PcdSelect (uint8_t * pSnr)
 408:Core/Src/RC522.c **** {
 409:Core/Src/RC522.c ****     char cStatus;
 410:Core/Src/RC522.c ****     uint8_t uc;
 411:Core/Src/RC522.c ****     uint8_t ucComMF522Buf [ MAXRLEN ];
 412:Core/Src/RC522.c ****     uint32_t  ulLen;
 413:Core/Src/RC522.c **** 
 414:Core/Src/RC522.c ****     // é˜²å†²æ’ 0x93
 415:Core/Src/RC522.c ****     ucComMF522Buf [ 0 ] = PICC_ANTICOLL1;
 416:Core/Src/RC522.c ****     // å‡è®¾æ²¡æœ‰å†²çªï¼ŒPCD æŒ‡å®šNVBä¸º70ï¼Œæ­¤å€¼è¡¨ç¤ºPCDå°†å‘é€å®Œæ•´çš„UID CLnï¼Œä¸40ä½
 417:Core/Src/RC522.c ****     ucComMF522Buf [ 1 ] = 0x70;
 418:Core/Src/RC522.c ****     ucComMF522Buf [ 6 ] = 0;
 419:Core/Src/RC522.c **** 
 420:Core/Src/RC522.c ****     // 3 4 5 6ä½å­˜æ”¾UIDï¼Œç¬¬7ä½ä¸€ç›´å¼‚æˆ–ã€‚ã€‚ã€‚
 421:Core/Src/RC522.c ****     for ( uc = 0; uc < 4; uc ++ )
 422:Core/Src/RC522.c ****     {
 423:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 2 ] = * ( pSnr + uc );
 424:Core/Src/RC522.c ****         ucComMF522Buf [ 6 ] ^= * ( pSnr + uc );
 425:Core/Src/RC522.c ****     }
 426:Core/Src/RC522.c **** 
 427:Core/Src/RC522.c ****     // CRC(å¾ªç¯å†—ä½™æ ¡éªŒ)
 428:Core/Src/RC522.c ****     CalulateCRC ( ucComMF522Buf, 7, & ucComMF522Buf [ 7 ] );
 429:Core/Src/RC522.c ****     ClearBitMask ( Status2Reg, 0x08 );
 430:Core/Src/RC522.c ****     // å‘é€å¹¶æ¥æ”¶æ•°æ®
 431:Core/Src/RC522.c ****     cStatus = PcdComMF522 ( PCD_TRANSCEIVE, ucComMF522Buf, 9, ucComMF522Buf, & ulLen );
 432:Core/Src/RC522.c ****     if ( ( cStatus == MI_OK ) && ( ulLen == 0x18 ) )
 433:Core/Src/RC522.c ****         cStatus = MI_OK;
 434:Core/Src/RC522.c ****     else
 435:Core/Src/RC522.c ****         cStatus = MI_ERR;
 436:Core/Src/RC522.c ****     return cStatus;
 437:Core/Src/RC522.c **** }
 438:Core/Src/RC522.c **** 
 439:Core/Src/RC522.c **** /*
 440:Core/Src/RC522.c ****     éªŒè¯å¡ç‰‡å¯†ç 
 441:Core/Src/RC522.c ****     ucAuth_modeï¼Œå¯†ç éªŒè¯æ¨¡å¼
 442:Core/Src/RC522.c ****         = 0x60ï¼ŒéªŒè¯Aå¯†é’¥
 443:Core/Src/RC522.c ****         = 0x61ï¼ŒéªŒè¯Bå¯†é’¥
 444:Core/Src/RC522.c ****     ucAddrï¼Œå—åœ°å€
 445:Core/Src/RC522.c ****     pKeyï¼Œå¯†ç 
 446:Core/Src/RC522.c ****     pSnrï¼Œå¡ç‰‡åºåˆ—å·ï¼Œ4å­—èŠ‚
 447:Core/Src/RC522.c ****     è¿”å›MI_OKè°ƒç”¨æˆåŠŸ
 448:Core/Src/RC522.c ****  */
 449:Core/Src/RC522.c **** char PcdAuthState (uint8_t ucAuth_mode, uint8_t ucAddr, uint8_t * pKey, uint8_t * pSnr)
 450:Core/Src/RC522.c **** {
 451:Core/Src/RC522.c ****     char cStatus;
 452:Core/Src/RC522.c ****     uint8_t uc, ucComMF522Buf [ MAXRLEN ];
 453:Core/Src/RC522.c ****     uint32_t ulLen;
 454:Core/Src/RC522.c **** 
ARM GAS  /tmp/ccP8Hb0i.s 			page 13


 455:Core/Src/RC522.c ****     ucComMF522Buf [ 0 ] = ucAuth_mode;
 456:Core/Src/RC522.c ****     ucComMF522Buf [ 1 ] = ucAddr;
 457:Core/Src/RC522.c **** 
 458:Core/Src/RC522.c ****     for ( uc = 0; uc < 6; uc ++ )
 459:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 2 ] = * ( pKey + uc );
 460:Core/Src/RC522.c **** 
 461:Core/Src/RC522.c ****     for ( uc = 0; uc < 6; uc ++ )
 462:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 8 ] = * ( pSnr + uc );
 463:Core/Src/RC522.c **** 
 464:Core/Src/RC522.c ****     // éªŒè¯å¯†é’¥å‘½ä»¤
 465:Core/Src/RC522.c ****     cStatus = PcdComMF522 ( PCD_AUTHENT, ucComMF522Buf, 12, ucComMF522Buf, & ulLen );
 466:Core/Src/RC522.c **** 
 467:Core/Src/RC522.c ****     if ( ( cStatus != MI_OK ) || ( ! ( ReadRawRC ( Status2Reg ) & 0x08 ) ) )
 468:Core/Src/RC522.c ****     {
 469:Core/Src/RC522.c ****         cStatus = MI_ERR;
 470:Core/Src/RC522.c ****     }
 471:Core/Src/RC522.c ****     return cStatus;
 472:Core/Src/RC522.c **** }
 473:Core/Src/RC522.c **** 
 474:Core/Src/RC522.c **** 
 475:Core/Src/RC522.c **** /*
 476:Core/Src/RC522.c ****     ç”¨RC522è®¡ç®—CRC16
 477:Core/Src/RC522.c ****     pIndataï¼Œè®¡ç®—CRC16çš„æ•°ç»„
 478:Core/Src/RC522.c ****     ucLenï¼Œè®¡ç®—CRC16çš„æ•°ç»„å­—èŠ‚é•¿åº¦
 479:Core/Src/RC522.c ****     pOutDataï¼Œå­˜æ”¾è®¡ç®—ç»“æœå­˜æ”¾çš„é¦–åœ°å€
 480:Core/Src/RC522.c ****  */
 481:Core/Src/RC522.c **** void CalulateCRC (uint8_t * pIndata, uint8_t ucLen, uint8_t * pOutData)
 482:Core/Src/RC522.c **** {
 483:Core/Src/RC522.c ****     uint8_t uc, ucN;
 484:Core/Src/RC522.c **** 
 485:Core/Src/RC522.c ****     ClearBitMask(DivIrqReg,0x04);
 486:Core/Src/RC522.c **** 	
 487:Core/Src/RC522.c ****     WriteRawRC(CommandReg,PCD_IDLE);
 488:Core/Src/RC522.c **** 	
 489:Core/Src/RC522.c ****     SetBitMask(FIFOLevelReg,0x80);
 490:Core/Src/RC522.c **** 	
 491:Core/Src/RC522.c ****     for ( uc = 0; uc < ucLen; uc ++)
 492:Core/Src/RC522.c **** 	    WriteRawRC ( FIFODataReg, * ( pIndata + uc ) );   
 493:Core/Src/RC522.c **** 
 494:Core/Src/RC522.c ****     WriteRawRC ( CommandReg, PCD_CALCCRC );
 495:Core/Src/RC522.c **** 	
 496:Core/Src/RC522.c ****     uc = 0xFF;
 497:Core/Src/RC522.c **** 	
 498:Core/Src/RC522.c ****     do 
 499:Core/Src/RC522.c ****     {
 500:Core/Src/RC522.c ****         ucN = ReadRawRC ( DivIrqReg );
 501:Core/Src/RC522.c ****         uc --;
 502:Core/Src/RC522.c ****     } while ( ( uc != 0 ) && ! ( ucN & 0x04 ) );
 503:Core/Src/RC522.c **** 		
 504:Core/Src/RC522.c ****     pOutData [ 0 ] = ReadRawRC ( CRCResultRegL );
 505:Core/Src/RC522.c ****     pOutData [ 1 ] = ReadRawRC ( CRCResultRegM );
 506:Core/Src/RC522.c **** 	
 507:Core/Src/RC522.c **** }
 508:Core/Src/RC522.c **** 
 509:Core/Src/RC522.c **** /*
 510:Core/Src/RC522.c ****     è¯»å–M1å¡ä¸€å—æ•°æ®
 511:Core/Src/RC522.c ****     ucAddrï¼Œå—åœ°å€
ARM GAS  /tmp/ccP8Hb0i.s 			page 14


 512:Core/Src/RC522.c ****     pDataï¼Œè¯»å‡ºçš„æ•°æ®ï¼Œ16å­—èŠ‚
 513:Core/Src/RC522.c ****     è¿”å›MI_OKç”¨æˆåŠŸ
 514:Core/Src/RC522.c ****  */
 515:Core/Src/RC522.c **** char PcdRead (uint8_t ucAddr, uint8_t * pData)
 516:Core/Src/RC522.c **** {
 517:Core/Src/RC522.c **** 	char cStatus;
 518:Core/Src/RC522.c **** 	uint8_t uc, ucComMF522Buf [ MAXRLEN ]; 
 519:Core/Src/RC522.c **** 	uint32_t ulLen;
 520:Core/Src/RC522.c **** 	
 521:Core/Src/RC522.c **** 	ucComMF522Buf [ 0 ] = PICC_READ;
 522:Core/Src/RC522.c **** 	ucComMF522Buf [ 1 ] = ucAddr;
 523:Core/Src/RC522.c **** 	
 524:Core/Src/RC522.c **** 	CalulateCRC ( ucComMF522Buf, 2, & ucComMF522Buf [ 2 ] );
 525:Core/Src/RC522.c **** 	
 526:Core/Src/RC522.c **** 	cStatus = PcdComMF522 ( PCD_TRANSCEIVE, ucComMF522Buf, 4, ucComMF522Buf, & ulLen );
 527:Core/Src/RC522.c **** 	
 528:Core/Src/RC522.c **** 	if ((cStatus == MI_OK) && (ulLen == 0x90))
 529:Core/Src/RC522.c **** 	{
 530:Core/Src/RC522.c **** 		for (uc = 0; uc < 16; uc ++)
 531:Core/Src/RC522.c **** 			*(pData + uc) = ucComMF522Buf[uc];   
 532:Core/Src/RC522.c **** 	}
 533:Core/Src/RC522.c **** 	else
 534:Core/Src/RC522.c **** 		cStatus = MI_ERR;   
 535:Core/Src/RC522.c **** 	return cStatus;
 536:Core/Src/RC522.c **** }
 537:Core/Src/RC522.c **** 
 538:Core/Src/RC522.c **** /*
 539:Core/Src/RC522.c ****     å†™æ•°æ®åˆ°M1å¡ä¸€å—
 540:Core/Src/RC522.c ****     ucAddrï¼Œå—åœ°å€
 541:Core/Src/RC522.c ****     pDataï¼Œå†™å…¥çš„æ•°æ®ï¼Œ16å­—èŠ‚
 542:Core/Src/RC522.c ****     è¿”å›MI_OKè°ƒç”¨æˆåŠŸ
 543:Core/Src/RC522.c ****  */
 544:Core/Src/RC522.c **** char PcdWrite (uint8_t ucAddr, uint8_t * pData)
 545:Core/Src/RC522.c **** {
 546:Core/Src/RC522.c **** 	char cStatus;
 547:Core/Src/RC522.c **** 	uint8_t uc, ucComMF522Buf [ MAXRLEN ];
 548:Core/Src/RC522.c **** 	uint32_t ulLen;
 549:Core/Src/RC522.c **** 	
 550:Core/Src/RC522.c **** 	ucComMF522Buf [ 0 ] = PICC_WRITE;
 551:Core/Src/RC522.c **** 	ucComMF522Buf [ 1 ] = ucAddr;
 552:Core/Src/RC522.c **** 	
 553:Core/Src/RC522.c **** 	CalulateCRC ( ucComMF522Buf, 2, & ucComMF522Buf [ 2 ] );
 554:Core/Src/RC522.c **** 	cStatus = PcdComMF522 ( PCD_TRANSCEIVE, ucComMF522Buf, 4, ucComMF522Buf, & ulLen );
 555:Core/Src/RC522.c **** 	
 556:Core/Src/RC522.c **** 	if ( ( cStatus != MI_OK ) || ( ulLen != 4 ) || ( ( ucComMF522Buf [ 0 ] & 0x0F ) != 0x0A ) )
 557:Core/Src/RC522.c **** 		cStatus = MI_ERR;   
 558:Core/Src/RC522.c **** 	if ( cStatus == MI_OK )
 559:Core/Src/RC522.c **** 	{
 560:Core/Src/RC522.c **** 		memcpy(ucComMF522Buf, pData, 16);
 561:Core/Src/RC522.c **** 		for ( uc = 0; uc < 16; uc ++ )
 562:Core/Src/RC522.c **** 			ucComMF522Buf [ uc ] = * ( pData + uc );  
 563:Core/Src/RC522.c **** 		CalulateCRC ( ucComMF522Buf, 16, & ucComMF522Buf [ 16 ] );
 564:Core/Src/RC522.c **** 		cStatus = PcdComMF522 ( PCD_TRANSCEIVE, ucComMF522Buf, 18, ucComMF522Buf, & ulLen );
 565:Core/Src/RC522.c **** 		if (( cStatus != MI_OK ) || ( ulLen != 4 ) || (( ucComMF522Buf [0] & 0x0F ) != 0x0A ))
 566:Core/Src/RC522.c **** 			cStatus = MI_ERR;   
 567:Core/Src/RC522.c **** 	} 
 568:Core/Src/RC522.c **** 	return cStatus;
ARM GAS  /tmp/ccP8Hb0i.s 			page 15


 569:Core/Src/RC522.c **** }
 570:Core/Src/RC522.c **** 
 571:Core/Src/RC522.c **** 
 572:Core/Src/RC522.c **** 
 573:Core/Src/RC522.c **** /* åˆå§‹åŒ–RC522 */
 574:Core/Src/RC522.c **** void RC522_Init (void)
 575:Core/Src/RC522.c **** {
 576:Core/Src/RC522.c **** 	RC522_Reset_Disable();
 577:Core/Src/RC522.c **** 	RC522_CS_Disable();
 578:Core/Src/RC522.c ****     PcdAntennaOff ();//å…³å¤©çº¿
 579:Core/Src/RC522.c ****     PcdAntennaOn ();//å¼€å¤©çº¿
 580:Core/Src/RC522.c ****     PCD_Reset();
 581:Core/Src/RC522.c **** 	M500PcdConfigISOType ( 'A' );//è®¾ç½®å·¥ä½œæ–¹å¼
 582:Core/Src/RC522.c **** }
 583:Core/Src/RC522.c **** /* å¤ä½RC522 */
 584:Core/Src/RC522.c **** void PCD_Reset (void)
 585:Core/Src/RC522.c **** {
 586:Core/Src/RC522.c ****     RC522_Reset_Disable();
 587:Core/Src/RC522.c ****     Delay_us ( 1 );
 588:Core/Src/RC522.c ****     RC522_Reset_Enable();
 589:Core/Src/RC522.c ****     Delay_us ( 1 );
 590:Core/Src/RC522.c ****     RC522_Reset_Disable();
 591:Core/Src/RC522.c ****     Delay_us ( 1 );
 592:Core/Src/RC522.c ****     WriteRawRC ( CommandReg, 0x0f );
 593:Core/Src/RC522.c **** 
 594:Core/Src/RC522.c ****     while ( ReadRawRC ( CommandReg ) & 0x10 );
 595:Core/Src/RC522.c ****     Delay_us ( 1 );
 596:Core/Src/RC522.c **** 
 597:Core/Src/RC522.c ****     WriteRawRC ( ModeReg, 0x3D );            //å®šä¹‰å‘é€å’Œæ¥æ”¶å¸¸ç”¨æ¨¡å¼ å’ŒMifareå¡é€šè®¯
 598:Core/Src/RC522.c ****     WriteRawRC ( TReloadRegL, 30 );          //16ä½å®šæ—¶å™¨ä½ä½    
 599:Core/Src/RC522.c ****     WriteRawRC ( TReloadRegH, 0 );			 //16ä½å®šæ—¶å™¨é«˜ä½
 600:Core/Src/RC522.c ****     WriteRawRC ( TModeReg, 0x8D );			 //å®šä¹‰å†…éƒ¨å®šæ—¶å™¨çš„è®¾ç½®
 601:Core/Src/RC522.c ****     WriteRawRC ( TPrescalerReg, 0x3E );		 //è®¾ç½®å®šæ—¶å™¨åˆ†é¢‘ç³»æ•°
 602:Core/Src/RC522.c ****     WriteRawRC ( TxAutoReg, 0x40 );			 //è°ƒåˆ¶å‘é€ä¿¡å·ä¸º100%ASK	
 603:Core/Src/RC522.c **** }
 604:Core/Src/RC522.c **** /* è®¾ç½®RC522çš„å·¥ä½œæ–¹å¼ */
 605:Core/Src/RC522.c **** void M500PcdConfigISOType (uint8_t ucType)
 606:Core/Src/RC522.c **** {
 607:Core/Src/RC522.c **** 	if ( ucType == 'A')                     //ISO14443_A
 608:Core/Src/RC522.c **** 	{
 609:Core/Src/RC522.c **** 		ClearBitMask ( Status2Reg, 0x08 );
 610:Core/Src/RC522.c **** 		WriteRawRC ( ModeReg, 0x3D );//3F
 611:Core/Src/RC522.c **** 		WriteRawRC ( RxSelReg, 0x86 );//84
 612:Core/Src/RC522.c **** 		WriteRawRC( RFCfgReg, 0x7F );   //4F
 613:Core/Src/RC522.c **** 		WriteRawRC( TReloadRegL, 30 );//tmoLength);// TReloadVal = 'h6a =tmoLength(dec) 
 614:Core/Src/RC522.c **** 		WriteRawRC ( TReloadRegH, 0 );
 615:Core/Src/RC522.c **** 		WriteRawRC ( TModeReg, 0x8D );
 616:Core/Src/RC522.c **** 		WriteRawRC ( TPrescalerReg, 0x3E );
 617:Core/Src/RC522.c **** 		Delay_us ( 2 );
 618:Core/Src/RC522.c **** 	}
 619:Core/Src/RC522.c **** }
 620:Core/Src/RC522.c **** /* å¼€å¯å¤©çº¿ */
 621:Core/Src/RC522.c **** void PcdAntennaOn (void)
 622:Core/Src/RC522.c **** {
 623:Core/Src/RC522.c ****     uint8_t uc;
 624:Core/Src/RC522.c ****     uc = ReadRawRC ( TxControlReg );
 625:Core/Src/RC522.c ****     if ( ! ( uc & 0x03 ) )//0x7F;
ARM GAS  /tmp/ccP8Hb0i.s 			page 16


 626:Core/Src/RC522.c ****         SetBitMask(TxControlReg, 0x03);
 627:Core/Src/RC522.c **** }
 628:Core/Src/RC522.c **** /* å…³é—­å¤©çº¿ */
 629:Core/Src/RC522.c **** void PcdAntennaOff (void)
 630:Core/Src/RC522.c **** {
 631:Core/Src/RC522.c ****     ClearBitMask ( TxControlReg, 0x03 );
 632:Core/Src/RC522.c **** }
 633:Core/Src/RC522.c **** 
 634:Core/Src/RC522.c **** /* å‘RC522å†™å…¥æŒ‡å®šåœ°å€çš„æ•°æ® */
 635:Core/Src/RC522.c **** void WriteRawRC(uint8_t ucAddress, uint8_t ucValue)
 636:Core/Src/RC522.c **** {  
 217              		.loc 1 636 1 is_stmt 1 view -0
 218              		.cfi_startproc
 219              		@ args = 0, pretend = 0, frame = 8
 220              		@ frame_needed = 0, uses_anonymous_args = 0
 221              		.loc 1 636 1 is_stmt 0 view .LVU47
 222 0000 10B5     		push	{r4, lr}
 223              	.LCFI4:
 224              		.cfi_def_cfa_offset 8
 225              		.cfi_offset 4, -8
 226              		.cfi_offset 14, -4
 227 0002 82B0     		sub	sp, sp, #8
 228              	.LCFI5:
 229              		.cfi_def_cfa_offset 16
 637:Core/Src/RC522.c **** 	uint8_t sentData[2];
 230              		.loc 1 637 2 is_stmt 1 view .LVU48
 638:Core/Src/RC522.c **** 	sentData[0] = ( ucAddress << 1 ) & 0x7E;
 231              		.loc 1 638 2 view .LVU49
 232              		.loc 1 638 28 is_stmt 0 view .LVU50
 233 0004 4000     		lsls	r0, r0, #1
 234              	.LVL16:
 235              		.loc 1 638 35 view .LVU51
 236 0006 00F07E00 		and	r0, r0, #126
 237              		.loc 1 638 14 view .LVU52
 238 000a 8DF80400 		strb	r0, [sp, #4]
 639:Core/Src/RC522.c ****     sentData[1] = ucValue;
 239              		.loc 1 639 5 is_stmt 1 view .LVU53
 240              		.loc 1 639 17 is_stmt 0 view .LVU54
 241 000e 8DF80510 		strb	r1, [sp, #5]
 640:Core/Src/RC522.c **** 	RC522_CS_Enable();
 242              		.loc 1 640 2 is_stmt 1 view .LVU55
 243 0012 0A4C     		ldr	r4, .L18
 244 0014 0022     		movs	r2, #0
 245 0016 1021     		movs	r1, #16
 246              	.LVL17:
 247              		.loc 1 640 2 is_stmt 0 view .LVU56
 248 0018 2046     		mov	r0, r4
 249 001a FFF7FEFF 		bl	HAL_GPIO_WritePin
 250              	.LVL18:
 641:Core/Src/RC522.c **** 	HAL_SPI_Transmit(&hspi1,(uint8_t*)sentData,2,0xFFFF);
 251              		.loc 1 641 2 is_stmt 1 view .LVU57
 252 001e 4FF6FF73 		movw	r3, #65535
 253 0022 0222     		movs	r2, #2
 254 0024 01A9     		add	r1, sp, #4
 255 0026 0648     		ldr	r0, .L18+4
 256 0028 FFF7FEFF 		bl	HAL_SPI_Transmit
 257              	.LVL19:
ARM GAS  /tmp/ccP8Hb0i.s 			page 17


 642:Core/Src/RC522.c **** 	RC522_CS_Disable();	
 258              		.loc 1 642 2 view .LVU58
 259 002c 0122     		movs	r2, #1
 260 002e 1021     		movs	r1, #16
 261 0030 2046     		mov	r0, r4
 262 0032 FFF7FEFF 		bl	HAL_GPIO_WritePin
 263              	.LVL20:
 643:Core/Src/RC522.c **** }
 264              		.loc 1 643 1 is_stmt 0 view .LVU59
 265 0036 02B0     		add	sp, sp, #8
 266              	.LCFI6:
 267              		.cfi_def_cfa_offset 8
 268              		@ sp needed
 269 0038 10BD     		pop	{r4, pc}
 270              	.L19:
 271 003a 00BF     		.align	2
 272              	.L18:
 273 003c 00080140 		.word	1073809408
 274 0040 00000000 		.word	hspi1
 275              		.cfi_endproc
 276              	.LFE85:
 278              		.section	.text.ReadRawRC,"ax",%progbits
 279              		.align	1
 280              		.global	ReadRawRC
 281              		.syntax unified
 282              		.thumb
 283              		.thumb_func
 284              		.fpu softvfp
 286              	ReadRawRC:
 287              	.LVL21:
 288              	.LFB86:
 644:Core/Src/RC522.c **** /* è¯»å–RC522æŒ‡å®šåœ°å€çš„æ•°æ® */
 645:Core/Src/RC522.c **** uint8_t ReadRawRC (uint8_t ucAddress)
 646:Core/Src/RC522.c **** {
 289              		.loc 1 646 1 is_stmt 1 view -0
 290              		.cfi_startproc
 291              		@ args = 0, pretend = 0, frame = 8
 292              		@ frame_needed = 0, uses_anonymous_args = 0
 293              		.loc 1 646 1 is_stmt 0 view .LVU61
 294 0000 30B5     		push	{r4, r5, lr}
 295              	.LCFI7:
 296              		.cfi_def_cfa_offset 12
 297              		.cfi_offset 4, -12
 298              		.cfi_offset 5, -8
 299              		.cfi_offset 14, -4
 300 0002 83B0     		sub	sp, sp, #12
 301              	.LCFI8:
 302              		.cfi_def_cfa_offset 24
 647:Core/Src/RC522.c **** 	uint8_t ucAddr[1], ucReturn[1];
 303              		.loc 1 647 2 is_stmt 1 view .LVU62
 648:Core/Src/RC522.c **** 	ucAddr[0] = ( ( ucAddress << 1 ) & 0x7E ) | 0x80;
 304              		.loc 1 648 2 view .LVU63
 305              		.loc 1 648 28 is_stmt 0 view .LVU64
 306 0004 4000     		lsls	r0, r0, #1
 307              	.LVL22:
 308              		.loc 1 648 35 view .LVU65
 309 0006 00F07E00 		and	r0, r0, #126
ARM GAS  /tmp/ccP8Hb0i.s 			page 18


 310              		.loc 1 648 44 view .LVU66
 311 000a 40F08000 		orr	r0, r0, #128
 312              		.loc 1 648 12 view .LVU67
 313 000e 8DF80400 		strb	r0, [sp, #4]
 649:Core/Src/RC522.c **** 	RC522_CS_Enable();
 314              		.loc 1 649 2 is_stmt 1 view .LVU68
 315 0012 0F4C     		ldr	r4, .L22
 316 0014 0022     		movs	r2, #0
 317 0016 1021     		movs	r1, #16
 318 0018 2046     		mov	r0, r4
 319 001a FFF7FEFF 		bl	HAL_GPIO_WritePin
 320              	.LVL23:
 650:Core/Src/RC522.c **** 	//SPI_RC522_SendByte ( ucAddr );
 651:Core/Src/RC522.c ****     HAL_SPI_Transmit(&hspi1,(uint8_t*)ucAddr,1,0xFFFF);
 321              		.loc 1 651 5 view .LVU69
 322 001e 0D4D     		ldr	r5, .L22+4
 323 0020 4FF6FF73 		movw	r3, #65535
 324 0024 0122     		movs	r2, #1
 325 0026 01A9     		add	r1, sp, #4
 326 0028 2846     		mov	r0, r5
 327 002a FFF7FEFF 		bl	HAL_SPI_Transmit
 328              	.LVL24:
 652:Core/Src/RC522.c **** 	// ucReturn = SPI_RC522_ReadByte ();
 653:Core/Src/RC522.c ****     HAL_SPI_Receive(&hspi1,(uint8_t*)ucReturn,1,0xFFFF);
 329              		.loc 1 653 5 view .LVU70
 330 002e 4FF6FF73 		movw	r3, #65535
 331 0032 0122     		movs	r2, #1
 332 0034 6946     		mov	r1, sp
 333 0036 2846     		mov	r0, r5
 334 0038 FFF7FEFF 		bl	HAL_SPI_Receive
 335              	.LVL25:
 654:Core/Src/RC522.c ****     //printf("%x\r\n",ucReturn[0]);
 655:Core/Src/RC522.c **** 	RC522_CS_Disable();
 336              		.loc 1 655 2 view .LVU71
 337 003c 0122     		movs	r2, #1
 338 003e 1021     		movs	r1, #16
 339 0040 2046     		mov	r0, r4
 340 0042 FFF7FEFF 		bl	HAL_GPIO_WritePin
 341              	.LVL26:
 656:Core/Src/RC522.c **** 	return ucReturn[0];
 342              		.loc 1 656 2 view .LVU72
 657:Core/Src/RC522.c **** }
 343              		.loc 1 657 1 is_stmt 0 view .LVU73
 344 0046 9DF80000 		ldrb	r0, [sp]	@ zero_extendqisi2
 345 004a 03B0     		add	sp, sp, #12
 346              	.LCFI9:
 347              		.cfi_def_cfa_offset 12
 348              		@ sp needed
 349 004c 30BD     		pop	{r4, r5, pc}
 350              	.L23:
 351 004e 00BF     		.align	2
 352              	.L22:
 353 0050 00080140 		.word	1073809408
 354 0054 00000000 		.word	hspi1
 355              		.cfi_endproc
 356              	.LFE86:
 358              		.section	.text.PCD_Reset,"ax",%progbits
ARM GAS  /tmp/ccP8Hb0i.s 			page 19


 359              		.align	1
 360              		.global	PCD_Reset
 361              		.syntax unified
 362              		.thumb
 363              		.thumb_func
 364              		.fpu softvfp
 366              	PCD_Reset:
 367              	.LFB81:
 585:Core/Src/RC522.c ****     RC522_Reset_Disable();
 368              		.loc 1 585 1 is_stmt 1 view -0
 369              		.cfi_startproc
 370              		@ args = 0, pretend = 0, frame = 0
 371              		@ frame_needed = 0, uses_anonymous_args = 0
 372 0000 10B5     		push	{r4, lr}
 373              	.LCFI10:
 374              		.cfi_def_cfa_offset 8
 375              		.cfi_offset 4, -8
 376              		.cfi_offset 14, -4
 586:Core/Src/RC522.c ****     Delay_us ( 1 );
 377              		.loc 1 586 5 view .LVU75
 378 0002 1F4C     		ldr	r4, .L27
 379 0004 0122     		movs	r2, #1
 380 0006 1146     		mov	r1, r2
 381 0008 2046     		mov	r0, r4
 382 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 383              	.LVL27:
 587:Core/Src/RC522.c ****     RC522_Reset_Enable();
 384              		.loc 1 587 5 view .LVU76
 385 000e 0120     		movs	r0, #1
 386 0010 FFF7FEFF 		bl	Delay_us
 387              	.LVL28:
 588:Core/Src/RC522.c ****     Delay_us ( 1 );
 388              		.loc 1 588 5 view .LVU77
 389 0014 0022     		movs	r2, #0
 390 0016 0121     		movs	r1, #1
 391 0018 2046     		mov	r0, r4
 392 001a FFF7FEFF 		bl	HAL_GPIO_WritePin
 393              	.LVL29:
 589:Core/Src/RC522.c ****     RC522_Reset_Disable();
 394              		.loc 1 589 5 view .LVU78
 395 001e 0120     		movs	r0, #1
 396 0020 FFF7FEFF 		bl	Delay_us
 397              	.LVL30:
 590:Core/Src/RC522.c ****     Delay_us ( 1 );
 398              		.loc 1 590 5 view .LVU79
 399 0024 0122     		movs	r2, #1
 400 0026 1146     		mov	r1, r2
 401 0028 2046     		mov	r0, r4
 402 002a FFF7FEFF 		bl	HAL_GPIO_WritePin
 403              	.LVL31:
 591:Core/Src/RC522.c ****     WriteRawRC ( CommandReg, 0x0f );
 404              		.loc 1 591 5 view .LVU80
 405 002e 0120     		movs	r0, #1
 406 0030 FFF7FEFF 		bl	Delay_us
 407              	.LVL32:
 592:Core/Src/RC522.c **** 
 408              		.loc 1 592 5 view .LVU81
ARM GAS  /tmp/ccP8Hb0i.s 			page 20


 409 0034 0F21     		movs	r1, #15
 410 0036 0120     		movs	r0, #1
 411 0038 FFF7FEFF 		bl	WriteRawRC
 412              	.LVL33:
 594:Core/Src/RC522.c ****     Delay_us ( 1 );
 413              		.loc 1 594 5 view .LVU82
 414              	.L25:
 594:Core/Src/RC522.c ****     Delay_us ( 1 );
 415              		.loc 1 594 46 discriminator 1 view .LVU83
 594:Core/Src/RC522.c ****     Delay_us ( 1 );
 416              		.loc 1 594 11 discriminator 1 view .LVU84
 594:Core/Src/RC522.c ****     Delay_us ( 1 );
 417              		.loc 1 594 13 is_stmt 0 discriminator 1 view .LVU85
 418 003c 0120     		movs	r0, #1
 419 003e FFF7FEFF 		bl	ReadRawRC
 420              	.LVL34:
 594:Core/Src/RC522.c ****     Delay_us ( 1 );
 421              		.loc 1 594 11 discriminator 1 view .LVU86
 422 0042 10F0100F 		tst	r0, #16
 423 0046 F9D1     		bne	.L25
 595:Core/Src/RC522.c **** 
 424              		.loc 1 595 5 is_stmt 1 view .LVU87
 425 0048 0120     		movs	r0, #1
 426 004a FFF7FEFF 		bl	Delay_us
 427              	.LVL35:
 597:Core/Src/RC522.c ****     WriteRawRC ( TReloadRegL, 30 );          //16ä½å®šæ—¶å™¨ä½ä½    
 428              		.loc 1 597 5 view .LVU88
 429 004e 3D21     		movs	r1, #61
 430 0050 1120     		movs	r0, #17
 431 0052 FFF7FEFF 		bl	WriteRawRC
 432              	.LVL36:
 598:Core/Src/RC522.c ****     WriteRawRC ( TReloadRegH, 0 );			 //16ä½å®šæ—¶å™¨é«˜ä½
 433              		.loc 1 598 5 view .LVU89
 434 0056 1E21     		movs	r1, #30
 435 0058 2D20     		movs	r0, #45
 436 005a FFF7FEFF 		bl	WriteRawRC
 437              	.LVL37:
 599:Core/Src/RC522.c ****     WriteRawRC ( TModeReg, 0x8D );			 //å®šä¹‰å†…éƒ¨å®šæ—¶å™¨çš„è®¾ç½®
 438              		.loc 1 599 5 view .LVU90
 439 005e 0021     		movs	r1, #0
 440 0060 2C20     		movs	r0, #44
 441 0062 FFF7FEFF 		bl	WriteRawRC
 442              	.LVL38:
 600:Core/Src/RC522.c ****     WriteRawRC ( TPrescalerReg, 0x3E );		 //è®¾ç½®å®šæ—¶å™¨åˆ†é¢‘ç³»æ•°
 443              		.loc 1 600 5 view .LVU91
 444 0066 8D21     		movs	r1, #141
 445 0068 2A20     		movs	r0, #42
 446 006a FFF7FEFF 		bl	WriteRawRC
 447              	.LVL39:
 601:Core/Src/RC522.c ****     WriteRawRC ( TxAutoReg, 0x40 );			 //è°ƒåˆ¶å‘é€ä¿¡å·ä¸º100%ASK	
 448              		.loc 1 601 5 view .LVU92
 449 006e 3E21     		movs	r1, #62
 450 0070 2B20     		movs	r0, #43
 451 0072 FFF7FEFF 		bl	WriteRawRC
 452              	.LVL40:
 602:Core/Src/RC522.c **** }
 453              		.loc 1 602 5 view .LVU93
ARM GAS  /tmp/ccP8Hb0i.s 			page 21


 454 0076 4021     		movs	r1, #64
 455 0078 1520     		movs	r0, #21
 456 007a FFF7FEFF 		bl	WriteRawRC
 457              	.LVL41:
 603:Core/Src/RC522.c **** /* è®¾ç½®RC522çš„å·¥ä½œæ–¹å¼ */
 458              		.loc 1 603 1 is_stmt 0 view .LVU94
 459 007e 10BD     		pop	{r4, pc}
 460              	.L28:
 461              		.align	2
 462              	.L27:
 463 0080 000C0140 		.word	1073810432
 464              		.cfi_endproc
 465              	.LFE81:
 467              		.section	.text.SetBitMask,"ax",%progbits
 468              		.align	1
 469              		.global	SetBitMask
 470              		.syntax unified
 471              		.thumb
 472              		.thumb_func
 473              		.fpu softvfp
 475              	SetBitMask:
 476              	.LVL42:
 477              	.LFB87:
 658:Core/Src/RC522.c **** /* å‘RCCæŒ‡å®šå¯„å­˜å™¨ç½®ä½ */
 659:Core/Src/RC522.c **** void SetBitMask (uint8_t ucReg, uint8_t ucMask)
 660:Core/Src/RC522.c **** {
 478              		.loc 1 660 1 is_stmt 1 view -0
 479              		.cfi_startproc
 480              		@ args = 0, pretend = 0, frame = 0
 481              		@ frame_needed = 0, uses_anonymous_args = 0
 482              		.loc 1 660 1 is_stmt 0 view .LVU96
 483 0000 38B5     		push	{r3, r4, r5, lr}
 484              	.LCFI11:
 485              		.cfi_def_cfa_offset 16
 486              		.cfi_offset 3, -16
 487              		.cfi_offset 4, -12
 488              		.cfi_offset 5, -8
 489              		.cfi_offset 14, -4
 490 0002 0446     		mov	r4, r0
 491 0004 0D46     		mov	r5, r1
 661:Core/Src/RC522.c ****     uint8_t ucTemp;
 492              		.loc 1 661 5 is_stmt 1 view .LVU97
 662:Core/Src/RC522.c ****     ucTemp = ReadRawRC ( ucReg );
 493              		.loc 1 662 5 view .LVU98
 494              		.loc 1 662 14 is_stmt 0 view .LVU99
 495 0006 FFF7FEFF 		bl	ReadRawRC
 496              	.LVL43:
 663:Core/Src/RC522.c ****     WriteRawRC ( ucReg, ucTemp | ucMask );         // set bit mask
 497              		.loc 1 663 5 is_stmt 1 view .LVU100
 498 000a 40EA0501 		orr	r1, r0, r5
 499 000e C9B2     		uxtb	r1, r1
 500 0010 2046     		mov	r0, r4
 501              	.LVL44:
 502              		.loc 1 663 5 is_stmt 0 view .LVU101
 503 0012 FFF7FEFF 		bl	WriteRawRC
 504              	.LVL45:
 664:Core/Src/RC522.c **** }
ARM GAS  /tmp/ccP8Hb0i.s 			page 22


 505              		.loc 1 664 1 view .LVU102
 506 0016 38BD     		pop	{r3, r4, r5, pc}
 507              		.cfi_endproc
 508              	.LFE87:
 510              		.section	.text.PcdAntennaOn,"ax",%progbits
 511              		.align	1
 512              		.global	PcdAntennaOn
 513              		.syntax unified
 514              		.thumb
 515              		.thumb_func
 516              		.fpu softvfp
 518              	PcdAntennaOn:
 519              	.LFB83:
 622:Core/Src/RC522.c ****     uint8_t uc;
 520              		.loc 1 622 1 is_stmt 1 view -0
 521              		.cfi_startproc
 522              		@ args = 0, pretend = 0, frame = 0
 523              		@ frame_needed = 0, uses_anonymous_args = 0
 524 0000 08B5     		push	{r3, lr}
 525              	.LCFI12:
 526              		.cfi_def_cfa_offset 8
 527              		.cfi_offset 3, -8
 528              		.cfi_offset 14, -4
 623:Core/Src/RC522.c ****     uc = ReadRawRC ( TxControlReg );
 529              		.loc 1 623 5 view .LVU104
 624:Core/Src/RC522.c ****     if ( ! ( uc & 0x03 ) )//0x7F;
 530              		.loc 1 624 5 view .LVU105
 624:Core/Src/RC522.c ****     if ( ! ( uc & 0x03 ) )//0x7F;
 531              		.loc 1 624 10 is_stmt 0 view .LVU106
 532 0002 1420     		movs	r0, #20
 533 0004 FFF7FEFF 		bl	ReadRawRC
 534              	.LVL46:
 625:Core/Src/RC522.c ****         SetBitMask(TxControlReg, 0x03);
 535              		.loc 1 625 5 is_stmt 1 view .LVU107
 625:Core/Src/RC522.c ****         SetBitMask(TxControlReg, 0x03);
 536              		.loc 1 625 8 is_stmt 0 view .LVU108
 537 0008 10F0030F 		tst	r0, #3
 538 000c 00D0     		beq	.L34
 539              	.LVL47:
 540              	.L31:
 627:Core/Src/RC522.c **** /* å…³é—­å¤©çº¿ */
 541              		.loc 1 627 1 view .LVU109
 542 000e 08BD     		pop	{r3, pc}
 543              	.LVL48:
 544              	.L34:
 626:Core/Src/RC522.c **** }
 545              		.loc 1 626 9 is_stmt 1 view .LVU110
 546 0010 0321     		movs	r1, #3
 547 0012 1420     		movs	r0, #20
 548              	.LVL49:
 626:Core/Src/RC522.c **** }
 549              		.loc 1 626 9 is_stmt 0 view .LVU111
 550 0014 FFF7FEFF 		bl	SetBitMask
 551              	.LVL50:
 627:Core/Src/RC522.c **** /* å…³é—­å¤©çº¿ */
 552              		.loc 1 627 1 view .LVU112
 553 0018 F9E7     		b	.L31
ARM GAS  /tmp/ccP8Hb0i.s 			page 23


 554              		.cfi_endproc
 555              	.LFE83:
 557              		.section	.text.ClearBitMask,"ax",%progbits
 558              		.align	1
 559              		.global	ClearBitMask
 560              		.syntax unified
 561              		.thumb
 562              		.thumb_func
 563              		.fpu softvfp
 565              	ClearBitMask:
 566              	.LVL51:
 567              	.LFB88:
 665:Core/Src/RC522.c **** /* å‘RCCæŒ‡å®šå¯„å­˜å™¨æ¸…ä½ */
 666:Core/Src/RC522.c **** void ClearBitMask (uint8_t ucReg, uint8_t ucMask) 
 667:Core/Src/RC522.c **** {
 568              		.loc 1 667 1 is_stmt 1 view -0
 569              		.cfi_startproc
 570              		@ args = 0, pretend = 0, frame = 0
 571              		@ frame_needed = 0, uses_anonymous_args = 0
 572              		.loc 1 667 1 is_stmt 0 view .LVU114
 573 0000 38B5     		push	{r3, r4, r5, lr}
 574              	.LCFI13:
 575              		.cfi_def_cfa_offset 16
 576              		.cfi_offset 3, -16
 577              		.cfi_offset 4, -12
 578              		.cfi_offset 5, -8
 579              		.cfi_offset 14, -4
 580 0002 0446     		mov	r4, r0
 581 0004 0D46     		mov	r5, r1
 668:Core/Src/RC522.c ****     uint8_t ucTemp;
 582              		.loc 1 668 5 is_stmt 1 view .LVU115
 669:Core/Src/RC522.c ****     ucTemp = ReadRawRC ( ucReg );
 583              		.loc 1 669 5 view .LVU116
 584              		.loc 1 669 14 is_stmt 0 view .LVU117
 585 0006 FFF7FEFF 		bl	ReadRawRC
 586              	.LVL52:
 670:Core/Src/RC522.c ****     WriteRawRC ( ucReg, ucTemp & ( ~ ucMask) );  // clear bit mask
 587              		.loc 1 670 5 is_stmt 1 view .LVU118
 588              		.loc 1 670 32 is_stmt 0 view .LVU119
 589 000a 20EA0501 		bic	r1, r0, r5
 590              		.loc 1 670 5 view .LVU120
 591 000e C9B2     		uxtb	r1, r1
 592 0010 2046     		mov	r0, r4
 593              	.LVL53:
 594              		.loc 1 670 5 view .LVU121
 595 0012 FFF7FEFF 		bl	WriteRawRC
 596              	.LVL54:
 671:Core/Src/RC522.c **** }
 597              		.loc 1 671 1 view .LVU122
 598 0016 38BD     		pop	{r3, r4, r5, pc}
 599              		.cfi_endproc
 600              	.LFE88:
 602              		.section	.text.PcdComMF522,"ax",%progbits
 603              		.align	1
 604              		.global	PcdComMF522
 605              		.syntax unified
 606              		.thumb
ARM GAS  /tmp/ccP8Hb0i.s 			page 24


 607              		.thumb_func
 608              		.fpu softvfp
 610              	PcdComMF522:
 611              	.LVL55:
 612              	.LFB72:
 268:Core/Src/RC522.c ****     char cStatus = MI_ERR;
 613              		.loc 1 268 1 is_stmt 1 view -0
 614              		.cfi_startproc
 615              		@ args = 4, pretend = 0, frame = 0
 616              		@ frame_needed = 0, uses_anonymous_args = 0
 268:Core/Src/RC522.c ****     char cStatus = MI_ERR;
 617              		.loc 1 268 1 is_stmt 0 view .LVU124
 618 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 619              	.LCFI14:
 620              		.cfi_def_cfa_offset 32
 621              		.cfi_offset 4, -32
 622              		.cfi_offset 5, -28
 623              		.cfi_offset 6, -24
 624              		.cfi_offset 7, -20
 625              		.cfi_offset 8, -16
 626              		.cfi_offset 9, -12
 627              		.cfi_offset 10, -8
 628              		.cfi_offset 14, -4
 629 0004 0746     		mov	r7, r0
 630 0006 8A46     		mov	r10, r1
 631 0008 1546     		mov	r5, r2
 632 000a 9946     		mov	r9, r3
 269:Core/Src/RC522.c ****     uint8_t ucIrqEn   = 0x00;
 633              		.loc 1 269 5 is_stmt 1 view .LVU125
 634              	.LVL56:
 270:Core/Src/RC522.c ****     uint8_t ucWaitFor = 0x00;
 635              		.loc 1 270 5 view .LVU126
 271:Core/Src/RC522.c ****     uint8_t ucLastBits;
 636              		.loc 1 271 5 view .LVU127
 272:Core/Src/RC522.c ****     uint8_t ucN;
 637              		.loc 1 272 5 view .LVU128
 273:Core/Src/RC522.c ****     uint32_t ul;
 638              		.loc 1 273 5 view .LVU129
 274:Core/Src/RC522.c ****     switch ( ucCommand )
 639              		.loc 1 274 5 view .LVU130
 275:Core/Src/RC522.c ****     {
 640              		.loc 1 275 5 view .LVU131
 641 000c 0C28     		cmp	r0, #12
 642 000e 17D0     		beq	.L51
 643 0010 0E28     		cmp	r0, #14
 644 0012 19D1     		bne	.L52
 279:Core/Src/RC522.c ****         break;
 645              		.loc 1 279 19 is_stmt 0 view .LVU132
 646 0014 1026     		movs	r6, #16
 278:Core/Src/RC522.c ****         ucWaitFor = 0x10;		//è®¤è¯å¯»å¡ç­‰å¾…æ—¶å€™ æŸ¥è¯¢ç©ºé—²ä¸­æ–­æ ‡å¿—ä½
 647              		.loc 1 278 19 view .LVU133
 648 0016 4FF01208 		mov	r8, #18
 649              	.L38:
 650              	.LVL57:
 288:Core/Src/RC522.c ****     ClearBitMask ( ComIrqReg, 0x80 );			//Set1è¯¥ä½æ¸…é›¶æ—¶ï¼ŒCommIRqRegçš„å±è”½ä½æ¸…é›¶
 651              		.loc 1 288 5 is_stmt 1 view .LVU134
 652 001a 48F08001 		orr	r1, r8, #128
ARM GAS  /tmp/ccP8Hb0i.s 			page 25


 653              	.LVL58:
 288:Core/Src/RC522.c ****     ClearBitMask ( ComIrqReg, 0x80 );			//Set1è¯¥ä½æ¸…é›¶æ—¶ï¼ŒCommIRqRegçš„å±è”½ä½æ¸…é›¶
 654              		.loc 1 288 5 is_stmt 0 view .LVU135
 655 001e 0220     		movs	r0, #2
 656              	.LVL59:
 288:Core/Src/RC522.c ****     ClearBitMask ( ComIrqReg, 0x80 );			//Set1è¯¥ä½æ¸…é›¶æ—¶ï¼ŒCommIRqRegçš„å±è”½ä½æ¸…é›¶
 657              		.loc 1 288 5 view .LVU136
 658 0020 FFF7FEFF 		bl	WriteRawRC
 659              	.LVL60:
 289:Core/Src/RC522.c ****     WriteRawRC ( CommandReg, PCD_IDLE );		//å†™ç©ºé—²å‘½ä»¤
 660              		.loc 1 289 5 is_stmt 1 view .LVU137
 661 0024 8021     		movs	r1, #128
 662 0026 0420     		movs	r0, #4
 663 0028 FFF7FEFF 		bl	ClearBitMask
 664              	.LVL61:
 290:Core/Src/RC522.c ****     SetBitMask ( FIFOLevelReg, 0x80 );			//ç½®ä½FlushBufferæ¸…é™¤å†…éƒ¨FIFOçš„è¯»å’Œå†™æŒ‡é’ˆä»¥å
 665              		.loc 1 290 5 view .LVU138
 666 002c 0021     		movs	r1, #0
 667 002e 0120     		movs	r0, #1
 668 0030 FFF7FEFF 		bl	WriteRawRC
 669              	.LVL62:
 291:Core/Src/RC522.c ****     for ( ul = 0; ul < ucInLenByte; ul ++ )
 670              		.loc 1 291 5 view .LVU139
 671 0034 8021     		movs	r1, #128
 672 0036 0A20     		movs	r0, #10
 673 0038 FFF7FEFF 		bl	SetBitMask
 674              	.LVL63:
 292:Core/Src/RC522.c ****         WriteRawRC ( FIFODataReg, pInData [ ul ] );    		//å†™æ•°æ®è¿›FIFOdata
 675              		.loc 1 292 5 view .LVU140
 292:Core/Src/RC522.c ****         WriteRawRC ( FIFODataReg, pInData [ ul ] );    		//å†™æ•°æ®è¿›FIFOdata
 676              		.loc 1 292 14 is_stmt 0 view .LVU141
 677 003c 0024     		movs	r4, #0
 292:Core/Src/RC522.c ****         WriteRawRC ( FIFODataReg, pInData [ ul ] );    		//å†™æ•°æ®è¿›FIFOdata
 678              		.loc 1 292 5 view .LVU142
 679 003e 0CE0     		b	.L39
 680              	.LVL64:
 681              	.L51:
 283:Core/Src/RC522.c ****         break;
 682              		.loc 1 283 19 view .LVU143
 683 0040 3026     		movs	r6, #48
 282:Core/Src/RC522.c ****         ucWaitFor = 0x30;		//å¯»å¡ç­‰å¾…æ—¶å€™ æŸ¥è¯¢æ¥æ”¶ä¸­æ–­æ ‡å¿—ä½ä¸ ç©ºé—²ä¸­æ–­æ ‡å¿—ä½
 684              		.loc 1 282 19 view .LVU144
 685 0042 4FF07708 		mov	r8, #119
 686 0046 E8E7     		b	.L38
 687              	.L52:
 275:Core/Src/RC522.c ****     {
 688              		.loc 1 275 5 view .LVU145
 689 0048 0026     		movs	r6, #0
 690 004a B046     		mov	r8, r6
 691 004c E5E7     		b	.L38
 692              	.LVL65:
 693              	.L40:
 293:Core/Src/RC522.c **** 
 694              		.loc 1 293 9 is_stmt 1 discriminator 3 view .LVU146
 695 004e 1AF80410 		ldrb	r1, [r10, r4]	@ zero_extendqisi2
 696 0052 0920     		movs	r0, #9
 697 0054 FFF7FEFF 		bl	WriteRawRC
ARM GAS  /tmp/ccP8Hb0i.s 			page 26


 698              	.LVL66:
 292:Core/Src/RC522.c ****         WriteRawRC ( FIFODataReg, pInData [ ul ] );    		//å†™æ•°æ®è¿›FIFOdata
 699              		.loc 1 292 37 discriminator 3 view .LVU147
 292:Core/Src/RC522.c ****         WriteRawRC ( FIFODataReg, pInData [ ul ] );    		//å†™æ•°æ®è¿›FIFOdata
 700              		.loc 1 292 40 is_stmt 0 discriminator 3 view .LVU148
 701 0058 0134     		adds	r4, r4, #1
 702              	.LVL67:
 703              	.L39:
 292:Core/Src/RC522.c ****         WriteRawRC ( FIFODataReg, pInData [ ul ] );    		//å†™æ•°æ®è¿›FIFOdata
 704              		.loc 1 292 19 is_stmt 1 discriminator 1 view .LVU149
 292:Core/Src/RC522.c ****         WriteRawRC ( FIFODataReg, pInData [ ul ] );    		//å†™æ•°æ®è¿›FIFOdata
 705              		.loc 1 292 5 is_stmt 0 discriminator 1 view .LVU150
 706 005a A542     		cmp	r5, r4
 707 005c F7D8     		bhi	.L40
 295:Core/Src/RC522.c **** 
 708              		.loc 1 295 5 is_stmt 1 view .LVU151
 709 005e 3946     		mov	r1, r7
 710 0060 0120     		movs	r0, #1
 711 0062 FFF7FEFF 		bl	WriteRawRC
 712              	.LVL68:
 297:Core/Src/RC522.c ****         SetBitMask(BitFramingReg,0x80);  				//StartSendç½®ä½å¯åŠ¨æ•°æ®å‘é€ è¯¥ä½ä¸æ”¶å‘å‘½
 713              		.loc 1 297 5 view .LVU152
 297:Core/Src/RC522.c ****         SetBitMask(BitFramingReg,0x80);  				//StartSendç½®ä½å¯åŠ¨æ•°æ®å‘é€ è¯¥ä½ä¸æ”¶å‘å‘½
 714              		.loc 1 297 8 is_stmt 0 view .LVU153
 715 0066 0C2F     		cmp	r7, #12
 716 0068 1DD0     		beq	.L59
 717              	.L41:
 292:Core/Src/RC522.c ****         WriteRawRC ( FIFODataReg, pInData [ ul ] );    		//å†™æ•°æ®è¿›FIFOdata
 718              		.loc 1 292 14 discriminator 3 view .LVU154
 719 006a 4FF47A75 		mov	r5, #1000
 720              	.LVL69:
 721              	.L43:
 302:Core/Src/RC522.c ****     {
 722              		.loc 1 302 5 is_stmt 1 discriminator 3 view .LVU155
 304:Core/Src/RC522.c ****         ul --;
 723              		.loc 1 304 9 discriminator 3 view .LVU156
 304:Core/Src/RC522.c ****         ul --;
 724              		.loc 1 304 15 is_stmt 0 discriminator 3 view .LVU157
 725 006e 0420     		movs	r0, #4
 726 0070 FFF7FEFF 		bl	ReadRawRC
 727              	.LVL70:
 728 0074 0446     		mov	r4, r0
 729              	.LVL71:
 305:Core/Src/RC522.c ****     } while ( ( ul != 0 ) && ( ! ( ucN & 0x01 ) ) && ( ! ( ucN & ucWaitFor ) ) );		//é€€å‡ºæ¡ä»¶i=
 730              		.loc 1 305 9 is_stmt 1 discriminator 3 view .LVU158
 306:Core/Src/RC522.c **** 
 731              		.loc 1 306 13 discriminator 3 view .LVU159
 306:Core/Src/RC522.c **** 
 732              		.loc 1 306 5 is_stmt 0 discriminator 3 view .LVU160
 733 0076 013D     		subs	r5, r5, #1
 734              	.LVL72:
 306:Core/Src/RC522.c **** 
 735              		.loc 1 306 5 discriminator 3 view .LVU161
 736 0078 04D0     		beq	.L42
 306:Core/Src/RC522.c **** 
 737              		.loc 1 306 27 discriminator 1 view .LVU162
 738 007a 10F0010F 		tst	r0, #1
ARM GAS  /tmp/ccP8Hb0i.s 			page 27


 739 007e 01D1     		bne	.L42
 306:Core/Src/RC522.c **** 
 740              		.loc 1 306 51 discriminator 2 view .LVU163
 741 0080 0642     		tst	r6, r0
 742 0082 F4D0     		beq	.L43
 743              	.L42:
 308:Core/Src/RC522.c **** 
 744              		.loc 1 308 5 is_stmt 1 view .LVU164
 745 0084 8021     		movs	r1, #128
 746 0086 0D20     		movs	r0, #13
 747              	.LVL73:
 308:Core/Src/RC522.c **** 
 748              		.loc 1 308 5 is_stmt 0 view .LVU165
 749 0088 FFF7FEFF 		bl	ClearBitMask
 750              	.LVL74:
 310:Core/Src/RC522.c ****     {
 751              		.loc 1 310 5 is_stmt 1 view .LVU166
 310:Core/Src/RC522.c ****     {
 752              		.loc 1 310 8 is_stmt 0 view .LVU167
 753 008c 85B9     		cbnz	r5, .L60
 269:Core/Src/RC522.c ****     uint8_t ucIrqEn   = 0x00;
 754              		.loc 1 269 10 view .LVU168
 755 008e 0224     		movs	r4, #2
 756              	.LVL75:
 757              	.L44:
 338:Core/Src/RC522.c ****     WriteRawRC ( CommandReg, PCD_IDLE );
 758              		.loc 1 338 5 is_stmt 1 view .LVU169
 759 0090 8021     		movs	r1, #128
 760 0092 0C20     		movs	r0, #12
 761 0094 FFF7FEFF 		bl	SetBitMask
 762              	.LVL76:
 339:Core/Src/RC522.c ****     return cStatus;
 763              		.loc 1 339 5 view .LVU170
 764 0098 0021     		movs	r1, #0
 765 009a 0120     		movs	r0, #1
 766 009c FFF7FEFF 		bl	WriteRawRC
 767              	.LVL77:
 340:Core/Src/RC522.c **** }
 768              		.loc 1 340 5 view .LVU171
 341:Core/Src/RC522.c **** 
 769              		.loc 1 341 1 is_stmt 0 view .LVU172
 770 00a0 2046     		mov	r0, r4
 771 00a2 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 772              	.LVL78:
 773              	.L59:
 298:Core/Src/RC522.c **** 
 774              		.loc 1 298 9 is_stmt 1 view .LVU173
 775 00a6 8021     		movs	r1, #128
 776 00a8 0D20     		movs	r0, #13
 777 00aa FFF7FEFF 		bl	SetBitMask
 778              	.LVL79:
 779 00ae DCE7     		b	.L41
 780              	.LVL80:
 781              	.L60:
 312:Core/Src/RC522.c ****         {
 782              		.loc 1 312 9 view .LVU174
 312:Core/Src/RC522.c ****         {
ARM GAS  /tmp/ccP8Hb0i.s 			page 28


 783              		.loc 1 312 19 is_stmt 0 view .LVU175
 784 00b0 0620     		movs	r0, #6
 785 00b2 FFF7FEFF 		bl	ReadRawRC
 786              	.LVL81:
 312:Core/Src/RC522.c ****         {
 787              		.loc 1 312 12 view .LVU176
 788 00b6 10F01B0F 		tst	r0, #27
 789 00ba 2AD1     		bne	.L54
 314:Core/Src/RC522.c ****             if ( ucN & ucIrqEn & 0x01 )					//æ˜¯å¦å‘ç”Ÿå®šæ—¶å™¨ä¸­æ–­
 790              		.loc 1 314 13 is_stmt 1 view .LVU177
 791              	.LVL82:
 315:Core/Src/RC522.c ****                 cStatus = MI_NOTAGERR;
 792              		.loc 1 315 13 view .LVU178
 315:Core/Src/RC522.c ****                 cStatus = MI_NOTAGERR;
 793              		.loc 1 315 32 is_stmt 0 view .LVU179
 794 00bc 08EA0404 		and	r4, r8, r4
 315:Core/Src/RC522.c ****                 cStatus = MI_NOTAGERR;
 795              		.loc 1 315 16 view .LVU180
 796 00c0 14F00104 		ands	r4, r4, #1
 797 00c4 00D0     		beq	.L45
 316:Core/Src/RC522.c **** 
 798              		.loc 1 316 25 view .LVU181
 799 00c6 0124     		movs	r4, #1
 800              	.L45:
 801              	.LVL83:
 318:Core/Src/RC522.c ****             {
 802              		.loc 1 318 13 is_stmt 1 view .LVU182
 318:Core/Src/RC522.c ****             {
 803              		.loc 1 318 16 is_stmt 0 view .LVU183
 804 00c8 0C2F     		cmp	r7, #12
 805 00ca E1D1     		bne	.L44
 320:Core/Src/RC522.c ****                 ucLastBits = ReadRawRC ( ControlReg ) & 0x07;	//æœ€åæ¥æ”¶åˆ°å¾—å­—èŠ‚çš„æœ‰æ•ˆä½
 806              		.loc 1 320 17 is_stmt 1 view .LVU184
 320:Core/Src/RC522.c ****                 ucLastBits = ReadRawRC ( ControlReg ) & 0x07;	//æœ€åæ¥æ”¶åˆ°å¾—å­—èŠ‚çš„æœ‰æ•ˆä½
 807              		.loc 1 320 23 is_stmt 0 view .LVU185
 808 00cc 0A20     		movs	r0, #10
 809 00ce FFF7FEFF 		bl	ReadRawRC
 810              	.LVL84:
 811 00d2 0646     		mov	r6, r0
 812              	.LVL85:
 321:Core/Src/RC522.c ****                 if ( ucLastBits )
 813              		.loc 1 321 17 is_stmt 1 view .LVU186
 321:Core/Src/RC522.c ****                 if ( ucLastBits )
 814              		.loc 1 321 30 is_stmt 0 view .LVU187
 815 00d4 0C20     		movs	r0, #12
 816 00d6 FFF7FEFF 		bl	ReadRawRC
 817              	.LVL86:
 322:Core/Src/RC522.c ****                     * pOutLenBit = ( ucN - 1 ) * 8 + ucLastBits;   	//Nä¸ªå­—èŠ‚æ•°å‡å»1ï¼ˆæœ€å
 818              		.loc 1 322 17 is_stmt 1 view .LVU188
 322:Core/Src/RC522.c ****                     * pOutLenBit = ( ucN - 1 ) * 8 + ucLastBits;   	//Nä¸ªå­—èŠ‚æ•°å‡å»1ï¼ˆæœ€å
 819              		.loc 1 322 20 is_stmt 0 view .LVU189
 820 00da 10F00700 		ands	r0, r0, #7
 821              	.LVL87:
 322:Core/Src/RC522.c ****                     * pOutLenBit = ( ucN - 1 ) * 8 + ucLastBits;   	//Nä¸ªå­—èŠ‚æ•°å‡å»1ï¼ˆæœ€å
 822              		.loc 1 322 20 view .LVU190
 823 00de 09D0     		beq	.L46
 323:Core/Src/RC522.c ****                 else
ARM GAS  /tmp/ccP8Hb0i.s 			page 29


 824              		.loc 1 323 21 is_stmt 1 view .LVU191
 323:Core/Src/RC522.c ****                 else
 825              		.loc 1 323 42 is_stmt 0 view .LVU192
 826 00e0 731E     		subs	r3, r6, #1
 323:Core/Src/RC522.c ****                 else
 827              		.loc 1 323 52 view .LVU193
 828 00e2 00EBC300 		add	r0, r0, r3, lsl #3
 323:Core/Src/RC522.c ****                 else
 829              		.loc 1 323 34 view .LVU194
 830 00e6 089B     		ldr	r3, [sp, #32]
 831 00e8 1860     		str	r0, [r3]
 832              	.L47:
 326:Core/Src/RC522.c ****                     ucN = 1;
 833              		.loc 1 326 17 is_stmt 1 view .LVU195
 326:Core/Src/RC522.c ****                     ucN = 1;
 834              		.loc 1 326 20 is_stmt 0 view .LVU196
 835 00ea 3EB1     		cbz	r6, .L56
 328:Core/Src/RC522.c ****                     ucN = MAXRLEN;
 836              		.loc 1 328 17 is_stmt 1 view .LVU197
 328:Core/Src/RC522.c ****                     ucN = MAXRLEN;
 837              		.loc 1 328 20 is_stmt 0 view .LVU198
 838 00ec 122E     		cmp	r6, #18
 839 00ee 06D9     		bls	.L48
 329:Core/Src/RC522.c ****                 for ( ul = 0; ul < ucN; ul ++ )
 840              		.loc 1 329 25 view .LVU199
 841 00f0 1226     		movs	r6, #18
 842              	.LVL88:
 329:Core/Src/RC522.c ****                 for ( ul = 0; ul < ucN; ul ++ )
 843              		.loc 1 329 25 view .LVU200
 844 00f2 04E0     		b	.L48
 845              	.LVL89:
 846              	.L46:
 325:Core/Src/RC522.c ****                 if ( ucN == 0 )
 847              		.loc 1 325 21 is_stmt 1 view .LVU201
 325:Core/Src/RC522.c ****                 if ( ucN == 0 )
 848              		.loc 1 325 40 is_stmt 0 view .LVU202
 849 00f4 F300     		lsls	r3, r6, #3
 325:Core/Src/RC522.c ****                 if ( ucN == 0 )
 850              		.loc 1 325 34 view .LVU203
 851 00f6 089A     		ldr	r2, [sp, #32]
 852 00f8 1360     		str	r3, [r2]
 853 00fa F6E7     		b	.L47
 854              	.L56:
 327:Core/Src/RC522.c ****                 if ( ucN > MAXRLEN )
 855              		.loc 1 327 25 view .LVU204
 856 00fc 0126     		movs	r6, #1
 857              	.LVL90:
 858              	.L48:
 330:Core/Src/RC522.c ****                     pOutData [ ul ] = ReadRawRC ( FIFODataReg );
 859              		.loc 1 330 17 is_stmt 1 view .LVU205
 330:Core/Src/RC522.c ****                     pOutData [ ul ] = ReadRawRC ( FIFODataReg );
 860              		.loc 1 330 26 is_stmt 0 view .LVU206
 861 00fe 0025     		movs	r5, #0
 862              	.LVL91:
 863              	.L49:
 330:Core/Src/RC522.c ****                     pOutData [ ul ] = ReadRawRC ( FIFODataReg );
 864              		.loc 1 330 31 is_stmt 1 discriminator 1 view .LVU207
ARM GAS  /tmp/ccP8Hb0i.s 			page 30


 330:Core/Src/RC522.c ****                     pOutData [ ul ] = ReadRawRC ( FIFODataReg );
 865              		.loc 1 330 17 is_stmt 0 discriminator 1 view .LVU208
 866 0100 AE42     		cmp	r6, r5
 867 0102 C5D9     		bls	.L44
 331:Core/Src/RC522.c ****             }
 868              		.loc 1 331 21 is_stmt 1 discriminator 3 view .LVU209
 331:Core/Src/RC522.c ****             }
 869              		.loc 1 331 39 is_stmt 0 discriminator 3 view .LVU210
 870 0104 0920     		movs	r0, #9
 871 0106 FFF7FEFF 		bl	ReadRawRC
 872              	.LVL92:
 331:Core/Src/RC522.c ****             }
 873              		.loc 1 331 37 discriminator 3 view .LVU211
 874 010a 09F80500 		strb	r0, [r9, r5]
 330:Core/Src/RC522.c ****                     pOutData [ ul ] = ReadRawRC ( FIFODataReg );
 875              		.loc 1 330 41 is_stmt 1 discriminator 3 view .LVU212
 330:Core/Src/RC522.c ****                     pOutData [ ul ] = ReadRawRC ( FIFODataReg );
 876              		.loc 1 330 44 is_stmt 0 discriminator 3 view .LVU213
 877 010e 0135     		adds	r5, r5, #1
 878              	.LVL93:
 330:Core/Src/RC522.c ****                     pOutData [ ul ] = ReadRawRC ( FIFODataReg );
 879              		.loc 1 330 44 discriminator 3 view .LVU214
 880 0110 F6E7     		b	.L49
 881              	.LVL94:
 882              	.L54:
 335:Core/Src/RC522.c ****     // printf(ErrorReg);
 883              		.loc 1 335 21 view .LVU215
 884 0112 0224     		movs	r4, #2
 885 0114 BCE7     		b	.L44
 886              		.cfi_endproc
 887              	.LFE72:
 889              		.section	.text.PcdAuthState,"ax",%progbits
 890              		.align	1
 891              		.global	PcdAuthState
 892              		.syntax unified
 893              		.thumb
 894              		.thumb_func
 895              		.fpu softvfp
 897              	PcdAuthState:
 898              	.LVL95:
 899              	.LFB76:
 450:Core/Src/RC522.c ****     char cStatus;
 900              		.loc 1 450 1 is_stmt 1 view -0
 901              		.cfi_startproc
 902              		@ args = 0, pretend = 0, frame = 24
 903              		@ frame_needed = 0, uses_anonymous_args = 0
 450:Core/Src/RC522.c ****     char cStatus;
 904              		.loc 1 450 1 is_stmt 0 view .LVU217
 905 0000 10B5     		push	{r4, lr}
 906              	.LCFI15:
 907              		.cfi_def_cfa_offset 8
 908              		.cfi_offset 4, -8
 909              		.cfi_offset 14, -4
 910 0002 88B0     		sub	sp, sp, #32
 911              	.LCFI16:
 912              		.cfi_def_cfa_offset 40
 451:Core/Src/RC522.c ****     uint8_t uc, ucComMF522Buf [ MAXRLEN ];
ARM GAS  /tmp/ccP8Hb0i.s 			page 31


 913              		.loc 1 451 5 is_stmt 1 view .LVU218
 452:Core/Src/RC522.c ****     uint32_t ulLen;
 914              		.loc 1 452 5 view .LVU219
 453:Core/Src/RC522.c **** 
 915              		.loc 1 453 5 view .LVU220
 455:Core/Src/RC522.c ****     ucComMF522Buf [ 1 ] = ucAddr;
 916              		.loc 1 455 5 view .LVU221
 455:Core/Src/RC522.c ****     ucComMF522Buf [ 1 ] = ucAddr;
 917              		.loc 1 455 25 is_stmt 0 view .LVU222
 918 0004 8DF80C00 		strb	r0, [sp, #12]
 456:Core/Src/RC522.c **** 
 919              		.loc 1 456 5 is_stmt 1 view .LVU223
 456:Core/Src/RC522.c **** 
 920              		.loc 1 456 25 is_stmt 0 view .LVU224
 921 0008 8DF80D10 		strb	r1, [sp, #13]
 458:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 2 ] = * ( pKey + uc );
 922              		.loc 1 458 5 is_stmt 1 view .LVU225
 923              	.LVL96:
 458:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 2 ] = * ( pKey + uc );
 924              		.loc 1 458 14 is_stmt 0 view .LVU226
 925 000c 0021     		movs	r1, #0
 926              	.LVL97:
 458:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 2 ] = * ( pKey + uc );
 927              		.loc 1 458 5 view .LVU227
 928 000e 08E0     		b	.L62
 929              	.LVL98:
 930              	.L63:
 459:Core/Src/RC522.c **** 
 931              		.loc 1 459 9 is_stmt 1 discriminator 3 view .LVU228
 459:Core/Src/RC522.c **** 
 932              		.loc 1 459 28 is_stmt 0 discriminator 3 view .LVU229
 933 0010 881C     		adds	r0, r1, #2
 459:Core/Src/RC522.c **** 
 934              		.loc 1 459 36 discriminator 3 view .LVU230
 935 0012 12F801C0 		ldrb	ip, [r2, r1]	@ zero_extendqisi2
 459:Core/Src/RC522.c **** 
 936              		.loc 1 459 34 discriminator 3 view .LVU231
 937 0016 08AC     		add	r4, sp, #32
 938 0018 2044     		add	r0, r0, r4
 939 001a 00F814CC 		strb	ip, [r0, #-20]
 458:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 2 ] = * ( pKey + uc );
 940              		.loc 1 458 27 is_stmt 1 discriminator 3 view .LVU232
 458:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 2 ] = * ( pKey + uc );
 941              		.loc 1 458 30 is_stmt 0 discriminator 3 view .LVU233
 942 001e 0131     		adds	r1, r1, #1
 943              	.LVL99:
 458:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 2 ] = * ( pKey + uc );
 944              		.loc 1 458 30 discriminator 3 view .LVU234
 945 0020 C9B2     		uxtb	r1, r1
 946              	.LVL100:
 947              	.L62:
 458:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 2 ] = * ( pKey + uc );
 948              		.loc 1 458 19 is_stmt 1 discriminator 1 view .LVU235
 458:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 2 ] = * ( pKey + uc );
 949              		.loc 1 458 5 is_stmt 0 discriminator 1 view .LVU236
 950 0022 0529     		cmp	r1, #5
 951 0024 F4D9     		bls	.L63
ARM GAS  /tmp/ccP8Hb0i.s 			page 32


 461:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 8 ] = * ( pSnr + uc );
 952              		.loc 1 461 14 view .LVU237
 953 0026 0022     		movs	r2, #0
 954              	.LVL101:
 461:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 8 ] = * ( pSnr + uc );
 955              		.loc 1 461 14 view .LVU238
 956 0028 08E0     		b	.L64
 957              	.LVL102:
 958              	.L65:
 462:Core/Src/RC522.c **** 
 959              		.loc 1 462 9 is_stmt 1 discriminator 3 view .LVU239
 462:Core/Src/RC522.c **** 
 960              		.loc 1 462 28 is_stmt 0 discriminator 3 view .LVU240
 961 002a 02F10801 		add	r1, r2, #8
 462:Core/Src/RC522.c **** 
 962              		.loc 1 462 36 discriminator 3 view .LVU241
 963 002e 985C     		ldrb	r0, [r3, r2]	@ zero_extendqisi2
 462:Core/Src/RC522.c **** 
 964              		.loc 1 462 34 discriminator 3 view .LVU242
 965 0030 08AC     		add	r4, sp, #32
 966 0032 2144     		add	r1, r1, r4
 967 0034 01F8140C 		strb	r0, [r1, #-20]
 461:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 8 ] = * ( pSnr + uc );
 968              		.loc 1 461 27 is_stmt 1 discriminator 3 view .LVU243
 461:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 8 ] = * ( pSnr + uc );
 969              		.loc 1 461 30 is_stmt 0 discriminator 3 view .LVU244
 970 0038 0132     		adds	r2, r2, #1
 971              	.LVL103:
 461:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 8 ] = * ( pSnr + uc );
 972              		.loc 1 461 30 discriminator 3 view .LVU245
 973 003a D2B2     		uxtb	r2, r2
 974              	.LVL104:
 975              	.L64:
 461:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 8 ] = * ( pSnr + uc );
 976              		.loc 1 461 19 is_stmt 1 discriminator 1 view .LVU246
 461:Core/Src/RC522.c ****         ucComMF522Buf [ uc + 8 ] = * ( pSnr + uc );
 977              		.loc 1 461 5 is_stmt 0 discriminator 1 view .LVU247
 978 003c 052A     		cmp	r2, #5
 979 003e F4D9     		bls	.L65
 465:Core/Src/RC522.c **** 
 980              		.loc 1 465 5 is_stmt 1 view .LVU248
 465:Core/Src/RC522.c **** 
 981              		.loc 1 465 15 is_stmt 0 view .LVU249
 982 0040 02AB     		add	r3, sp, #8
 983              	.LVL105:
 465:Core/Src/RC522.c **** 
 984              		.loc 1 465 15 view .LVU250
 985 0042 0093     		str	r3, [sp]
 986 0044 03AB     		add	r3, sp, #12
 987 0046 0C22     		movs	r2, #12
 988              	.LVL106:
 465:Core/Src/RC522.c **** 
 989              		.loc 1 465 15 view .LVU251
 990 0048 1946     		mov	r1, r3
 991 004a 0E20     		movs	r0, #14
 992 004c FFF7FEFF 		bl	PcdComMF522
 993              	.LVL107:
ARM GAS  /tmp/ccP8Hb0i.s 			page 33


 467:Core/Src/RC522.c ****     {
 994              		.loc 1 467 5 is_stmt 1 view .LVU252
 467:Core/Src/RC522.c ****     {
 995              		.loc 1 467 8 is_stmt 0 view .LVU253
 996 0050 0446     		mov	r4, r0
 997 0052 18B1     		cbz	r0, .L70
 469:Core/Src/RC522.c ****     }
 998              		.loc 1 469 17 view .LVU254
 999 0054 0224     		movs	r4, #2
 1000              	.LVL108:
 1001              	.L66:
 471:Core/Src/RC522.c **** }
 1002              		.loc 1 471 5 is_stmt 1 view .LVU255
 472:Core/Src/RC522.c **** 
 1003              		.loc 1 472 1 is_stmt 0 view .LVU256
 1004 0056 2046     		mov	r0, r4
 1005 0058 08B0     		add	sp, sp, #32
 1006              	.LCFI17:
 1007              		.cfi_remember_state
 1008              		.cfi_def_cfa_offset 8
 1009              		@ sp needed
 1010 005a 10BD     		pop	{r4, pc}
 1011              	.LVL109:
 1012              	.L70:
 1013              	.LCFI18:
 1014              		.cfi_restore_state
 467:Core/Src/RC522.c ****     {
 1015              		.loc 1 467 40 discriminator 1 view .LVU257
 1016 005c 0820     		movs	r0, #8
 1017              	.LVL110:
 467:Core/Src/RC522.c ****     {
 1018              		.loc 1 467 40 discriminator 1 view .LVU258
 1019 005e FFF7FEFF 		bl	ReadRawRC
 1020              	.LVL111:
 467:Core/Src/RC522.c ****     {
 1021              		.loc 1 467 31 discriminator 1 view .LVU259
 1022 0062 10F0080F 		tst	r0, #8
 1023 0066 F6D1     		bne	.L66
 469:Core/Src/RC522.c ****     }
 1024              		.loc 1 469 17 view .LVU260
 1025 0068 0224     		movs	r4, #2
 1026 006a F4E7     		b	.L66
 1027              		.cfi_endproc
 1028              	.LFE76:
 1030              		.section	.text.PcdRequest,"ax",%progbits
 1031              		.align	1
 1032              		.global	PcdRequest
 1033              		.syntax unified
 1034              		.thumb
 1035              		.thumb_func
 1036              		.fpu softvfp
 1038              	PcdRequest:
 1039              	.LVL112:
 1040              	.LFB71:
 235:Core/Src/RC522.c ****     char cStatus;
 1041              		.loc 1 235 1 is_stmt 1 view -0
 1042              		.cfi_startproc
ARM GAS  /tmp/ccP8Hb0i.s 			page 34


 1043              		@ args = 0, pretend = 0, frame = 24
 1044              		@ frame_needed = 0, uses_anonymous_args = 0
 235:Core/Src/RC522.c ****     char cStatus;
 1045              		.loc 1 235 1 is_stmt 0 view .LVU262
 1046 0000 30B5     		push	{r4, r5, lr}
 1047              	.LCFI19:
 1048              		.cfi_def_cfa_offset 12
 1049              		.cfi_offset 4, -12
 1050              		.cfi_offset 5, -8
 1051              		.cfi_offset 14, -4
 1052 0002 89B0     		sub	sp, sp, #36
 1053              	.LCFI20:
 1054              		.cfi_def_cfa_offset 48
 1055 0004 0446     		mov	r4, r0
 1056 0006 0D46     		mov	r5, r1
 236:Core/Src/RC522.c ****     uint8_t ucComMF522Buf [MAXRLEN];
 1057              		.loc 1 236 5 is_stmt 1 view .LVU263
 237:Core/Src/RC522.c ****     uint32_t ulLen;
 1058              		.loc 1 237 5 view .LVU264
 238:Core/Src/RC522.c **** 
 1059              		.loc 1 238 5 view .LVU265
 240:Core/Src/RC522.c ****     WriteRawRC ( BitFramingReg, 0x07 );	//	å‘é€çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„ ä¸ƒä½
 1060              		.loc 1 240 5 view .LVU266
 1061 0008 0821     		movs	r1, #8
 1062              	.LVL113:
 240:Core/Src/RC522.c ****     WriteRawRC ( BitFramingReg, 0x07 );	//	å‘é€çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„ ä¸ƒä½
 1063              		.loc 1 240 5 is_stmt 0 view .LVU267
 1064 000a 0846     		mov	r0, r1
 1065              	.LVL114:
 240:Core/Src/RC522.c ****     WriteRawRC ( BitFramingReg, 0x07 );	//	å‘é€çš„æœ€åä¸€ä¸ªå­—èŠ‚çš„ ä¸ƒä½
 1066              		.loc 1 240 5 view .LVU268
 1067 000c FFF7FEFF 		bl	ClearBitMask
 1068              	.LVL115:
 241:Core/Src/RC522.c ****     SetBitMask ( TxControlReg, 0x03 );	//TX1,TX2ç®¡è„šçš„è¾“å‡ºä¿¡å·ä¼ é€’ç»å‘é€è°ƒåˆ¶çš„13.56ç
 1069              		.loc 1 241 5 is_stmt 1 view .LVU269
 1070 0010 0721     		movs	r1, #7
 1071 0012 0D20     		movs	r0, #13
 1072 0014 FFF7FEFF 		bl	WriteRawRC
 1073              	.LVL116:
 242:Core/Src/RC522.c **** 
 1074              		.loc 1 242 5 view .LVU270
 1075 0018 0321     		movs	r1, #3
 1076 001a 1420     		movs	r0, #20
 1077 001c FFF7FEFF 		bl	SetBitMask
 1078              	.LVL117:
 244:Core/Src/RC522.c **** 
 1079              		.loc 1 244 5 view .LVU271
 244:Core/Src/RC522.c **** 
 1080              		.loc 1 244 23 is_stmt 0 view .LVU272
 1081 0020 8DF80C40 		strb	r4, [sp, #12]
 246:Core/Src/RC522.c ****     
 1082              		.loc 1 246 5 is_stmt 1 view .LVU273
 246:Core/Src/RC522.c ****     
 1083              		.loc 1 246 15 is_stmt 0 view .LVU274
 1084 0024 02AB     		add	r3, sp, #8
 1085 0026 0093     		str	r3, [sp]
 1086 0028 03AB     		add	r3, sp, #12
ARM GAS  /tmp/ccP8Hb0i.s 			page 35


 1087 002a 0122     		movs	r2, #1
 1088 002c 1946     		mov	r1, r3
 1089 002e 0C20     		movs	r0, #12
 1090 0030 FFF7FEFF 		bl	PcdComMF522
 1091              	.LVL118:
 248:Core/Src/RC522.c ****     {
 1092              		.loc 1 248 5 is_stmt 1 view .LVU275
 248:Core/Src/RC522.c ****     {
 1093              		.loc 1 248 8 is_stmt 0 view .LVU276
 1094 0034 58B9     		cbnz	r0, .L73
 248:Core/Src/RC522.c ****     {
 1095              		.loc 1 248 42 discriminator 1 view .LVU277
 1096 0036 029B     		ldr	r3, [sp, #8]
 248:Core/Src/RC522.c ****     {
 1097              		.loc 1 248 31 discriminator 1 view .LVU278
 1098 0038 102B     		cmp	r3, #16
 1099 003a 01D0     		beq	.L76
 254:Core/Src/RC522.c **** 
 1100              		.loc 1 254 17 view .LVU279
 1101 003c 0220     		movs	r0, #2
 1102 003e 07E0     		b	.L72
 1103              	.L76:
 250:Core/Src/RC522.c ****         * ( pTagType + 1 ) = ucComMF522Buf [ 1 ];
 1104              		.loc 1 250 9 is_stmt 1 view .LVU280
 250:Core/Src/RC522.c ****         * ( pTagType + 1 ) = ucComMF522Buf [ 1 ];
 1105              		.loc 1 250 36 is_stmt 0 view .LVU281
 1106 0040 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
 250:Core/Src/RC522.c ****         * ( pTagType + 1 ) = ucComMF522Buf [ 1 ];
 1107              		.loc 1 250 20 view .LVU282
 1108 0044 2B70     		strb	r3, [r5]
 251:Core/Src/RC522.c ****     }
 1109              		.loc 1 251 9 is_stmt 1 view .LVU283
 251:Core/Src/RC522.c ****     }
 1110              		.loc 1 251 44 is_stmt 0 view .LVU284
 1111 0046 9DF80D30 		ldrb	r3, [sp, #13]	@ zero_extendqisi2
 251:Core/Src/RC522.c ****     }
 1112              		.loc 1 251 28 view .LVU285
 1113 004a 6B70     		strb	r3, [r5, #1]
 1114 004c 00E0     		b	.L72
 1115              	.L73:
 254:Core/Src/RC522.c **** 
 1116              		.loc 1 254 17 view .LVU286
 1117 004e 0220     		movs	r0, #2
 1118              	.L72:
 1119              	.LVL119:
 256:Core/Src/RC522.c **** }
 1120              		.loc 1 256 5 is_stmt 1 view .LVU287
 257:Core/Src/RC522.c **** /*
 1121              		.loc 1 257 1 is_stmt 0 view .LVU288
 1122 0050 09B0     		add	sp, sp, #36
 1123              	.LCFI21:
 1124              		.cfi_def_cfa_offset 12
 1125              		@ sp needed
 1126 0052 30BD     		pop	{r4, r5, pc}
 257:Core/Src/RC522.c **** /*
 1127              		.loc 1 257 1 view .LVU289
 1128              		.cfi_endproc
ARM GAS  /tmp/ccP8Hb0i.s 			page 36


 1129              	.LFE71:
 1131              		.section	.text.PcdAnticoll,"ax",%progbits
 1132              		.align	1
 1133              		.global	PcdAnticoll
 1134              		.syntax unified
 1135              		.thumb
 1136              		.thumb_func
 1137              		.fpu softvfp
 1139              	PcdAnticoll:
 1140              	.LVL120:
 1141              	.LFB73:
 349:Core/Src/RC522.c ****     char cStatus;
 1142              		.loc 1 349 1 is_stmt 1 view -0
 1143              		.cfi_startproc
 1144              		@ args = 0, pretend = 0, frame = 24
 1145              		@ frame_needed = 0, uses_anonymous_args = 0
 349:Core/Src/RC522.c ****     char cStatus;
 1146              		.loc 1 349 1 is_stmt 0 view .LVU291
 1147 0000 30B5     		push	{r4, r5, lr}
 1148              	.LCFI22:
 1149              		.cfi_def_cfa_offset 12
 1150              		.cfi_offset 4, -12
 1151              		.cfi_offset 5, -8
 1152              		.cfi_offset 14, -4
 1153 0002 89B0     		sub	sp, sp, #36
 1154              	.LCFI23:
 1155              		.cfi_def_cfa_offset 48
 1156 0004 0446     		mov	r4, r0
 350:Core/Src/RC522.c ****     uint8_t uc, ucSnr_check = 0;
 1157              		.loc 1 350 5 is_stmt 1 view .LVU292
 351:Core/Src/RC522.c ****     uint8_t ucComMF522Buf [ MAXRLEN ];
 1158              		.loc 1 351 5 view .LVU293
 1159              	.LVL121:
 352:Core/Src/RC522.c ****     uint32_t ulLen;
 1160              		.loc 1 352 5 view .LVU294
 353:Core/Src/RC522.c **** 
 1161              		.loc 1 353 5 view .LVU295
 355:Core/Src/RC522.c ****     WriteRawRC ( BitFramingReg, 0x00);		//æ¸…ç†å¯„å­˜å™¨ åœæ­¢æ”¶å‘
 1162              		.loc 1 355 5 view .LVU296
 1163 0006 0821     		movs	r1, #8
 1164 0008 0846     		mov	r0, r1
 1165              	.LVL122:
 355:Core/Src/RC522.c ****     WriteRawRC ( BitFramingReg, 0x00);		//æ¸…ç†å¯„å­˜å™¨ åœæ­¢æ”¶å‘
 1166              		.loc 1 355 5 is_stmt 0 view .LVU297
 1167 000a FFF7FEFF 		bl	ClearBitMask
 1168              	.LVL123:
 356:Core/Src/RC522.c ****     ClearBitMask ( CollReg, 0x80 );			//æ¸…ValuesAfterCollæ‰€æœ‰æ¥æ”¶çš„ä½åœ¨å†²çªåè¢«æ¸…é™¤
 1169              		.loc 1 356 5 is_stmt 1 view .LVU298
 1170 000e 0021     		movs	r1, #0
 1171 0010 0D20     		movs	r0, #13
 1172 0012 FFF7FEFF 		bl	WriteRawRC
 1173              	.LVL124:
 357:Core/Src/RC522.c **** 
 1174              		.loc 1 357 5 view .LVU299
 1175 0016 8021     		movs	r1, #128
 1176 0018 0E20     		movs	r0, #14
 1177 001a FFF7FEFF 		bl	ClearBitMask
ARM GAS  /tmp/ccP8Hb0i.s 			page 37


 1178              	.LVL125:
 365:Core/Src/RC522.c ****     ucComMF522Buf [ 1 ] = 0x20;
 1179              		.loc 1 365 5 view .LVU300
 365:Core/Src/RC522.c ****     ucComMF522Buf [ 1 ] = 0x20;
 1180              		.loc 1 365 25 is_stmt 0 view .LVU301
 1181 001e 9323     		movs	r3, #147
 1182 0020 8DF80C30 		strb	r3, [sp, #12]
 366:Core/Src/RC522.c **** 
 1183              		.loc 1 366 5 is_stmt 1 view .LVU302
 366:Core/Src/RC522.c **** 
 1184              		.loc 1 366 25 is_stmt 0 view .LVU303
 1185 0024 2023     		movs	r3, #32
 1186 0026 8DF80D30 		strb	r3, [sp, #13]
 369:Core/Src/RC522.c **** 
 1187              		.loc 1 369 5 is_stmt 1 view .LVU304
 369:Core/Src/RC522.c **** 
 1188              		.loc 1 369 15 is_stmt 0 view .LVU305
 1189 002a 02AB     		add	r3, sp, #8
 1190 002c 0093     		str	r3, [sp]
 1191 002e 03AB     		add	r3, sp, #12
 1192 0030 0222     		movs	r2, #2
 1193 0032 1946     		mov	r1, r3
 1194 0034 0C20     		movs	r0, #12
 1195 0036 FFF7FEFF 		bl	PcdComMF522
 1196              	.LVL126:
 371:Core/Src/RC522.c ****     {
 1197              		.loc 1 371 5 is_stmt 1 view .LVU306
 371:Core/Src/RC522.c ****     {
 1198              		.loc 1 371 8 is_stmt 0 view .LVU307
 1199 003a 0546     		mov	r5, r0
 1200 003c C8B1     		cbz	r0, .L81
 1201              	.LVL127:
 1202              	.L79:
 383:Core/Src/RC522.c ****     return cStatus;
 1203              		.loc 1 383 5 is_stmt 1 view .LVU308
 1204 003e 8021     		movs	r1, #128
 1205 0040 0E20     		movs	r0, #14
 1206 0042 FFF7FEFF 		bl	SetBitMask
 1207              	.LVL128:
 384:Core/Src/RC522.c **** }
 1208              		.loc 1 384 5 view .LVU309
 385:Core/Src/RC522.c **** 
 1209              		.loc 1 385 1 is_stmt 0 view .LVU310
 1210 0046 2846     		mov	r0, r5
 1211 0048 09B0     		add	sp, sp, #36
 1212              	.LCFI24:
 1213              		.cfi_remember_state
 1214              		.cfi_def_cfa_offset 12
 1215              		@ sp needed
 1216 004a 30BD     		pop	{r4, r5, pc}
 1217              	.LVL129:
 1218              	.L80:
 1219              	.LCFI25:
 1220              		.cfi_restore_state
 377:Core/Src/RC522.c ****             ucSnr_check ^= ucComMF522Buf [ uc ];
 1221              		.loc 1 377 13 is_stmt 1 discriminator 3 view .LVU311
 377:Core/Src/RC522.c ****             ucSnr_check ^= ucComMF522Buf [ uc ];
ARM GAS  /tmp/ccP8Hb0i.s 			page 38


 1222              		.loc 1 377 46 is_stmt 0 discriminator 3 view .LVU312
 1223 004c 08A9     		add	r1, sp, #32
 1224 004e 1944     		add	r1, r1, r3
 1225 0050 11F8141C 		ldrb	r1, [r1, #-20]	@ zero_extendqisi2
 377:Core/Src/RC522.c ****             ucSnr_check ^= ucComMF522Buf [ uc ];
 1226              		.loc 1 377 30 discriminator 3 view .LVU313
 1227 0054 E154     		strb	r1, [r4, r3]
 378:Core/Src/RC522.c ****         }
 1228              		.loc 1 378 13 is_stmt 1 discriminator 3 view .LVU314
 378:Core/Src/RC522.c ****         }
 1229              		.loc 1 378 25 is_stmt 0 discriminator 3 view .LVU315
 1230 0056 4A40     		eors	r2, r2, r1
 1231              	.LVL130:
 378:Core/Src/RC522.c ****         }
 1232              		.loc 1 378 25 discriminator 3 view .LVU316
 1233 0058 D2B2     		uxtb	r2, r2
 1234              	.LVL131:
 375:Core/Src/RC522.c ****         {
 1235              		.loc 1 375 31 is_stmt 1 discriminator 3 view .LVU317
 375:Core/Src/RC522.c ****         {
 1236              		.loc 1 375 34 is_stmt 0 discriminator 3 view .LVU318
 1237 005a 0133     		adds	r3, r3, #1
 1238              	.LVL132:
 375:Core/Src/RC522.c ****         {
 1239              		.loc 1 375 34 discriminator 3 view .LVU319
 1240 005c DBB2     		uxtb	r3, r3
 1241              	.LVL133:
 1242              	.L78:
 375:Core/Src/RC522.c ****         {
 1243              		.loc 1 375 23 is_stmt 1 discriminator 1 view .LVU320
 375:Core/Src/RC522.c ****         {
 1244              		.loc 1 375 9 is_stmt 0 discriminator 1 view .LVU321
 1245 005e 032B     		cmp	r3, #3
 1246 0060 F4D9     		bls	.L80
 380:Core/Src/RC522.c ****             cStatus = MI_ERR;
 1247              		.loc 1 380 9 is_stmt 1 view .LVU322
 380:Core/Src/RC522.c ****             cStatus = MI_ERR;
 1248              		.loc 1 380 43 is_stmt 0 view .LVU323
 1249 0062 08A9     		add	r1, sp, #32
 1250 0064 0B44     		add	r3, r3, r1
 1251              	.LVL134:
 380:Core/Src/RC522.c ****             cStatus = MI_ERR;
 1252              		.loc 1 380 43 view .LVU324
 1253 0066 13F8143C 		ldrb	r3, [r3, #-20]	@ zero_extendqisi2
 380:Core/Src/RC522.c ****             cStatus = MI_ERR;
 1254              		.loc 1 380 12 view .LVU325
 1255 006a 9342     		cmp	r3, r2
 1256 006c E7D0     		beq	.L79
 381:Core/Src/RC522.c ****     }
 1257              		.loc 1 381 21 view .LVU326
 1258 006e 0225     		movs	r5, #2
 1259 0070 E5E7     		b	.L79
 1260              	.LVL135:
 1261              	.L81:
 351:Core/Src/RC522.c ****     uint8_t ucComMF522Buf [ MAXRLEN ];
 1262              		.loc 1 351 17 view .LVU327
 1263 0072 0246     		mov	r2, r0
ARM GAS  /tmp/ccP8Hb0i.s 			page 39


 375:Core/Src/RC522.c ****         {
 1264              		.loc 1 375 18 view .LVU328
 1265 0074 0346     		mov	r3, r0
 1266 0076 F2E7     		b	.L78
 1267              		.cfi_endproc
 1268              	.LFE73:
 1270              		.section	.text.CalulateCRC,"ax",%progbits
 1271              		.align	1
 1272              		.global	CalulateCRC
 1273              		.syntax unified
 1274              		.thumb
 1275              		.thumb_func
 1276              		.fpu softvfp
 1278              	CalulateCRC:
 1279              	.LVL136:
 1280              	.LFB77:
 482:Core/Src/RC522.c ****     uint8_t uc, ucN;
 1281              		.loc 1 482 1 is_stmt 1 view -0
 1282              		.cfi_startproc
 1283              		@ args = 0, pretend = 0, frame = 0
 1284              		@ frame_needed = 0, uses_anonymous_args = 0
 482:Core/Src/RC522.c ****     uint8_t uc, ucN;
 1285              		.loc 1 482 1 is_stmt 0 view .LVU330
 1286 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1287              	.LCFI26:
 1288              		.cfi_def_cfa_offset 24
 1289              		.cfi_offset 3, -24
 1290              		.cfi_offset 4, -20
 1291              		.cfi_offset 5, -16
 1292              		.cfi_offset 6, -12
 1293              		.cfi_offset 7, -8
 1294              		.cfi_offset 14, -4
 1295 0002 0746     		mov	r7, r0
 1296 0004 0D46     		mov	r5, r1
 1297 0006 1646     		mov	r6, r2
 483:Core/Src/RC522.c **** 
 1298              		.loc 1 483 5 is_stmt 1 view .LVU331
 485:Core/Src/RC522.c **** 	
 1299              		.loc 1 485 5 view .LVU332
 1300 0008 0421     		movs	r1, #4
 1301              	.LVL137:
 485:Core/Src/RC522.c **** 	
 1302              		.loc 1 485 5 is_stmt 0 view .LVU333
 1303 000a 0520     		movs	r0, #5
 1304              	.LVL138:
 485:Core/Src/RC522.c **** 	
 1305              		.loc 1 485 5 view .LVU334
 1306 000c FFF7FEFF 		bl	ClearBitMask
 1307              	.LVL139:
 487:Core/Src/RC522.c **** 	
 1308              		.loc 1 487 5 is_stmt 1 view .LVU335
 1309 0010 0021     		movs	r1, #0
 1310 0012 0120     		movs	r0, #1
 1311 0014 FFF7FEFF 		bl	WriteRawRC
 1312              	.LVL140:
 489:Core/Src/RC522.c **** 	
 1313              		.loc 1 489 5 view .LVU336
ARM GAS  /tmp/ccP8Hb0i.s 			page 40


 1314 0018 8021     		movs	r1, #128
 1315 001a 0A20     		movs	r0, #10
 1316 001c FFF7FEFF 		bl	SetBitMask
 1317              	.LVL141:
 491:Core/Src/RC522.c **** 	    WriteRawRC ( FIFODataReg, * ( pIndata + uc ) );   
 1318              		.loc 1 491 5 view .LVU337
 491:Core/Src/RC522.c **** 	    WriteRawRC ( FIFODataReg, * ( pIndata + uc ) );   
 1319              		.loc 1 491 14 is_stmt 0 view .LVU338
 1320 0020 0024     		movs	r4, #0
 491:Core/Src/RC522.c **** 	    WriteRawRC ( FIFODataReg, * ( pIndata + uc ) );   
 1321              		.loc 1 491 5 view .LVU339
 1322 0022 05E0     		b	.L85
 1323              	.LVL142:
 1324              	.L86:
 492:Core/Src/RC522.c **** 
 1325              		.loc 1 492 6 is_stmt 1 discriminator 3 view .LVU340
 1326 0024 395D     		ldrb	r1, [r7, r4]	@ zero_extendqisi2
 1327 0026 0920     		movs	r0, #9
 1328 0028 FFF7FEFF 		bl	WriteRawRC
 1329              	.LVL143:
 491:Core/Src/RC522.c **** 	    WriteRawRC ( FIFODataReg, * ( pIndata + uc ) );   
 1330              		.loc 1 491 31 discriminator 3 view .LVU341
 491:Core/Src/RC522.c **** 	    WriteRawRC ( FIFODataReg, * ( pIndata + uc ) );   
 1331              		.loc 1 491 34 is_stmt 0 discriminator 3 view .LVU342
 1332 002c 0134     		adds	r4, r4, #1
 1333              	.LVL144:
 491:Core/Src/RC522.c **** 	    WriteRawRC ( FIFODataReg, * ( pIndata + uc ) );   
 1334              		.loc 1 491 34 discriminator 3 view .LVU343
 1335 002e E4B2     		uxtb	r4, r4
 1336              	.LVL145:
 1337              	.L85:
 491:Core/Src/RC522.c **** 	    WriteRawRC ( FIFODataReg, * ( pIndata + uc ) );   
 1338              		.loc 1 491 19 is_stmt 1 discriminator 1 view .LVU344
 491:Core/Src/RC522.c **** 	    WriteRawRC ( FIFODataReg, * ( pIndata + uc ) );   
 1339              		.loc 1 491 5 is_stmt 0 discriminator 1 view .LVU345
 1340 0030 AC42     		cmp	r4, r5
 1341 0032 F7D3     		bcc	.L86
 494:Core/Src/RC522.c **** 	
 1342              		.loc 1 494 5 is_stmt 1 view .LVU346
 1343 0034 0321     		movs	r1, #3
 1344 0036 0120     		movs	r0, #1
 1345 0038 FFF7FEFF 		bl	WriteRawRC
 1346              	.LVL146:
 496:Core/Src/RC522.c **** 	
 1347              		.loc 1 496 5 view .LVU347
 496:Core/Src/RC522.c **** 	
 1348              		.loc 1 496 8 is_stmt 0 view .LVU348
 1349 003c FF24     		movs	r4, #255
 1350              	.LVL147:
 1351              	.L88:
 498:Core/Src/RC522.c ****     {
 1352              		.loc 1 498 5 is_stmt 1 discriminator 2 view .LVU349
 500:Core/Src/RC522.c ****         uc --;
 1353              		.loc 1 500 9 discriminator 2 view .LVU350
 500:Core/Src/RC522.c ****         uc --;
 1354              		.loc 1 500 15 is_stmt 0 discriminator 2 view .LVU351
 1355 003e 0520     		movs	r0, #5
ARM GAS  /tmp/ccP8Hb0i.s 			page 41


 1356 0040 FFF7FEFF 		bl	ReadRawRC
 1357              	.LVL148:
 501:Core/Src/RC522.c ****     } while ( ( uc != 0 ) && ! ( ucN & 0x04 ) );
 1358              		.loc 1 501 9 is_stmt 1 discriminator 2 view .LVU352
 501:Core/Src/RC522.c ****     } while ( ( uc != 0 ) && ! ( ucN & 0x04 ) );
 1359              		.loc 1 501 12 is_stmt 0 discriminator 2 view .LVU353
 1360 0044 631E     		subs	r3, r4, #1
 1361              	.LVL149:
 502:Core/Src/RC522.c **** 		
 1362              		.loc 1 502 13 is_stmt 1 discriminator 2 view .LVU354
 502:Core/Src/RC522.c **** 		
 1363              		.loc 1 502 5 is_stmt 0 discriminator 2 view .LVU355
 1364 0046 13F0FF04 		ands	r4, r3, #255
 1365 004a 02D0     		beq	.L87
 502:Core/Src/RC522.c **** 		
 1366              		.loc 1 502 27 discriminator 1 view .LVU356
 1367 004c 10F0040F 		tst	r0, #4
 1368 0050 F5D0     		beq	.L88
 1369              	.L87:
 504:Core/Src/RC522.c ****     pOutData [ 1 ] = ReadRawRC ( CRCResultRegM );
 1370              		.loc 1 504 5 is_stmt 1 view .LVU357
 504:Core/Src/RC522.c ****     pOutData [ 1 ] = ReadRawRC ( CRCResultRegM );
 1371              		.loc 1 504 22 is_stmt 0 view .LVU358
 1372 0052 2220     		movs	r0, #34
 1373              	.LVL150:
 504:Core/Src/RC522.c ****     pOutData [ 1 ] = ReadRawRC ( CRCResultRegM );
 1374              		.loc 1 504 22 view .LVU359
 1375 0054 FFF7FEFF 		bl	ReadRawRC
 1376              	.LVL151:
 504:Core/Src/RC522.c ****     pOutData [ 1 ] = ReadRawRC ( CRCResultRegM );
 1377              		.loc 1 504 20 view .LVU360
 1378 0058 3070     		strb	r0, [r6]
 505:Core/Src/RC522.c **** 	
 1379              		.loc 1 505 5 is_stmt 1 view .LVU361
 505:Core/Src/RC522.c **** 	
 1380              		.loc 1 505 22 is_stmt 0 view .LVU362
 1381 005a 2120     		movs	r0, #33
 1382 005c FFF7FEFF 		bl	ReadRawRC
 1383              	.LVL152:
 505:Core/Src/RC522.c **** 	
 1384              		.loc 1 505 20 view .LVU363
 1385 0060 7070     		strb	r0, [r6, #1]
 507:Core/Src/RC522.c **** 
 1386              		.loc 1 507 1 view .LVU364
 1387 0062 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 507:Core/Src/RC522.c **** 
 1388              		.loc 1 507 1 view .LVU365
 1389              		.cfi_endproc
 1390              	.LFE77:
 1392              		.section	.text.PcdRead,"ax",%progbits
 1393              		.align	1
 1394              		.global	PcdRead
 1395              		.syntax unified
 1396              		.thumb
 1397              		.thumb_func
 1398              		.fpu softvfp
 1400              	PcdRead:
ARM GAS  /tmp/ccP8Hb0i.s 			page 42


 1401              	.LVL153:
 1402              	.LFB78:
 516:Core/Src/RC522.c **** 	char cStatus;
 1403              		.loc 1 516 1 is_stmt 1 view -0
 1404              		.cfi_startproc
 1405              		@ args = 0, pretend = 0, frame = 24
 1406              		@ frame_needed = 0, uses_anonymous_args = 0
 516:Core/Src/RC522.c **** 	char cStatus;
 1407              		.loc 1 516 1 is_stmt 0 view .LVU367
 1408 0000 10B5     		push	{r4, lr}
 1409              	.LCFI27:
 1410              		.cfi_def_cfa_offset 8
 1411              		.cfi_offset 4, -8
 1412              		.cfi_offset 14, -4
 1413 0002 88B0     		sub	sp, sp, #32
 1414              	.LCFI28:
 1415              		.cfi_def_cfa_offset 40
 1416 0004 0C46     		mov	r4, r1
 517:Core/Src/RC522.c **** 	uint8_t uc, ucComMF522Buf [ MAXRLEN ]; 
 1417              		.loc 1 517 2 is_stmt 1 view .LVU368
 518:Core/Src/RC522.c **** 	uint32_t ulLen;
 1418              		.loc 1 518 2 view .LVU369
 519:Core/Src/RC522.c **** 	
 1419              		.loc 1 519 2 view .LVU370
 521:Core/Src/RC522.c **** 	ucComMF522Buf [ 1 ] = ucAddr;
 1420              		.loc 1 521 2 view .LVU371
 521:Core/Src/RC522.c **** 	ucComMF522Buf [ 1 ] = ucAddr;
 1421              		.loc 1 521 22 is_stmt 0 view .LVU372
 1422 0006 3023     		movs	r3, #48
 1423 0008 8DF80C30 		strb	r3, [sp, #12]
 522:Core/Src/RC522.c **** 	
 1424              		.loc 1 522 2 is_stmt 1 view .LVU373
 522:Core/Src/RC522.c **** 	
 1425              		.loc 1 522 22 is_stmt 0 view .LVU374
 1426 000c 8DF80D00 		strb	r0, [sp, #13]
 524:Core/Src/RC522.c **** 	
 1427              		.loc 1 524 2 is_stmt 1 view .LVU375
 1428 0010 0DF10E02 		add	r2, sp, #14
 1429 0014 0221     		movs	r1, #2
 1430              	.LVL154:
 524:Core/Src/RC522.c **** 	
 1431              		.loc 1 524 2 is_stmt 0 view .LVU376
 1432 0016 03A8     		add	r0, sp, #12
 1433              	.LVL155:
 524:Core/Src/RC522.c **** 	
 1434              		.loc 1 524 2 view .LVU377
 1435 0018 FFF7FEFF 		bl	CalulateCRC
 1436              	.LVL156:
 526:Core/Src/RC522.c **** 	
 1437              		.loc 1 526 2 is_stmt 1 view .LVU378
 526:Core/Src/RC522.c **** 	
 1438              		.loc 1 526 12 is_stmt 0 view .LVU379
 1439 001c 02AB     		add	r3, sp, #8
 1440 001e 0093     		str	r3, [sp]
 1441 0020 03AB     		add	r3, sp, #12
 1442 0022 0422     		movs	r2, #4
 1443 0024 1946     		mov	r1, r3
ARM GAS  /tmp/ccP8Hb0i.s 			page 43


 1444 0026 0C20     		movs	r0, #12
 1445 0028 FFF7FEFF 		bl	PcdComMF522
 1446              	.LVL157:
 528:Core/Src/RC522.c **** 	{
 1447              		.loc 1 528 2 is_stmt 1 view .LVU380
 528:Core/Src/RC522.c **** 	{
 1448              		.loc 1 528 5 is_stmt 0 view .LVU381
 1449 002c 80B9     		cbnz	r0, .L94
 528:Core/Src/RC522.c **** 	{
 1450              		.loc 1 528 35 discriminator 1 view .LVU382
 1451 002e 029B     		ldr	r3, [sp, #8]
 528:Core/Src/RC522.c **** 	{
 1452              		.loc 1 528 25 discriminator 1 view .LVU383
 1453 0030 902B     		cmp	r3, #144
 1454 0032 0BD0     		beq	.L95
 534:Core/Src/RC522.c **** 	return cStatus;
 1455              		.loc 1 534 11 view .LVU384
 1456 0034 0220     		movs	r0, #2
 1457 0036 0CE0     		b	.L91
 1458              	.LVL158:
 1459              	.L93:
 531:Core/Src/RC522.c **** 	}
 1460              		.loc 1 531 4 is_stmt 1 discriminator 3 view .LVU385
 531:Core/Src/RC522.c **** 	}
 1461              		.loc 1 531 33 is_stmt 0 discriminator 3 view .LVU386
 1462 0038 08AA     		add	r2, sp, #32
 1463 003a 1A44     		add	r2, r2, r3
 1464 003c 12F8142C 		ldrb	r2, [r2, #-20]	@ zero_extendqisi2
 531:Core/Src/RC522.c **** 	}
 1465              		.loc 1 531 18 discriminator 3 view .LVU387
 1466 0040 E254     		strb	r2, [r4, r3]
 530:Core/Src/RC522.c **** 			*(pData + uc) = ucComMF522Buf[uc];   
 1467              		.loc 1 530 25 is_stmt 1 discriminator 3 view .LVU388
 530:Core/Src/RC522.c **** 			*(pData + uc) = ucComMF522Buf[uc];   
 1468              		.loc 1 530 28 is_stmt 0 discriminator 3 view .LVU389
 1469 0042 0133     		adds	r3, r3, #1
 1470              	.LVL159:
 530:Core/Src/RC522.c **** 			*(pData + uc) = ucComMF522Buf[uc];   
 1471              		.loc 1 530 28 discriminator 3 view .LVU390
 1472 0044 DBB2     		uxtb	r3, r3
 1473              	.LVL160:
 1474              	.L92:
 530:Core/Src/RC522.c **** 			*(pData + uc) = ucComMF522Buf[uc];   
 1475              		.loc 1 530 16 is_stmt 1 discriminator 1 view .LVU391
 530:Core/Src/RC522.c **** 			*(pData + uc) = ucComMF522Buf[uc];   
 1476              		.loc 1 530 3 is_stmt 0 discriminator 1 view .LVU392
 1477 0046 0F2B     		cmp	r3, #15
 1478 0048 F6D9     		bls	.L93
 1479 004a 02E0     		b	.L91
 1480              	.LVL161:
 1481              	.L95:
 530:Core/Src/RC522.c **** 			*(pData + uc) = ucComMF522Buf[uc];   
 1482              		.loc 1 530 11 view .LVU393
 1483 004c 0346     		mov	r3, r0
 1484 004e FAE7     		b	.L92
 1485              	.L94:
 534:Core/Src/RC522.c **** 	return cStatus;
ARM GAS  /tmp/ccP8Hb0i.s 			page 44


 1486              		.loc 1 534 11 view .LVU394
 1487 0050 0220     		movs	r0, #2
 1488              	.L91:
 1489              	.LVL162:
 535:Core/Src/RC522.c **** }
 1490              		.loc 1 535 2 is_stmt 1 view .LVU395
 536:Core/Src/RC522.c **** 
 1491              		.loc 1 536 1 is_stmt 0 view .LVU396
 1492 0052 08B0     		add	sp, sp, #32
 1493              	.LCFI29:
 1494              		.cfi_def_cfa_offset 8
 1495              		@ sp needed
 1496 0054 10BD     		pop	{r4, pc}
 536:Core/Src/RC522.c **** 
 1497              		.loc 1 536 1 view .LVU397
 1498              		.cfi_endproc
 1499              	.LFE78:
 1501              		.section	.text.PcdWrite,"ax",%progbits
 1502              		.align	1
 1503              		.global	PcdWrite
 1504              		.syntax unified
 1505              		.thumb
 1506              		.thumb_func
 1507              		.fpu softvfp
 1509              	PcdWrite:
 1510              	.LVL163:
 1511              	.LFB79:
 545:Core/Src/RC522.c **** 	char cStatus;
 1512              		.loc 1 545 1 is_stmt 1 view -0
 1513              		.cfi_startproc
 1514              		@ args = 0, pretend = 0, frame = 24
 1515              		@ frame_needed = 0, uses_anonymous_args = 0
 545:Core/Src/RC522.c **** 	char cStatus;
 1516              		.loc 1 545 1 is_stmt 0 view .LVU399
 1517 0000 10B5     		push	{r4, lr}
 1518              	.LCFI30:
 1519              		.cfi_def_cfa_offset 8
 1520              		.cfi_offset 4, -8
 1521              		.cfi_offset 14, -4
 1522 0002 88B0     		sub	sp, sp, #32
 1523              	.LCFI31:
 1524              		.cfi_def_cfa_offset 40
 1525 0004 0C46     		mov	r4, r1
 546:Core/Src/RC522.c **** 	uint8_t uc, ucComMF522Buf [ MAXRLEN ];
 1526              		.loc 1 546 2 is_stmt 1 view .LVU400
 547:Core/Src/RC522.c **** 	uint32_t ulLen;
 1527              		.loc 1 547 2 view .LVU401
 548:Core/Src/RC522.c **** 	
 1528              		.loc 1 548 2 view .LVU402
 550:Core/Src/RC522.c **** 	ucComMF522Buf [ 1 ] = ucAddr;
 1529              		.loc 1 550 2 view .LVU403
 550:Core/Src/RC522.c **** 	ucComMF522Buf [ 1 ] = ucAddr;
 1530              		.loc 1 550 22 is_stmt 0 view .LVU404
 1531 0006 A023     		movs	r3, #160
 1532 0008 8DF80C30 		strb	r3, [sp, #12]
 551:Core/Src/RC522.c **** 	
 1533              		.loc 1 551 2 is_stmt 1 view .LVU405
ARM GAS  /tmp/ccP8Hb0i.s 			page 45


 551:Core/Src/RC522.c **** 	
 1534              		.loc 1 551 22 is_stmt 0 view .LVU406
 1535 000c 8DF80D00 		strb	r0, [sp, #13]
 553:Core/Src/RC522.c **** 	cStatus = PcdComMF522 ( PCD_TRANSCEIVE, ucComMF522Buf, 4, ucComMF522Buf, & ulLen );
 1536              		.loc 1 553 2 is_stmt 1 view .LVU407
 1537 0010 0DF10E02 		add	r2, sp, #14
 1538 0014 0221     		movs	r1, #2
 1539              	.LVL164:
 553:Core/Src/RC522.c **** 	cStatus = PcdComMF522 ( PCD_TRANSCEIVE, ucComMF522Buf, 4, ucComMF522Buf, & ulLen );
 1540              		.loc 1 553 2 is_stmt 0 view .LVU408
 1541 0016 03A8     		add	r0, sp, #12
 1542              	.LVL165:
 553:Core/Src/RC522.c **** 	cStatus = PcdComMF522 ( PCD_TRANSCEIVE, ucComMF522Buf, 4, ucComMF522Buf, & ulLen );
 1543              		.loc 1 553 2 view .LVU409
 1544 0018 FFF7FEFF 		bl	CalulateCRC
 1545              	.LVL166:
 554:Core/Src/RC522.c **** 	
 1546              		.loc 1 554 2 is_stmt 1 view .LVU410
 554:Core/Src/RC522.c **** 	
 1547              		.loc 1 554 12 is_stmt 0 view .LVU411
 1548 001c 02AB     		add	r3, sp, #8
 1549 001e 0093     		str	r3, [sp]
 1550 0020 03AB     		add	r3, sp, #12
 1551 0022 0422     		movs	r2, #4
 1552 0024 1946     		mov	r1, r3
 1553 0026 0C20     		movs	r0, #12
 1554 0028 FFF7FEFF 		bl	PcdComMF522
 1555              	.LVL167:
 556:Core/Src/RC522.c **** 		cStatus = MI_ERR;   
 1556              		.loc 1 556 2 is_stmt 1 view .LVU412
 556:Core/Src/RC522.c **** 		cStatus = MI_ERR;   
 1557              		.loc 1 556 5 is_stmt 0 view .LVU413
 1558 002c 0028     		cmp	r0, #0
 1559 002e 3ED1     		bne	.L101
 1560 0030 8446     		mov	ip, r0
 556:Core/Src/RC522.c **** 		cStatus = MI_ERR;   
 1561              		.loc 1 556 39 discriminator 1 view .LVU414
 1562 0032 029B     		ldr	r3, [sp, #8]
 556:Core/Src/RC522.c **** 		cStatus = MI_ERR;   
 1563              		.loc 1 556 28 discriminator 1 view .LVU415
 1564 0034 042B     		cmp	r3, #4
 1565 0036 01D0     		beq	.L108
 557:Core/Src/RC522.c **** 	if ( cStatus == MI_OK )
 1566              		.loc 1 557 11 view .LVU416
 1567 0038 0220     		movs	r0, #2
 1568              	.LVL168:
 557:Core/Src/RC522.c **** 	if ( cStatus == MI_OK )
 1569              		.loc 1 557 11 view .LVU417
 1570 003a 39E0     		b	.L98
 1571              	.LVL169:
 1572              	.L108:
 556:Core/Src/RC522.c **** 		cStatus = MI_ERR;   
 1573              		.loc 1 556 67 discriminator 2 view .LVU418
 1574 003c 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
 556:Core/Src/RC522.c **** 		cStatus = MI_ERR;   
 1575              		.loc 1 556 46 discriminator 2 view .LVU419
 1576 0040 03F00F03 		and	r3, r3, #15
ARM GAS  /tmp/ccP8Hb0i.s 			page 46


 1577 0044 0A2B     		cmp	r3, #10
 1578 0046 01D0     		beq	.L109
 557:Core/Src/RC522.c **** 	if ( cStatus == MI_OK )
 1579              		.loc 1 557 11 view .LVU420
 1580 0048 0220     		movs	r0, #2
 1581              	.LVL170:
 557:Core/Src/RC522.c **** 	if ( cStatus == MI_OK )
 1582              		.loc 1 557 11 view .LVU421
 1583 004a 31E0     		b	.L98
 1584              	.LVL171:
 1585              	.L109:
 558:Core/Src/RC522.c **** 	{
 1586              		.loc 1 558 2 is_stmt 1 view .LVU422
 560:Core/Src/RC522.c **** 		for ( uc = 0; uc < 16; uc ++ )
 1587              		.loc 1 560 3 view .LVU423
 1588 004c 0DF10C0E 		add	lr, sp, #12
 1589 0050 2068     		ldr	r0, [r4]	@ unaligned
 1590 0052 6168     		ldr	r1, [r4, #4]	@ unaligned
 1591 0054 A268     		ldr	r2, [r4, #8]	@ unaligned
 1592 0056 E368     		ldr	r3, [r4, #12]	@ unaligned
 1593 0058 AEE80F00 		stmia	lr!, {r0, r1, r2, r3}
 561:Core/Src/RC522.c **** 			ucComMF522Buf [ uc ] = * ( pData + uc );  
 1594              		.loc 1 561 3 view .LVU424
 1595              	.LVL172:
 561:Core/Src/RC522.c **** 			ucComMF522Buf [ uc ] = * ( pData + uc );  
 1596              		.loc 1 561 3 is_stmt 0 view .LVU425
 1597 005c 09E0     		b	.L99
 1598              	.LVL173:
 1599              	.L100:
 562:Core/Src/RC522.c **** 		CalulateCRC ( ucComMF522Buf, 16, & ucComMF522Buf [ 16 ] );
 1600              		.loc 1 562 4 is_stmt 1 discriminator 3 view .LVU426
 562:Core/Src/RC522.c **** 		CalulateCRC ( ucComMF522Buf, 16, & ucComMF522Buf [ 16 ] );
 1601              		.loc 1 562 27 is_stmt 0 discriminator 3 view .LVU427
 1602 005e 14F80C20 		ldrb	r2, [r4, ip]	@ zero_extendqisi2
 562:Core/Src/RC522.c **** 		CalulateCRC ( ucComMF522Buf, 16, & ucComMF522Buf [ 16 ] );
 1603              		.loc 1 562 25 discriminator 3 view .LVU428
 1604 0062 08AB     		add	r3, sp, #32
 1605 0064 6344     		add	r3, r3, ip
 1606 0066 03F8142C 		strb	r2, [r3, #-20]
 561:Core/Src/RC522.c **** 			ucComMF522Buf [ uc ] = * ( pData + uc );  
 1607              		.loc 1 561 26 is_stmt 1 discriminator 3 view .LVU429
 561:Core/Src/RC522.c **** 			ucComMF522Buf [ uc ] = * ( pData + uc );  
 1608              		.loc 1 561 29 is_stmt 0 discriminator 3 view .LVU430
 1609 006a 0CF1010C 		add	ip, ip, #1
 1610              	.LVL174:
 561:Core/Src/RC522.c **** 			ucComMF522Buf [ uc ] = * ( pData + uc );  
 1611              		.loc 1 561 29 discriminator 3 view .LVU431
 1612 006e 5FFA8CFC 		uxtb	ip, ip
 1613              	.LVL175:
 1614              	.L99:
 561:Core/Src/RC522.c **** 			ucComMF522Buf [ uc ] = * ( pData + uc );  
 1615              		.loc 1 561 17 is_stmt 1 discriminator 1 view .LVU432
 561:Core/Src/RC522.c **** 			ucComMF522Buf [ uc ] = * ( pData + uc );  
 1616              		.loc 1 561 3 is_stmt 0 discriminator 1 view .LVU433
 1617 0072 BCF10F0F 		cmp	ip, #15
 1618 0076 F2D9     		bls	.L100
 563:Core/Src/RC522.c **** 		cStatus = PcdComMF522 ( PCD_TRANSCEIVE, ucComMF522Buf, 18, ucComMF522Buf, & ulLen );
ARM GAS  /tmp/ccP8Hb0i.s 			page 47


 1619              		.loc 1 563 3 is_stmt 1 view .LVU434
 1620 0078 07AA     		add	r2, sp, #28
 1621 007a 1021     		movs	r1, #16
 1622 007c 03A8     		add	r0, sp, #12
 1623 007e FFF7FEFF 		bl	CalulateCRC
 1624              	.LVL176:
 564:Core/Src/RC522.c **** 		if (( cStatus != MI_OK ) || ( ulLen != 4 ) || (( ucComMF522Buf [0] & 0x0F ) != 0x0A ))
 1625              		.loc 1 564 3 view .LVU435
 564:Core/Src/RC522.c **** 		if (( cStatus != MI_OK ) || ( ulLen != 4 ) || (( ucComMF522Buf [0] & 0x0F ) != 0x0A ))
 1626              		.loc 1 564 13 is_stmt 0 view .LVU436
 1627 0082 02AB     		add	r3, sp, #8
 1628 0084 0093     		str	r3, [sp]
 1629 0086 03AB     		add	r3, sp, #12
 1630 0088 1222     		movs	r2, #18
 1631 008a 1946     		mov	r1, r3
 1632 008c 0C20     		movs	r0, #12
 1633 008e FFF7FEFF 		bl	PcdComMF522
 1634              	.LVL177:
 565:Core/Src/RC522.c **** 			cStatus = MI_ERR;   
 1635              		.loc 1 565 3 is_stmt 1 view .LVU437
 565:Core/Src/RC522.c **** 			cStatus = MI_ERR;   
 1636              		.loc 1 565 6 is_stmt 0 view .LVU438
 1637 0092 78B9     		cbnz	r0, .L104
 565:Core/Src/RC522.c **** 			cStatus = MI_ERR;   
 1638              		.loc 1 565 39 discriminator 1 view .LVU439
 1639 0094 029B     		ldr	r3, [sp, #8]
 565:Core/Src/RC522.c **** 			cStatus = MI_ERR;   
 1640              		.loc 1 565 28 discriminator 1 view .LVU440
 1641 0096 042B     		cmp	r3, #4
 1642 0098 01D0     		beq	.L110
 566:Core/Src/RC522.c **** 	} 
 1643              		.loc 1 566 12 view .LVU441
 1644 009a 0220     		movs	r0, #2
 1645              	.LVL178:
 566:Core/Src/RC522.c **** 	} 
 1646              		.loc 1 566 12 view .LVU442
 1647 009c 08E0     		b	.L98
 1648              	.LVL179:
 1649              	.L110:
 565:Core/Src/RC522.c **** 			cStatus = MI_ERR;   
 1650              		.loc 1 565 66 discriminator 2 view .LVU443
 1651 009e 9DF80C30 		ldrb	r3, [sp, #12]	@ zero_extendqisi2
 565:Core/Src/RC522.c **** 			cStatus = MI_ERR;   
 1652              		.loc 1 565 46 discriminator 2 view .LVU444
 1653 00a2 03F00F03 		and	r3, r3, #15
 1654 00a6 0A2B     		cmp	r3, #10
 1655 00a8 02D0     		beq	.L98
 566:Core/Src/RC522.c **** 	} 
 1656              		.loc 1 566 12 view .LVU445
 1657 00aa 0220     		movs	r0, #2
 1658              	.LVL180:
 566:Core/Src/RC522.c **** 	} 
 1659              		.loc 1 566 12 view .LVU446
 1660 00ac 00E0     		b	.L98
 1661              	.LVL181:
 1662              	.L101:
 557:Core/Src/RC522.c **** 	if ( cStatus == MI_OK )
ARM GAS  /tmp/ccP8Hb0i.s 			page 48


 1663              		.loc 1 557 11 view .LVU447
 1664 00ae 0220     		movs	r0, #2
 1665              	.LVL182:
 1666              	.L98:
 568:Core/Src/RC522.c **** }
 1667              		.loc 1 568 2 is_stmt 1 view .LVU448
 569:Core/Src/RC522.c **** 
 1668              		.loc 1 569 1 is_stmt 0 view .LVU449
 1669 00b0 08B0     		add	sp, sp, #32
 1670              	.LCFI32:
 1671              		.cfi_remember_state
 1672              		.cfi_def_cfa_offset 8
 1673              		@ sp needed
 1674 00b2 10BD     		pop	{r4, pc}
 1675              	.LVL183:
 1676              	.L104:
 1677              	.LCFI33:
 1678              		.cfi_restore_state
 566:Core/Src/RC522.c **** 	} 
 1679              		.loc 1 566 12 view .LVU450
 1680 00b4 0220     		movs	r0, #2
 1681              	.LVL184:
 566:Core/Src/RC522.c **** 	} 
 1682              		.loc 1 566 12 view .LVU451
 1683 00b6 FBE7     		b	.L98
 1684              		.cfi_endproc
 1685              	.LFE79:
 1687              		.section	.text.PcdSelect,"ax",%progbits
 1688              		.align	1
 1689              		.global	PcdSelect
 1690              		.syntax unified
 1691              		.thumb
 1692              		.thumb_func
 1693              		.fpu softvfp
 1695              	PcdSelect:
 1696              	.LVL185:
 1697              	.LFB75:
 408:Core/Src/RC522.c ****     char cStatus;
 1698              		.loc 1 408 1 is_stmt 1 view -0
 1699              		.cfi_startproc
 1700              		@ args = 0, pretend = 0, frame = 24
 1701              		@ frame_needed = 0, uses_anonymous_args = 0
 408:Core/Src/RC522.c ****     char cStatus;
 1702              		.loc 1 408 1 is_stmt 0 view .LVU453
 1703 0000 00B5     		push	{lr}
 1704              	.LCFI34:
 1705              		.cfi_def_cfa_offset 4
 1706              		.cfi_offset 14, -4
 1707 0002 89B0     		sub	sp, sp, #36
 1708              	.LCFI35:
 1709              		.cfi_def_cfa_offset 40
 409:Core/Src/RC522.c ****     uint8_t uc;
 1710              		.loc 1 409 5 is_stmt 1 view .LVU454
 410:Core/Src/RC522.c ****     uint8_t ucComMF522Buf [ MAXRLEN ];
 1711              		.loc 1 410 5 view .LVU455
 411:Core/Src/RC522.c ****     uint32_t  ulLen;
 1712              		.loc 1 411 5 view .LVU456
ARM GAS  /tmp/ccP8Hb0i.s 			page 49


 412:Core/Src/RC522.c **** 
 1713              		.loc 1 412 5 view .LVU457
 415:Core/Src/RC522.c ****     // å‡è®¾æ²¡æœ‰å†²çªï¼ŒPCD æŒ‡å®šNVBä¸º70ï¼Œæ­¤å€¼è¡¨ç¤ºPCDå°†å‘é€å®Œæ•´çš„UID CLnï¼Œä¸40ä½
 1714              		.loc 1 415 5 view .LVU458
 415:Core/Src/RC522.c ****     // å‡è®¾æ²¡æœ‰å†²çªï¼ŒPCD æŒ‡å®šNVBä¸º70ï¼Œæ­¤å€¼è¡¨ç¤ºPCDå°†å‘é€å®Œæ•´çš„UID CLnï¼Œä¸40ä½
 1715              		.loc 1 415 25 is_stmt 0 view .LVU459
 1716 0004 9323     		movs	r3, #147
 1717 0006 8DF80C30 		strb	r3, [sp, #12]
 417:Core/Src/RC522.c ****     ucComMF522Buf [ 6 ] = 0;
 1718              		.loc 1 417 5 is_stmt 1 view .LVU460
 417:Core/Src/RC522.c ****     ucComMF522Buf [ 6 ] = 0;
 1719              		.loc 1 417 25 is_stmt 0 view .LVU461
 1720 000a 7023     		movs	r3, #112
 1721 000c 8DF80D30 		strb	r3, [sp, #13]
 418:Core/Src/RC522.c **** 
 1722              		.loc 1 418 5 is_stmt 1 view .LVU462
 418:Core/Src/RC522.c **** 
 1723              		.loc 1 418 25 is_stmt 0 view .LVU463
 1724 0010 0023     		movs	r3, #0
 1725 0012 8DF81230 		strb	r3, [sp, #18]
 421:Core/Src/RC522.c ****     {
 1726              		.loc 1 421 5 is_stmt 1 view .LVU464
 1727              	.LVL186:
 421:Core/Src/RC522.c ****     {
 1728              		.loc 1 421 5 is_stmt 0 view .LVU465
 1729 0016 0DE0     		b	.L112
 1730              	.LVL187:
 1731              	.L113:
 423:Core/Src/RC522.c ****         ucComMF522Buf [ 6 ] ^= * ( pSnr + uc );
 1732              		.loc 1 423 9 is_stmt 1 discriminator 3 view .LVU466
 423:Core/Src/RC522.c ****         ucComMF522Buf [ 6 ] ^= * ( pSnr + uc );
 1733              		.loc 1 423 28 is_stmt 0 discriminator 3 view .LVU467
 1734 0018 991C     		adds	r1, r3, #2
 423:Core/Src/RC522.c ****         ucComMF522Buf [ 6 ] ^= * ( pSnr + uc );
 1735              		.loc 1 423 36 discriminator 3 view .LVU468
 1736 001a C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
 423:Core/Src/RC522.c ****         ucComMF522Buf [ 6 ] ^= * ( pSnr + uc );
 1737              		.loc 1 423 34 discriminator 3 view .LVU469
 1738 001c 0DF1200C 		add	ip, sp, #32
 1739 0020 6144     		add	r1, r1, ip
 1740 0022 01F8142C 		strb	r2, [r1, #-20]
 424:Core/Src/RC522.c ****     }
 1741              		.loc 1 424 9 is_stmt 1 discriminator 3 view .LVU470
 424:Core/Src/RC522.c ****     }
 1742              		.loc 1 424 29 is_stmt 0 discriminator 3 view .LVU471
 1743 0026 9DF81210 		ldrb	r1, [sp, #18]	@ zero_extendqisi2
 1744 002a 4A40     		eors	r2, r2, r1
 1745 002c 8DF81220 		strb	r2, [sp, #18]
 421:Core/Src/RC522.c ****     {
 1746              		.loc 1 421 27 is_stmt 1 discriminator 3 view .LVU472
 421:Core/Src/RC522.c ****     {
 1747              		.loc 1 421 30 is_stmt 0 discriminator 3 view .LVU473
 1748 0030 0133     		adds	r3, r3, #1
 1749              	.LVL188:
 421:Core/Src/RC522.c ****     {
 1750              		.loc 1 421 30 discriminator 3 view .LVU474
 1751 0032 DBB2     		uxtb	r3, r3
ARM GAS  /tmp/ccP8Hb0i.s 			page 50


 1752              	.LVL189:
 1753              	.L112:
 421:Core/Src/RC522.c ****     {
 1754              		.loc 1 421 19 is_stmt 1 discriminator 1 view .LVU475
 421:Core/Src/RC522.c ****     {
 1755              		.loc 1 421 5 is_stmt 0 discriminator 1 view .LVU476
 1756 0034 032B     		cmp	r3, #3
 1757 0036 EFD9     		bls	.L113
 428:Core/Src/RC522.c ****     ClearBitMask ( Status2Reg, 0x08 );
 1758              		.loc 1 428 5 is_stmt 1 view .LVU477
 1759 0038 0DF11302 		add	r2, sp, #19
 1760 003c 0721     		movs	r1, #7
 1761 003e 03A8     		add	r0, sp, #12
 1762              	.LVL190:
 428:Core/Src/RC522.c ****     ClearBitMask ( Status2Reg, 0x08 );
 1763              		.loc 1 428 5 is_stmt 0 view .LVU478
 1764 0040 FFF7FEFF 		bl	CalulateCRC
 1765              	.LVL191:
 429:Core/Src/RC522.c ****     // å‘é€å¹¶æ¥æ”¶æ•°æ®
 1766              		.loc 1 429 5 is_stmt 1 view .LVU479
 1767 0044 0821     		movs	r1, #8
 1768 0046 0846     		mov	r0, r1
 1769 0048 FFF7FEFF 		bl	ClearBitMask
 1770              	.LVL192:
 431:Core/Src/RC522.c ****     if ( ( cStatus == MI_OK ) && ( ulLen == 0x18 ) )
 1771              		.loc 1 431 5 view .LVU480
 431:Core/Src/RC522.c ****     if ( ( cStatus == MI_OK ) && ( ulLen == 0x18 ) )
 1772              		.loc 1 431 15 is_stmt 0 view .LVU481
 1773 004c 02AB     		add	r3, sp, #8
 1774 004e 0093     		str	r3, [sp]
 1775 0050 03AB     		add	r3, sp, #12
 1776 0052 0922     		movs	r2, #9
 1777 0054 1946     		mov	r1, r3
 1778 0056 0C20     		movs	r0, #12
 1779 0058 FFF7FEFF 		bl	PcdComMF522
 1780              	.LVL193:
 432:Core/Src/RC522.c ****         cStatus = MI_OK;
 1781              		.loc 1 432 5 is_stmt 1 view .LVU482
 432:Core/Src/RC522.c ****         cStatus = MI_OK;
 1782              		.loc 1 432 8 is_stmt 0 view .LVU483
 1783 005c 20B9     		cbnz	r0, .L115
 432:Core/Src/RC522.c ****         cStatus = MI_OK;
 1784              		.loc 1 432 42 discriminator 1 view .LVU484
 1785 005e 029B     		ldr	r3, [sp, #8]
 432:Core/Src/RC522.c ****         cStatus = MI_OK;
 1786              		.loc 1 432 31 discriminator 1 view .LVU485
 1787 0060 182B     		cmp	r3, #24
 1788 0062 02D0     		beq	.L114
 435:Core/Src/RC522.c ****     return cStatus;
 1789              		.loc 1 435 17 view .LVU486
 1790 0064 0220     		movs	r0, #2
 1791              	.LVL194:
 435:Core/Src/RC522.c ****     return cStatus;
 1792              		.loc 1 435 17 view .LVU487
 1793 0066 00E0     		b	.L114
 1794              	.LVL195:
 1795              	.L115:
ARM GAS  /tmp/ccP8Hb0i.s 			page 51


 435:Core/Src/RC522.c ****     return cStatus;
 1796              		.loc 1 435 17 view .LVU488
 1797 0068 0220     		movs	r0, #2
 1798              	.LVL196:
 1799              	.L114:
 436:Core/Src/RC522.c **** }
 1800              		.loc 1 436 5 is_stmt 1 view .LVU489
 437:Core/Src/RC522.c **** 
 1801              		.loc 1 437 1 is_stmt 0 view .LVU490
 1802 006a 09B0     		add	sp, sp, #36
 1803              	.LCFI36:
 1804              		.cfi_def_cfa_offset 4
 1805              		@ sp needed
 1806 006c 5DF804FB 		ldr	pc, [sp], #4
 1807              		.cfi_endproc
 1808              	.LFE75:
 1810              		.section	.rodata.RC522_Handle1.str1.4,"aMS",%progbits,1
 1811              		.align	2
 1812              	.LC1:
 1813 0000 54686520 		.ascii	"The Card is:card_%d\015\012\000"
 1813      43617264 
 1813      2069733A 
 1813      63617264 
 1813      5F25640D 
 1814 0016 0000     		.align	2
 1815              	.LC2:
 1816 0018 556E6B6F 		.ascii	"Unkown card\357\274\201\015\000"
 1816      776E2063 
 1816      617264EF 
 1816      BC810D00 
 1817              		.align	2
 1818              	.LC3:
 1819 0028 53656C65 		.ascii	"Select Card\015\000"
 1819      63742043 
 1819      6172640D 
 1819      00
 1820              		.section	.text.RC522_Handle1,"ax",%progbits
 1821              		.align	1
 1822              		.global	RC522_Handle1
 1823              		.syntax unified
 1824              		.thumb
 1825              		.thumb_func
 1826              		.fpu softvfp
 1828              	RC522_Handle1:
 1829              	.LFB68:
  39:Core/Src/RC522.c ****     status=MI_ERR;
 1830              		.loc 1 39 25 is_stmt 1 view -0
 1831              		.cfi_startproc
 1832              		@ args = 0, pretend = 0, frame = 0
 1833              		@ frame_needed = 0, uses_anonymous_args = 0
 1834 0000 38B5     		push	{r3, r4, r5, lr}
 1835              	.LCFI37:
 1836              		.cfi_def_cfa_offset 16
 1837              		.cfi_offset 3, -16
 1838              		.cfi_offset 4, -12
 1839              		.cfi_offset 5, -8
 1840              		.cfi_offset 14, -4
ARM GAS  /tmp/ccP8Hb0i.s 			page 52


  40:Core/Src/RC522.c ****     status = PcdRequest(PICC_REQALL, CT);// å¯»å¡ -> æ‰«ææœ‰æ— å¡ç‰‡
 1841              		.loc 1 40 5 view .LVU492
  40:Core/Src/RC522.c ****     status = PcdRequest(PICC_REQALL, CT);// å¯»å¡ -> æ‰«ææœ‰æ— å¡ç‰‡
 1842              		.loc 1 40 11 is_stmt 0 view .LVU493
 1843 0002 304C     		ldr	r4, .L129
 1844 0004 0223     		movs	r3, #2
 1845 0006 2370     		strb	r3, [r4]
  41:Core/Src/RC522.c ****     if (status == MI_OK)
 1846              		.loc 1 41 5 is_stmt 1 view .LVU494
  41:Core/Src/RC522.c ****     if (status == MI_OK)
 1847              		.loc 1 41 14 is_stmt 0 view .LVU495
 1848 0008 2F49     		ldr	r1, .L129+4
 1849 000a 5220     		movs	r0, #82
 1850 000c FFF7FEFF 		bl	PcdRequest
 1851              	.LVL197:
  41:Core/Src/RC522.c ****     if (status == MI_OK)
 1852              		.loc 1 41 12 view .LVU496
 1853 0010 2070     		strb	r0, [r4]
  42:Core/Src/RC522.c ****     {
 1854              		.loc 1 42 5 is_stmt 1 view .LVU497
  42:Core/Src/RC522.c ****     {
 1855              		.loc 1 42 8 is_stmt 0 view .LVU498
 1856 0012 00B1     		cbz	r0, .L126
 1857              	.L117:
  81:Core/Src/RC522.c **** // æµ‹è¯•ç¨‹åº0ï¼Œå®Œæˆaddrè¯»å†™è¯»
 1858              		.loc 1 81 1 view .LVU499
 1859 0014 38BD     		pop	{r3, r4, r5, pc}
 1860              	.L126:
  46:Core/Src/RC522.c ****         status=PcdAnticoll(SN);// é˜²å†²çª -> å¯å–å¾—UID
 1861              		.loc 1 46 9 is_stmt 1 view .LVU500
  46:Core/Src/RC522.c ****         status=PcdAnticoll(SN);// é˜²å†²çª -> å¯å–å¾—UID
 1862              		.loc 1 46 15 is_stmt 0 view .LVU501
 1863 0016 2546     		mov	r5, r4
 1864 0018 0223     		movs	r3, #2
 1865 001a 2370     		strb	r3, [r4]
  47:Core/Src/RC522.c ****         if (status==MI_OK)
 1866              		.loc 1 47 9 is_stmt 1 view .LVU502
  47:Core/Src/RC522.c ****         if (status==MI_OK)
 1867              		.loc 1 47 16 is_stmt 0 view .LVU503
 1868 001c 2B48     		ldr	r0, .L129+8
 1869 001e FFF7FEFF 		bl	PcdAnticoll
 1870              	.LVL198:
 1871 0022 0446     		mov	r4, r0
  47:Core/Src/RC522.c ****         if (status==MI_OK)
 1872              		.loc 1 47 15 view .LVU504
 1873 0024 2870     		strb	r0, [r5]
  48:Core/Src/RC522.c ****         {
 1874              		.loc 1 48 9 is_stmt 1 view .LVU505
  48:Core/Src/RC522.c ****         {
 1875              		.loc 1 48 12 is_stmt 0 view .LVU506
 1876 0026 20B1     		cbz	r0, .L127
 1877              	.L119:
  76:Core/Src/RC522.c ****     }
 1878              		.loc 1 76 9 is_stmt 1 view .LVU507
 1879 0028 4FF4FA70 		mov	r0, #500
 1880 002c FFF7FEFF 		bl	HAL_Delay
 1881              	.LVL199:
ARM GAS  /tmp/ccP8Hb0i.s 			page 53


  80:Core/Src/RC522.c **** }
 1882              		.loc 1 80 5 view .LVU508
  81:Core/Src/RC522.c **** // æµ‹è¯•ç¨‹åº0ï¼Œå®Œæˆaddrè¯»å†™è¯»
 1883              		.loc 1 81 1 is_stmt 0 view .LVU509
 1884 0030 F0E7     		b	.L117
 1885              	.L127:
  51:Core/Src/RC522.c ****             // åˆ¤æ–­å¡æ‰€å±ç”¨æˆ·
 1886              		.loc 1 51 13 is_stmt 1 view .LVU510
 1887 0032 2648     		ldr	r0, .L129+8
 1888 0034 FFF7FEFF 		bl	ShowID
 1889              	.LVL200:
  53:Core/Src/RC522.c ****             {
 1890              		.loc 1 53 13 view .LVU511
 1891              	.LBB2:
  53:Core/Src/RC522.c ****             {
 1892              		.loc 1 53 18 view .LVU512
  53:Core/Src/RC522.c ****             {
 1893              		.loc 1 53 13 is_stmt 0 view .LVU513
 1894 0038 04E0     		b	.L120
 1895              	.LVL201:
 1896              	.L121:
  61:Core/Src/RC522.c ****                 }
 1897              		.loc 1 61 21 is_stmt 1 discriminator 2 view .LVU514
  61:Core/Src/RC522.c ****                 }
 1898              		.loc 1 61 28 is_stmt 0 discriminator 2 view .LVU515
 1899 003a 254B     		ldr	r3, .L129+12
 1900 003c FF22     		movs	r2, #255
 1901 003e 1A70     		strb	r2, [r3]
  53:Core/Src/RC522.c ****             {
 1902              		.loc 1 53 47 is_stmt 1 discriminator 2 view .LVU516
  53:Core/Src/RC522.c ****             {
 1903              		.loc 1 53 48 is_stmt 0 discriminator 2 view .LVU517
 1904 0040 0134     		adds	r4, r4, #1
 1905              	.LVL202:
  53:Core/Src/RC522.c ****             {
 1906              		.loc 1 53 48 discriminator 2 view .LVU518
 1907 0042 E4B2     		uxtb	r4, r4
 1908              	.LVL203:
 1909              	.L120:
  53:Core/Src/RC522.c ****             {
 1910              		.loc 1 53 33 is_stmt 1 discriminator 1 view .LVU519
  53:Core/Src/RC522.c ****             {
 1911              		.loc 1 53 13 is_stmt 0 discriminator 1 view .LVU520
 1912 0044 012C     		cmp	r4, #1
 1913 0046 24D8     		bhi	.L122
  55:Core/Src/RC522.c ****                 {
 1914              		.loc 1 55 17 is_stmt 1 view .LVU521
  55:Core/Src/RC522.c ****                 {
 1915              		.loc 1 55 23 is_stmt 0 view .LVU522
 1916 0048 204B     		ldr	r3, .L129+8
 1917 004a 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
  55:Core/Src/RC522.c ****                 {
 1918              		.loc 1 55 38 view .LVU523
 1919 004c 2146     		mov	r1, r4
 1920 004e 214B     		ldr	r3, .L129+16
 1921 0050 13F82430 		ldrb	r3, [r3, r4, lsl #2]	@ zero_extendqisi2
  55:Core/Src/RC522.c ****                 {
ARM GAS  /tmp/ccP8Hb0i.s 			page 54


 1922              		.loc 1 55 19 view .LVU524
 1923 0054 9A42     		cmp	r2, r3
 1924 0056 F0D1     		bne	.L121
  55:Core/Src/RC522.c ****                 {
 1925              		.loc 1 55 47 discriminator 1 view .LVU525
 1926 0058 1C4B     		ldr	r3, .L129+8
 1927 005a 5A78     		ldrb	r2, [r3, #1]	@ zero_extendqisi2
  55:Core/Src/RC522.c ****                 {
 1928              		.loc 1 55 62 discriminator 1 view .LVU526
 1929 005c 1D4B     		ldr	r3, .L129+16
 1930 005e 03EB8403 		add	r3, r3, r4, lsl #2
 1931 0062 5B78     		ldrb	r3, [r3, #1]	@ zero_extendqisi2
  55:Core/Src/RC522.c ****                 {
 1932              		.loc 1 55 42 discriminator 1 view .LVU527
 1933 0064 9A42     		cmp	r2, r3
 1934 0066 E8D1     		bne	.L121
  55:Core/Src/RC522.c ****                 {
 1935              		.loc 1 55 71 discriminator 2 view .LVU528
 1936 0068 184B     		ldr	r3, .L129+8
 1937 006a 9A78     		ldrb	r2, [r3, #2]	@ zero_extendqisi2
  55:Core/Src/RC522.c ****                 {
 1938              		.loc 1 55 86 discriminator 2 view .LVU529
 1939 006c 194B     		ldr	r3, .L129+16
 1940 006e 03EB8403 		add	r3, r3, r4, lsl #2
 1941 0072 9B78     		ldrb	r3, [r3, #2]	@ zero_extendqisi2
  55:Core/Src/RC522.c ****                 {
 1942              		.loc 1 55 66 discriminator 2 view .LVU530
 1943 0074 9A42     		cmp	r2, r3
 1944 0076 E0D1     		bne	.L121
  55:Core/Src/RC522.c ****                 {
 1945              		.loc 1 55 95 discriminator 3 view .LVU531
 1946 0078 144B     		ldr	r3, .L129+8
 1947 007a DA78     		ldrb	r2, [r3, #3]	@ zero_extendqisi2
  55:Core/Src/RC522.c ****                 {
 1948              		.loc 1 55 110 discriminator 3 view .LVU532
 1949 007c 154B     		ldr	r3, .L129+16
 1950 007e 03EB8403 		add	r3, r3, r4, lsl #2
 1951 0082 DB78     		ldrb	r3, [r3, #3]	@ zero_extendqisi2
  55:Core/Src/RC522.c ****                 {
 1952              		.loc 1 55 90 discriminator 3 view .LVU533
 1953 0084 9A42     		cmp	r2, r3
 1954 0086 D8D1     		bne	.L121
  57:Core/Src/RC522.c ****                     printf("The Card is:card_%d\r\n",i);
 1955              		.loc 1 57 21 is_stmt 1 view .LVU534
  57:Core/Src/RC522.c ****                     printf("The Card is:card_%d\r\n",i);
 1956              		.loc 1 57 28 is_stmt 0 view .LVU535
 1957 0088 114B     		ldr	r3, .L129+12
 1958 008a 1C70     		strb	r4, [r3]
  58:Core/Src/RC522.c ****                     break;
 1959              		.loc 1 58 21 is_stmt 1 view .LVU536
 1960 008c 1248     		ldr	r0, .L129+20
 1961 008e FFF7FEFF 		bl	printf
 1962              	.LVL204:
  59:Core/Src/RC522.c ****                 }else{
 1963              		.loc 1 59 21 view .LVU537
 1964              	.L122:
 1965              	.LBE2:
ARM GAS  /tmp/ccP8Hb0i.s 			page 55


  64:Core/Src/RC522.c ****             {
 1966              		.loc 1 64 13 view .LVU538
  64:Core/Src/RC522.c ****             {
 1967              		.loc 1 64 24 is_stmt 0 view .LVU539
 1968 0092 0F4B     		ldr	r3, .L129+12
 1969 0094 93F90030 		ldrsb	r3, [r3]
  64:Core/Src/RC522.c ****             {
 1970              		.loc 1 64 16 view .LVU540
 1971 0098 B3F1FF3F 		cmp	r3, #-1
 1972 009c 0ED0     		beq	.L128
 1973              	.L124:
  68:Core/Src/RC522.c ****             status = PcdSelect(SN);// é€‰æ‹©å¡ç‰‡
 1974              		.loc 1 68 13 is_stmt 1 view .LVU541
  68:Core/Src/RC522.c ****             status = PcdSelect(SN);// é€‰æ‹©å¡ç‰‡
 1975              		.loc 1 68 20 is_stmt 0 view .LVU542
 1976 009e 094C     		ldr	r4, .L129
 1977              	.LVL205:
  68:Core/Src/RC522.c ****             status = PcdSelect(SN);// é€‰æ‹©å¡ç‰‡
 1978              		.loc 1 68 20 view .LVU543
 1979 00a0 0223     		movs	r3, #2
 1980 00a2 2370     		strb	r3, [r4]
  69:Core/Src/RC522.c ****             if (status==MI_OK)
 1981              		.loc 1 69 13 is_stmt 1 view .LVU544
  69:Core/Src/RC522.c ****             if (status==MI_OK)
 1982              		.loc 1 69 22 is_stmt 0 view .LVU545
 1983 00a4 0948     		ldr	r0, .L129+8
 1984 00a6 FFF7FEFF 		bl	PcdSelect
 1985              	.LVL206:
  69:Core/Src/RC522.c ****             if (status==MI_OK)
 1986              		.loc 1 69 20 view .LVU546
 1987 00aa 2070     		strb	r0, [r4]
  70:Core/Src/RC522.c ****             {
 1988              		.loc 1 70 13 is_stmt 1 view .LVU547
  70:Core/Src/RC522.c ****             {
 1989              		.loc 1 70 16 is_stmt 0 view .LVU548
 1990 00ac 0028     		cmp	r0, #0
 1991 00ae BBD1     		bne	.L119
  72:Core/Src/RC522.c ****                 status = MI_ERR;
 1992              		.loc 1 72 17 is_stmt 1 view .LVU549
 1993 00b0 0A48     		ldr	r0, .L129+24
 1994 00b2 FFF7FEFF 		bl	puts
 1995              	.LVL207:
  73:Core/Src/RC522.c ****             }
 1996              		.loc 1 73 17 view .LVU550
  73:Core/Src/RC522.c ****             }
 1997              		.loc 1 73 24 is_stmt 0 view .LVU551
 1998 00b6 0222     		movs	r2, #2
 1999 00b8 2270     		strb	r2, [r4]
 2000 00ba B5E7     		b	.L119
 2001              	.LVL208:
 2002              	.L128:
  66:Core/Src/RC522.c ****             }
 2003              		.loc 1 66 17 is_stmt 1 view .LVU552
 2004 00bc 0848     		ldr	r0, .L129+28
 2005 00be FFF7FEFF 		bl	puts
 2006              	.LVL209:
 2007 00c2 ECE7     		b	.L124
ARM GAS  /tmp/ccP8Hb0i.s 			page 56


 2008              	.L130:
 2009              		.align	2
 2010              	.L129:
 2011 00c4 00000000 		.word	.LANCHOR0
 2012 00c8 00000000 		.word	.LANCHOR1
 2013 00cc 00000000 		.word	.LANCHOR2
 2014 00d0 00000000 		.word	.LANCHOR4
 2015 00d4 00000000 		.word	.LANCHOR3
 2016 00d8 00000000 		.word	.LC1
 2017 00dc 28000000 		.word	.LC3
 2018 00e0 18000000 		.word	.LC2
 2019              		.cfi_endproc
 2020              	.LFE68:
 2022              		.section	.rodata.RC522_Handle.str1.4,"aMS",%progbits,1
 2023              		.align	2
 2024              	.LC4:
 2025 0000 E5AFBBE5 		.ascii	"\345\257\273\345\215\241\346\210\220\345\212\237\015"
 2025      8DA1E688 
 2025      90E58A9F 
 2025      0D
 2026 000d 00       		.ascii	"\000"
 2027 000e 0000     		.align	2
 2028              	.LC5:
 2029 0010 E5AFBBE5 		.ascii	"\345\257\273\345\215\241\345\244\261\350\264\245\015"
 2029      8DA1E5A4 
 2029      B1E8B4A5 
 2029      0D
 2030 001d 00       		.ascii	"\000"
 2031 001e 0000     		.align	2
 2032              	.LC6:
 2033 0020 50636441 		.ascii	"PcdAuthState(A) success\015\000"
 2033      75746853 
 2033      74617465 
 2033      28412920 
 2033      73756363 
 2034 0039 000000   		.align	2
 2035              	.LC7:
 2036 003c 50636441 		.ascii	"PcdAuthState(A) failed\015\000"
 2036      75746853 
 2036      74617465 
 2036      28412920 
 2036      6661696C 
 2037              		.align	2
 2038              	.LC8:
 2039 0054 50636441 		.ascii	"PcdAuthState(B) success\015\000"
 2039      75746853 
 2039      74617465 
 2039      28422920 
 2039      73756363 
 2040 006d 000000   		.align	2
 2041              	.LC9:
 2042 0070 50636441 		.ascii	"PcdAuthState(B) failed\015\000"
 2042      75746853 
 2042      74617465 
 2042      28422920 
 2042      6661696C 
 2043              		.align	2
ARM GAS  /tmp/ccP8Hb0i.s 			page 57


 2044              	.LC10:
 2045 0088 52464944 		.ascii	"RFID:%s\015\012\000"
 2045      3A25730D 
 2045      0A00
 2046 0092 0000     		.align	2
 2047              	.LC11:
 2048 0094 44415441 		.ascii	"DATA:\000"
 2048      3A00
 2049 009a 0000     		.align	2
 2050              	.LC12:
 2051 009c 25303278 		.ascii	"%02x\000"
 2051      00
 2052 00a1 000000   		.align	2
 2053              	.LC13:
 2054 00a4 0D00     		.ascii	"\015\000"
 2055 00a6 0000     		.align	2
 2056              	.LC14:
 2057 00a8 E4B880E7 		.ascii	"\344\270\200\347\247\222\345\220\216\345\274\200\345"
 2057      A792E590 
 2057      8EE5BC80 
 2057      E5
 2058 00b5 A78BE586 		.ascii	"\247\213\345\206\231\345\215\241\357\274\214\350\257"
 2058      99E58DA1 
 2058      EFBC8CE8 
 2058      AF
 2059 00c2 B7E58BBF 		.ascii	"\267\345\213\277\347\247\273\345\274\200\345\215\241"
 2059      E7A7BBE5 
 2059      BC80E58D 
 2059      A1
 2060 00cf E78987EF 		.ascii	"\347\211\207\357\274\201\357\274\201\015\000"
 2060      BC81EFBC 
 2060      810D00
 2061 00da 0000     		.align	2
 2062              	.LC15:
 2063 00dc 50636457 		.ascii	"PcdWrite() success\015\000"
 2063      72697465 
 2063      28292073 
 2063      75636365 
 2063      73730D00 
 2064              		.align	2
 2065              	.LC16:
 2066 00f0 50636457 		.ascii	"PcdWrite() failed\015\000"
 2066      72697465 
 2066      28292066 
 2066      61696C65 
 2066      640D00
 2067 0103 00       		.align	2
 2068              	.LC17:
 2069 0104 50636452 		.ascii	"PcdRead() failed\015\000"
 2069      65616428 
 2069      29206661 
 2069      696C6564 
 2069      0D00
 2070 0116 0000     		.align	2
 2071              	.LC18:
 2072 0118 52433532 		.ascii	"RC522_Handle() run finished after 1 second!\015\000"
 2072      325F4861 
ARM GAS  /tmp/ccP8Hb0i.s 			page 58


 2072      6E646C65 
 2072      28292072 
 2072      756E2066 
 2073              		.section	.text.RC522_Handle,"ax",%progbits
 2074              		.align	1
 2075              		.global	RC522_Handle
 2076              		.syntax unified
 2077              		.thumb
 2078              		.thumb_func
 2079              		.fpu softvfp
 2081              	RC522_Handle:
 2082              	.LFB69:
  84:Core/Src/RC522.c ****     uint8_t i = 0;
 2083              		.loc 1 84 1 view -0
 2084              		.cfi_startproc
 2085              		@ args = 0, pretend = 0, frame = 0
 2086              		@ frame_needed = 0, uses_anonymous_args = 0
 2087 0000 38B5     		push	{r3, r4, r5, lr}
 2088              	.LCFI38:
 2089              		.cfi_def_cfa_offset 16
 2090              		.cfi_offset 3, -16
 2091              		.cfi_offset 4, -12
 2092              		.cfi_offset 5, -8
 2093              		.cfi_offset 14, -4
  85:Core/Src/RC522.c ****     uint8_t card0_bit = 0;
 2094              		.loc 1 85 5 view .LVU554
 2095              	.LVL210:
  86:Core/Src/RC522.c ****     status = PcdRequest(PICC_REQALL,CT);//å¯»å¡
 2096              		.loc 1 86 5 view .LVU555
  87:Core/Src/RC522.c ****     // printf("\r\nstatus>>>>>>%d\r\n", status);
 2097              		.loc 1 87 5 view .LVU556
  87:Core/Src/RC522.c ****     // printf("\r\nstatus>>>>>>%d\r\n", status);
 2098              		.loc 1 87 14 is_stmt 0 view .LVU557
 2099 0002 6249     		ldr	r1, .L157
 2100 0004 5220     		movs	r0, #82
 2101 0006 FFF7FEFF 		bl	PcdRequest
 2102              	.LVL211:
  87:Core/Src/RC522.c ****     // printf("\r\nstatus>>>>>>%d\r\n", status);
 2103              		.loc 1 87 12 view .LVU558
 2104 000a 614B     		ldr	r3, .L157+4
 2105 000c 1870     		strb	r0, [r3]
  89:Core/Src/RC522.c ****     {
 2106              		.loc 1 89 5 is_stmt 1 view .LVU559
  89:Core/Src/RC522.c ****     {
 2107              		.loc 1 89 7 is_stmt 0 view .LVU560
 2108 000e 08BB     		cbnz	r0, .L132
  91:Core/Src/RC522.c ****         status=MI_ERR;
 2109              		.loc 1 91 9 is_stmt 1 view .LVU561
 2110 0010 6048     		ldr	r0, .L157+8
 2111 0012 FFF7FEFF 		bl	puts
 2112              	.LVL212:
  92:Core/Src/RC522.c ****         status = PcdAnticoll(SN);// é˜²å†²æ’ è·å¾—UID å­˜å…¥SN
 2113              		.loc 1 92 9 view .LVU562
  92:Core/Src/RC522.c ****         status = PcdAnticoll(SN);// é˜²å†²æ’ è·å¾—UID å­˜å…¥SN
 2114              		.loc 1 92 15 is_stmt 0 view .LVU563
 2115 0016 5E4C     		ldr	r4, .L157+4
 2116 0018 0223     		movs	r3, #2
ARM GAS  /tmp/ccP8Hb0i.s 			page 59


 2117 001a 2370     		strb	r3, [r4]
  93:Core/Src/RC522.c ****     }else{
 2118              		.loc 1 93 9 is_stmt 1 view .LVU564
  93:Core/Src/RC522.c ****     }else{
 2119              		.loc 1 93 18 is_stmt 0 view .LVU565
 2120 001c 5E48     		ldr	r0, .L157+12
 2121 001e FFF7FEFF 		bl	PcdAnticoll
 2122              	.LVL213:
  93:Core/Src/RC522.c ****     }else{
 2123              		.loc 1 93 16 view .LVU566
 2124 0022 2070     		strb	r0, [r4]
 2125              	.L133:
  97:Core/Src/RC522.c ****     {
 2126              		.loc 1 97 5 is_stmt 1 view .LVU567
  97:Core/Src/RC522.c ****     {
 2127              		.loc 1 97 15 is_stmt 0 view .LVU568
 2128 0024 5A4B     		ldr	r3, .L157+4
 2129 0026 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
  97:Core/Src/RC522.c ****     {
 2130              		.loc 1 97 8 view .LVU569
 2131 0028 C3B1     		cbz	r3, .L150
 2132              	.L134:
 118:Core/Src/RC522.c ****     if(status == MI_OK)//é€‰å¡æˆåŠŸ
 2133              		.loc 1 118 5 is_stmt 1 view .LVU570
 119:Core/Src/RC522.c ****     {
 2134              		.loc 1 119 5 view .LVU571
 119:Core/Src/RC522.c ****     {
 2135              		.loc 1 119 15 is_stmt 0 view .LVU572
 2136 002a 594B     		ldr	r3, .L157+4
 2137 002c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 119:Core/Src/RC522.c ****     {
 2138              		.loc 1 119 7 view .LVU573
 2139 002e 0BB3     		cbz	r3, .L151
 2140              	.L135:
 145:Core/Src/RC522.c ****     {
 2141              		.loc 1 145 5 is_stmt 1 view .LVU574
 145:Core/Src/RC522.c ****     {
 2142              		.loc 1 145 15 is_stmt 0 view .LVU575
 2143 0030 574B     		ldr	r3, .L157+4
 2144 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 145:Core/Src/RC522.c ****     {
 2145              		.loc 1 145 7 view .LVU576
 2146 0034 002B     		cmp	r3, #0
 2147 0036 40D0     		beq	.L152
 2148              	.LVL214:
 2149              	.L139:
 164:Core/Src/RC522.c ****     }
 2150              		.loc 1 164 9 is_stmt 1 view .LVU577
 166:Core/Src/RC522.c ****     {
 2151              		.loc 1 166 5 view .LVU578
 166:Core/Src/RC522.c ****     {
 2152              		.loc 1 166 15 is_stmt 0 view .LVU579
 2153 0038 554B     		ldr	r3, .L157+4
 2154 003a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 166:Core/Src/RC522.c ****     {
 2155              		.loc 1 166 7 view .LVU580
 2156 003c 002B     		cmp	r3, #0
ARM GAS  /tmp/ccP8Hb0i.s 			page 60


 2157 003e 5DD0     		beq	.L153
 2158              	.L142:
 185:Core/Src/RC522.c ****     {
 2159              		.loc 1 185 5 is_stmt 1 view .LVU581
 185:Core/Src/RC522.c ****     {
 2160              		.loc 1 185 15 is_stmt 0 view .LVU582
 2161 0040 534B     		ldr	r3, .L157+4
 2162 0042 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 185:Core/Src/RC522.c ****     {
 2163              		.loc 1 185 7 view .LVU583
 2164 0044 002B     		cmp	r3, #0
 2165 0046 76D0     		beq	.L154
 2166              	.L144:
 206:Core/Src/RC522.c ****     {
 2167              		.loc 1 206 5 is_stmt 1 view .LVU584
 206:Core/Src/RC522.c ****     {
 2168              		.loc 1 206 15 is_stmt 0 view .LVU585
 2169 0048 514B     		ldr	r3, .L157+4
 2170 004a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 206:Core/Src/RC522.c ****     {
 2171              		.loc 1 206 7 view .LVU586
 2172 004c 002B     		cmp	r3, #0
 2173 004e 00F09280 		beq	.L155
 2174              	.L131:
 212:Core/Src/RC522.c **** 
 2175              		.loc 1 212 1 view .LVU587
 2176 0052 38BD     		pop	{r3, r4, r5, pc}
 2177              	.LVL215:
 2178              	.L132:
  95:Core/Src/RC522.c ****     }
 2179              		.loc 1 95 9 is_stmt 1 view .LVU588
 2180 0054 5148     		ldr	r0, .L157+16
 2181 0056 FFF7FEFF 		bl	puts
 2182              	.LVL216:
 2183 005a E3E7     		b	.L133
 2184              	.L150:
 100:Core/Src/RC522.c ****         ShowID(SN); // ä¸²å£æ‰“å°å¡çš„IDå· UID
 2185              		.loc 1 100 9 view .LVU589
 100:Core/Src/RC522.c ****         ShowID(SN); // ä¸²å£æ‰“å°å¡çš„IDå· UID
 2186              		.loc 1 100 16 is_stmt 0 view .LVU590
 2187 005c 4C4C     		ldr	r4, .L157+4
 2188 005e 0223     		movs	r3, #2
 2189 0060 2370     		strb	r3, [r4]
 101:Core/Src/RC522.c **** 
 2190              		.loc 1 101 9 is_stmt 1 view .LVU591
 2191 0062 4D4D     		ldr	r5, .L157+12
 2192 0064 2846     		mov	r0, r5
 2193 0066 FFF7FEFF 		bl	ShowID
 2194              	.LVL217:
 113:Core/Src/RC522.c ****     }
 2195              		.loc 1 113 9 view .LVU592
 113:Core/Src/RC522.c ****     }
 2196              		.loc 1 113 18 is_stmt 0 view .LVU593
 2197 006a 2846     		mov	r0, r5
 2198 006c FFF7FEFF 		bl	PcdSelect
 2199              	.LVL218:
 113:Core/Src/RC522.c ****     }
ARM GAS  /tmp/ccP8Hb0i.s 			page 61


 2200              		.loc 1 113 16 view .LVU594
 2201 0070 2070     		strb	r0, [r4]
 2202 0072 DAE7     		b	.L134
 2203              	.L151:
 122:Core/Src/RC522.c ****         // éªŒè¯Aå¯†é’¥ å—åœ°å€ å¯†ç  SN 
 2204              		.loc 1 122 9 is_stmt 1 view .LVU595
 122:Core/Src/RC522.c ****         // éªŒè¯Aå¯†é’¥ å—åœ°å€ å¯†ç  SN 
 2205              		.loc 1 122 16 is_stmt 0 view .LVU596
 2206 0074 464C     		ldr	r4, .L157+4
 2207 0076 0223     		movs	r3, #2
 2208 0078 2370     		strb	r3, [r4]
 125:Core/Src/RC522.c ****         if(status == MI_OK)//éªŒè¯æˆåŠŸ
 2209              		.loc 1 125 9 is_stmt 1 view .LVU597
 125:Core/Src/RC522.c ****         if(status == MI_OK)//éªŒè¯æˆåŠŸ
 2210              		.loc 1 125 18 is_stmt 0 view .LVU598
 2211 007a 474B     		ldr	r3, .L157+12
 2212 007c 484A     		ldr	r2, .L157+20
 2213 007e 0B21     		movs	r1, #11
 2214 0080 6020     		movs	r0, #96
 2215 0082 FFF7FEFF 		bl	PcdAuthState
 2216              	.LVL219:
 125:Core/Src/RC522.c ****         if(status == MI_OK)//éªŒè¯æˆåŠŸ
 2217              		.loc 1 125 16 view .LVU599
 2218 0086 2070     		strb	r0, [r4]
 126:Core/Src/RC522.c ****         {
 2219              		.loc 1 126 9 is_stmt 1 view .LVU600
 126:Core/Src/RC522.c ****         {
 2220              		.loc 1 126 11 is_stmt 0 view .LVU601
 2221 0088 78B9     		cbnz	r0, .L136
 128:Core/Src/RC522.c ****         }
 2222              		.loc 1 128 13 is_stmt 1 view .LVU602
 2223 008a 4648     		ldr	r0, .L157+24
 2224 008c FFF7FEFF 		bl	puts
 2225              	.LVL220:
 2226              	.L137:
 135:Core/Src/RC522.c ****         if(status == MI_OK)//éªŒè¯æˆåŠŸ
 2227              		.loc 1 135 3 view .LVU603
 135:Core/Src/RC522.c ****         if(status == MI_OK)//éªŒè¯æˆåŠŸ
 2228              		.loc 1 135 12 is_stmt 0 view .LVU604
 2229 0090 414B     		ldr	r3, .L157+12
 2230 0092 454A     		ldr	r2, .L157+28
 2231 0094 0B21     		movs	r1, #11
 2232 0096 6120     		movs	r0, #97
 2233 0098 FFF7FEFF 		bl	PcdAuthState
 2234              	.LVL221:
 135:Core/Src/RC522.c ****         if(status == MI_OK)//éªŒè¯æˆåŠŸ
 2235              		.loc 1 135 10 view .LVU605
 2236 009c 3C4B     		ldr	r3, .L157+4
 2237 009e 1870     		strb	r0, [r3]
 136:Core/Src/RC522.c ****         {
 2238              		.loc 1 136 9 is_stmt 1 view .LVU606
 136:Core/Src/RC522.c ****         {
 2239              		.loc 1 136 11 is_stmt 0 view .LVU607
 2240 00a0 38B9     		cbnz	r0, .L138
 138:Core/Src/RC522.c ****         }
 2241              		.loc 1 138 13 is_stmt 1 view .LVU608
 2242 00a2 4248     		ldr	r0, .L157+32
ARM GAS  /tmp/ccP8Hb0i.s 			page 62


 2243 00a4 FFF7FEFF 		bl	puts
 2244              	.LVL222:
 2245 00a8 C2E7     		b	.L135
 2246              	.L136:
 132:Core/Src/RC522.c ****         }
 2247              		.loc 1 132 13 view .LVU609
 2248 00aa 4148     		ldr	r0, .L157+36
 2249 00ac FFF7FEFF 		bl	puts
 2250              	.LVL223:
 2251 00b0 EEE7     		b	.L137
 2252              	.L138:
 142:Core/Src/RC522.c ****         }
 2253              		.loc 1 142 13 view .LVU610
 2254 00b2 4048     		ldr	r0, .L157+40
 2255 00b4 FFF7FEFF 		bl	puts
 2256              	.LVL224:
 2257 00b8 BAE7     		b	.L135
 2258              	.L152:
 148:Core/Src/RC522.c ****         // è¯»å–M1å¡ä¸€å—æ•°æ® å—åœ°å€ è¯»å–çš„æ•°æ® æ³¨æ„ï¼šå› ä¸ºä¸Šé¢éªŒè¯çš„æ‰‡åŒºæ˜
 2259              		.loc 1 148 9 view .LVU611
 148:Core/Src/RC522.c ****         // è¯»å–M1å¡ä¸€å—æ•°æ® å—åœ°å€ è¯»å–çš„æ•°æ® æ³¨æ„ï¼šå› ä¸ºä¸Šé¢éªŒè¯çš„æ‰‡åŒºæ˜
 2260              		.loc 1 148 16 is_stmt 0 view .LVU612
 2261 00ba 354D     		ldr	r5, .L157+4
 2262 00bc 0223     		movs	r3, #2
 2263 00be 2B70     		strb	r3, [r5]
 150:Core/Src/RC522.c ****         if(status == MI_OK)//è¯»å¡æˆåŠŸ
 2264              		.loc 1 150 9 is_stmt 1 view .LVU613
 150:Core/Src/RC522.c ****         if(status == MI_OK)//è¯»å¡æˆåŠŸ
 2265              		.loc 1 150 18 is_stmt 0 view .LVU614
 2266 00c0 3D49     		ldr	r1, .L157+44
 2267 00c2 3E4B     		ldr	r3, .L157+48
 2268 00c4 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2269 00c6 FFF7FEFF 		bl	PcdRead
 2270              	.LVL225:
 2271 00ca 0446     		mov	r4, r0
 150:Core/Src/RC522.c ****         if(status == MI_OK)//è¯»å¡æˆåŠŸ
 2272              		.loc 1 150 16 view .LVU615
 2273 00cc 2870     		strb	r0, [r5]
 151:Core/Src/RC522.c ****         {
 2274              		.loc 1 151 9 is_stmt 1 view .LVU616
 151:Core/Src/RC522.c ****         {
 2275              		.loc 1 151 11 is_stmt 0 view .LVU617
 2276 00ce 0028     		cmp	r0, #0
 2277 00d0 B2D1     		bne	.L139
 153:Core/Src/RC522.c ****             printf("DATA:");
 2278              		.loc 1 153 13 is_stmt 1 view .LVU618
 2279 00d2 3B49     		ldr	r1, .L157+52
 2280 00d4 3B48     		ldr	r0, .L157+56
 2281 00d6 FFF7FEFF 		bl	printf
 2282              	.LVL226:
 154:Core/Src/RC522.c ****             for(i = 0; i < 16; i++)
 2283              		.loc 1 154 13 view .LVU619
 2284 00da 3B48     		ldr	r0, .L157+60
 2285 00dc FFF7FEFF 		bl	printf
 2286              	.LVL227:
 155:Core/Src/RC522.c ****             {
 2287              		.loc 1 155 13 view .LVU620
ARM GAS  /tmp/ccP8Hb0i.s 			page 63


 2288              	.L140:
 155:Core/Src/RC522.c ****             {
 2289              		.loc 1 155 24 discriminator 1 view .LVU621
 155:Core/Src/RC522.c ****             {
 2290              		.loc 1 155 13 is_stmt 0 discriminator 1 view .LVU622
 2291 00e0 0F2C     		cmp	r4, #15
 2292 00e2 07D8     		bhi	.L156
 157:Core/Src/RC522.c ****             }
 2293              		.loc 1 157 17 is_stmt 1 discriminator 3 view .LVU623
 2294 00e4 344B     		ldr	r3, .L157+44
 2295 00e6 195D     		ldrb	r1, [r3, r4]	@ zero_extendqisi2
 2296 00e8 3848     		ldr	r0, .L157+64
 2297 00ea FFF7FEFF 		bl	printf
 2298              	.LVL228:
 155:Core/Src/RC522.c ****             {
 2299              		.loc 1 155 32 discriminator 3 view .LVU624
 155:Core/Src/RC522.c ****             {
 2300              		.loc 1 155 33 is_stmt 0 discriminator 3 view .LVU625
 2301 00ee 0134     		adds	r4, r4, #1
 2302              	.LVL229:
 155:Core/Src/RC522.c ****             {
 2303              		.loc 1 155 33 discriminator 3 view .LVU626
 2304 00f0 E4B2     		uxtb	r4, r4
 2305              	.LVL230:
 155:Core/Src/RC522.c ****             {
 2306              		.loc 1 155 33 discriminator 3 view .LVU627
 2307 00f2 F5E7     		b	.L140
 2308              	.L156:
 159:Core/Src/RC522.c ****         }
 2309              		.loc 1 159 13 is_stmt 1 view .LVU628
 2310 00f4 3648     		ldr	r0, .L157+68
 2311 00f6 FFF7FEFF 		bl	puts
 2312              	.LVL231:
 2313 00fa 9DE7     		b	.L139
 2314              	.LVL232:
 2315              	.L153:
 169:Core/Src/RC522.c **** 		printf("ä¸€ç§’åå¼€å§‹å†™å¡ï¼Œè¯·å‹¿ç§»å¼€å¡ç‰‡ï¼ï¼\r\n");
 2316              		.loc 1 169 9 view .LVU629
 169:Core/Src/RC522.c **** 		printf("ä¸€ç§’åå¼€å§‹å†™å¡ï¼Œè¯·å‹¿ç§»å¼€å¡ç‰‡ï¼ï¼\r\n");
 2317              		.loc 1 169 16 is_stmt 0 view .LVU630
 2318 00fc 244C     		ldr	r4, .L157+4
 2319 00fe 0223     		movs	r3, #2
 2320 0100 2370     		strb	r3, [r4]
 170:Core/Src/RC522.c **** 		HAL_Delay(1000);
 2321              		.loc 1 170 3 is_stmt 1 view .LVU631
 2322 0102 3448     		ldr	r0, .L157+72
 2323 0104 FFF7FEFF 		bl	puts
 2324              	.LVL233:
 171:Core/Src/RC522.c ****         // status = PcdWrite(addr, DATA0);
 2325              		.loc 1 171 3 view .LVU632
 2326 0108 4FF47A70 		mov	r0, #1000
 2327 010c FFF7FEFF 		bl	HAL_Delay
 2328              	.LVL234:
 174:Core/Src/RC522.c ****         if(status == MI_OK)//å†™å¡æˆåŠŸ
 2329              		.loc 1 174 9 view .LVU633
 174:Core/Src/RC522.c ****         if(status == MI_OK)//å†™å¡æˆåŠŸ
 2330              		.loc 1 174 18 is_stmt 0 view .LVU634
ARM GAS  /tmp/ccP8Hb0i.s 			page 64


 2331 0110 3149     		ldr	r1, .L157+76
 2332 0112 2A4B     		ldr	r3, .L157+48
 2333 0114 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2334 0116 FFF7FEFF 		bl	PcdWrite
 2335              	.LVL235:
 174:Core/Src/RC522.c ****         if(status == MI_OK)//å†™å¡æˆåŠŸ
 2336              		.loc 1 174 16 view .LVU635
 2337 011a 2070     		strb	r0, [r4]
 175:Core/Src/RC522.c ****         {
 2338              		.loc 1 175 9 is_stmt 1 view .LVU636
 175:Core/Src/RC522.c ****         {
 2339              		.loc 1 175 11 is_stmt 0 view .LVU637
 2340 011c 18B9     		cbnz	r0, .L143
 177:Core/Src/RC522.c ****         }
 2341              		.loc 1 177 13 is_stmt 1 view .LVU638
 2342 011e 2F48     		ldr	r0, .L157+80
 2343 0120 FFF7FEFF 		bl	puts
 2344              	.LVL236:
 2345 0124 8CE7     		b	.L142
 2346              	.L143:
 181:Core/Src/RC522.c **** 			HAL_Delay(3000);
 2347              		.loc 1 181 13 view .LVU639
 2348 0126 2E48     		ldr	r0, .L157+84
 2349 0128 FFF7FEFF 		bl	puts
 2350              	.LVL237:
 182:Core/Src/RC522.c ****         }
 2351              		.loc 1 182 4 view .LVU640
 2352 012c 40F6B830 		movw	r0, #3000
 2353 0130 FFF7FEFF 		bl	HAL_Delay
 2354              	.LVL238:
 2355 0134 84E7     		b	.L142
 2356              	.L154:
 187:Core/Src/RC522.c ****         // è¯»å–M1å¡ä¸€å—æ•°æ® å—åœ°å€ è¯»å–çš„æ•°æ®
 2357              		.loc 1 187 9 view .LVU641
 187:Core/Src/RC522.c ****         // è¯»å–M1å¡ä¸€å—æ•°æ® å—åœ°å€ è¯»å–çš„æ•°æ®
 2358              		.loc 1 187 16 is_stmt 0 view .LVU642
 2359 0136 164D     		ldr	r5, .L157+4
 2360 0138 0223     		movs	r3, #2
 2361 013a 2B70     		strb	r3, [r5]
 189:Core/Src/RC522.c ****         if(status == MI_OK)//è¯»å¡æˆåŠŸ
 2362              		.loc 1 189 9 is_stmt 1 view .LVU643
 189:Core/Src/RC522.c ****         if(status == MI_OK)//è¯»å¡æˆåŠŸ
 2363              		.loc 1 189 18 is_stmt 0 view .LVU644
 2364 013c 1E49     		ldr	r1, .L157+44
 2365 013e 1F4B     		ldr	r3, .L157+48
 2366 0140 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 2367 0142 FFF7FEFF 		bl	PcdRead
 2368              	.LVL239:
 2369 0146 0446     		mov	r4, r0
 189:Core/Src/RC522.c ****         if(status == MI_OK)//è¯»å¡æˆåŠŸ
 2370              		.loc 1 189 16 view .LVU645
 2371 0148 2870     		strb	r0, [r5]
 190:Core/Src/RC522.c ****         {
 2372              		.loc 1 190 9 is_stmt 1 view .LVU646
 190:Core/Src/RC522.c ****         {
 2373              		.loc 1 190 11 is_stmt 0 view .LVU647
 2374 014a 80B9     		cbnz	r0, .L145
ARM GAS  /tmp/ccP8Hb0i.s 			page 65


 193:Core/Src/RC522.c ****             for(i = 0; i < 16; i++)
 2375              		.loc 1 193 13 is_stmt 1 view .LVU648
 2376 014c 1E48     		ldr	r0, .L157+60
 2377 014e FFF7FEFF 		bl	printf
 2378              	.LVL240:
 194:Core/Src/RC522.c ****             {
 2379              		.loc 1 194 13 view .LVU649
 194:Core/Src/RC522.c ****             {
 2380              		.loc 1 194 13 is_stmt 0 view .LVU650
 2381 0152 06E0     		b	.L146
 2382              	.LVL241:
 2383              	.L147:
 196:Core/Src/RC522.c ****             }
 2384              		.loc 1 196 17 is_stmt 1 discriminator 3 view .LVU651
 2385 0154 184B     		ldr	r3, .L157+44
 2386 0156 195D     		ldrb	r1, [r3, r4]	@ zero_extendqisi2
 2387 0158 1C48     		ldr	r0, .L157+64
 2388 015a FFF7FEFF 		bl	printf
 2389              	.LVL242:
 194:Core/Src/RC522.c ****             {
 2390              		.loc 1 194 32 discriminator 3 view .LVU652
 194:Core/Src/RC522.c ****             {
 2391              		.loc 1 194 33 is_stmt 0 discriminator 3 view .LVU653
 2392 015e 0134     		adds	r4, r4, #1
 2393              	.LVL243:
 194:Core/Src/RC522.c ****             {
 2394              		.loc 1 194 33 discriminator 3 view .LVU654
 2395 0160 E4B2     		uxtb	r4, r4
 2396              	.LVL244:
 2397              	.L146:
 194:Core/Src/RC522.c ****             {
 2398              		.loc 1 194 24 is_stmt 1 discriminator 1 view .LVU655
 194:Core/Src/RC522.c ****             {
 2399              		.loc 1 194 13 is_stmt 0 discriminator 1 view .LVU656
 2400 0162 0F2C     		cmp	r4, #15
 2401 0164 F6D9     		bls	.L147
 198:Core/Src/RC522.c ****         }
 2402              		.loc 1 198 13 is_stmt 1 view .LVU657
 2403 0166 1A48     		ldr	r0, .L157+68
 2404 0168 FFF7FEFF 		bl	puts
 2405              	.LVL245:
 2406 016c 6CE7     		b	.L144
 2407              	.LVL246:
 2408              	.L145:
 202:Core/Src/RC522.c ****         }
 2409              		.loc 1 202 13 view .LVU658
 2410 016e 1D48     		ldr	r0, .L157+88
 2411 0170 FFF7FEFF 		bl	puts
 2412              	.LVL247:
 2413 0174 68E7     		b	.L144
 2414              	.L155:
 208:Core/Src/RC522.c **** 		printf("RC522_Handle() run finished after 1 second!\r\n");
 2415              		.loc 1 208 9 view .LVU659
 208:Core/Src/RC522.c **** 		printf("RC522_Handle() run finished after 1 second!\r\n");
 2416              		.loc 1 208 16 is_stmt 0 view .LVU660
 2417 0176 064B     		ldr	r3, .L157+4
 2418 0178 0222     		movs	r2, #2
ARM GAS  /tmp/ccP8Hb0i.s 			page 66


 2419 017a 1A70     		strb	r2, [r3]
 209:Core/Src/RC522.c ****         HAL_Delay(1000);
 2420              		.loc 1 209 3 is_stmt 1 view .LVU661
 2421 017c 1A48     		ldr	r0, .L157+92
 2422 017e FFF7FEFF 		bl	puts
 2423              	.LVL248:
 210:Core/Src/RC522.c ****     }
 2424              		.loc 1 210 9 view .LVU662
 2425 0182 4FF47A70 		mov	r0, #1000
 2426 0186 FFF7FEFF 		bl	HAL_Delay
 2427              	.LVL249:
 212:Core/Src/RC522.c **** 
 2428              		.loc 1 212 1 is_stmt 0 view .LVU663
 2429 018a 62E7     		b	.L131
 2430              	.L158:
 2431              		.align	2
 2432              	.L157:
 2433 018c 00000000 		.word	.LANCHOR1
 2434 0190 00000000 		.word	.LANCHOR0
 2435 0194 00000000 		.word	.LC4
 2436 0198 00000000 		.word	.LANCHOR2
 2437 019c 10000000 		.word	.LC5
 2438 01a0 00000000 		.word	.LANCHOR5
 2439 01a4 20000000 		.word	.LC6
 2440 01a8 00000000 		.word	.LANCHOR6
 2441 01ac 54000000 		.word	.LC8
 2442 01b0 3C000000 		.word	.LC7
 2443 01b4 70000000 		.word	.LC9
 2444 01b8 00000000 		.word	.LANCHOR7
 2445 01bc 00000000 		.word	.LANCHOR8
 2446 01c0 00000000 		.word	.LANCHOR9
 2447 01c4 88000000 		.word	.LC10
 2448 01c8 94000000 		.word	.LC11
 2449 01cc 9C000000 		.word	.LC12
 2450 01d0 A4000000 		.word	.LC13
 2451 01d4 A8000000 		.word	.LC14
 2452 01d8 00000000 		.word	.LANCHOR10
 2453 01dc DC000000 		.word	.LC15
 2454 01e0 F0000000 		.word	.LC16
 2455 01e4 04010000 		.word	.LC17
 2456 01e8 18010000 		.word	.LC18
 2457              		.cfi_endproc
 2458              	.LFE69:
 2460              		.section	.text.M500PcdConfigISOType,"ax",%progbits
 2461              		.align	1
 2462              		.global	M500PcdConfigISOType
 2463              		.syntax unified
 2464              		.thumb
 2465              		.thumb_func
 2466              		.fpu softvfp
 2468              	M500PcdConfigISOType:
 2469              	.LVL250:
 2470              	.LFB82:
 606:Core/Src/RC522.c **** 	if ( ucType == 'A')                     //ISO14443_A
 2471              		.loc 1 606 1 is_stmt 1 view -0
 2472              		.cfi_startproc
 2473              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccP8Hb0i.s 			page 67


 2474              		@ frame_needed = 0, uses_anonymous_args = 0
 607:Core/Src/RC522.c **** 	{
 2475              		.loc 1 607 2 view .LVU665
 607:Core/Src/RC522.c **** 	{
 2476              		.loc 1 607 5 is_stmt 0 view .LVU666
 2477 0000 4128     		cmp	r0, #65
 2478 0002 00D0     		beq	.L165
 2479 0004 7047     		bx	lr
 2480              	.L165:
 606:Core/Src/RC522.c **** 	if ( ucType == 'A')                     //ISO14443_A
 2481              		.loc 1 606 1 view .LVU667
 2482 0006 08B5     		push	{r3, lr}
 2483              	.LCFI39:
 2484              		.cfi_def_cfa_offset 8
 2485              		.cfi_offset 3, -8
 2486              		.cfi_offset 14, -4
 609:Core/Src/RC522.c **** 		WriteRawRC ( ModeReg, 0x3D );//3F
 2487              		.loc 1 609 3 is_stmt 1 view .LVU668
 2488 0008 0821     		movs	r1, #8
 2489 000a 0846     		mov	r0, r1
 2490              	.LVL251:
 609:Core/Src/RC522.c **** 		WriteRawRC ( ModeReg, 0x3D );//3F
 2491              		.loc 1 609 3 is_stmt 0 view .LVU669
 2492 000c FFF7FEFF 		bl	ClearBitMask
 2493              	.LVL252:
 610:Core/Src/RC522.c **** 		WriteRawRC ( RxSelReg, 0x86 );//84
 2494              		.loc 1 610 3 is_stmt 1 view .LVU670
 2495 0010 3D21     		movs	r1, #61
 2496 0012 1120     		movs	r0, #17
 2497 0014 FFF7FEFF 		bl	WriteRawRC
 2498              	.LVL253:
 611:Core/Src/RC522.c **** 		WriteRawRC( RFCfgReg, 0x7F );   //4F
 2499              		.loc 1 611 3 view .LVU671
 2500 0018 8621     		movs	r1, #134
 2501 001a 1720     		movs	r0, #23
 2502 001c FFF7FEFF 		bl	WriteRawRC
 2503              	.LVL254:
 612:Core/Src/RC522.c **** 		WriteRawRC( TReloadRegL, 30 );//tmoLength);// TReloadVal = 'h6a =tmoLength(dec) 
 2504              		.loc 1 612 3 view .LVU672
 2505 0020 7F21     		movs	r1, #127
 2506 0022 2620     		movs	r0, #38
 2507 0024 FFF7FEFF 		bl	WriteRawRC
 2508              	.LVL255:
 613:Core/Src/RC522.c **** 		WriteRawRC ( TReloadRegH, 0 );
 2509              		.loc 1 613 3 view .LVU673
 2510 0028 1E21     		movs	r1, #30
 2511 002a 2D20     		movs	r0, #45
 2512 002c FFF7FEFF 		bl	WriteRawRC
 2513              	.LVL256:
 614:Core/Src/RC522.c **** 		WriteRawRC ( TModeReg, 0x8D );
 2514              		.loc 1 614 3 view .LVU674
 2515 0030 0021     		movs	r1, #0
 2516 0032 2C20     		movs	r0, #44
 2517 0034 FFF7FEFF 		bl	WriteRawRC
 2518              	.LVL257:
 615:Core/Src/RC522.c **** 		WriteRawRC ( TPrescalerReg, 0x3E );
 2519              		.loc 1 615 3 view .LVU675
ARM GAS  /tmp/ccP8Hb0i.s 			page 68


 2520 0038 8D21     		movs	r1, #141
 2521 003a 2A20     		movs	r0, #42
 2522 003c FFF7FEFF 		bl	WriteRawRC
 2523              	.LVL258:
 616:Core/Src/RC522.c **** 		Delay_us ( 2 );
 2524              		.loc 1 616 3 view .LVU676
 2525 0040 3E21     		movs	r1, #62
 2526 0042 2B20     		movs	r0, #43
 2527 0044 FFF7FEFF 		bl	WriteRawRC
 2528              	.LVL259:
 617:Core/Src/RC522.c **** 	}
 2529              		.loc 1 617 3 view .LVU677
 2530 0048 0220     		movs	r0, #2
 2531 004a FFF7FEFF 		bl	Delay_us
 2532              	.LVL260:
 619:Core/Src/RC522.c **** /* å¼€å¯å¤©çº¿ */
 2533              		.loc 1 619 1 is_stmt 0 view .LVU678
 2534 004e 08BD     		pop	{r3, pc}
 2535              		.cfi_endproc
 2536              	.LFE82:
 2538              		.section	.text.PcdAntennaOff,"ax",%progbits
 2539              		.align	1
 2540              		.global	PcdAntennaOff
 2541              		.syntax unified
 2542              		.thumb
 2543              		.thumb_func
 2544              		.fpu softvfp
 2546              	PcdAntennaOff:
 2547              	.LFB84:
 630:Core/Src/RC522.c ****     ClearBitMask ( TxControlReg, 0x03 );
 2548              		.loc 1 630 1 is_stmt 1 view -0
 2549              		.cfi_startproc
 2550              		@ args = 0, pretend = 0, frame = 0
 2551              		@ frame_needed = 0, uses_anonymous_args = 0
 2552 0000 08B5     		push	{r3, lr}
 2553              	.LCFI40:
 2554              		.cfi_def_cfa_offset 8
 2555              		.cfi_offset 3, -8
 2556              		.cfi_offset 14, -4
 631:Core/Src/RC522.c **** }
 2557              		.loc 1 631 5 view .LVU680
 2558 0002 0321     		movs	r1, #3
 2559 0004 1420     		movs	r0, #20
 2560 0006 FFF7FEFF 		bl	ClearBitMask
 2561              	.LVL261:
 632:Core/Src/RC522.c **** 
 2562              		.loc 1 632 1 is_stmt 0 view .LVU681
 2563 000a 08BD     		pop	{r3, pc}
 2564              		.cfi_endproc
 2565              	.LFE84:
 2567              		.section	.text.RC522_Init,"ax",%progbits
 2568              		.align	1
 2569              		.global	RC522_Init
 2570              		.syntax unified
 2571              		.thumb
 2572              		.thumb_func
 2573              		.fpu softvfp
ARM GAS  /tmp/ccP8Hb0i.s 			page 69


 2575              	RC522_Init:
 2576              	.LFB80:
 575:Core/Src/RC522.c **** 	RC522_Reset_Disable();
 2577              		.loc 1 575 1 is_stmt 1 view -0
 2578              		.cfi_startproc
 2579              		@ args = 0, pretend = 0, frame = 0
 2580              		@ frame_needed = 0, uses_anonymous_args = 0
 2581 0000 08B5     		push	{r3, lr}
 2582              	.LCFI41:
 2583              		.cfi_def_cfa_offset 8
 2584              		.cfi_offset 3, -8
 2585              		.cfi_offset 14, -4
 576:Core/Src/RC522.c **** 	RC522_CS_Disable();
 2586              		.loc 1 576 2 view .LVU683
 2587 0002 0122     		movs	r2, #1
 2588 0004 1146     		mov	r1, r2
 2589 0006 0948     		ldr	r0, .L170
 2590 0008 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2591              	.LVL262:
 577:Core/Src/RC522.c ****     PcdAntennaOff ();//å…³å¤©çº¿
 2592              		.loc 1 577 2 view .LVU684
 2593 000c 0122     		movs	r2, #1
 2594 000e 1021     		movs	r1, #16
 2595 0010 0748     		ldr	r0, .L170+4
 2596 0012 FFF7FEFF 		bl	HAL_GPIO_WritePin
 2597              	.LVL263:
 578:Core/Src/RC522.c ****     PcdAntennaOn ();//å¼€å¤©çº¿
 2598              		.loc 1 578 5 view .LVU685
 2599 0016 FFF7FEFF 		bl	PcdAntennaOff
 2600              	.LVL264:
 579:Core/Src/RC522.c ****     PCD_Reset();
 2601              		.loc 1 579 5 view .LVU686
 2602 001a FFF7FEFF 		bl	PcdAntennaOn
 2603              	.LVL265:
 580:Core/Src/RC522.c **** 	M500PcdConfigISOType ( 'A' );//è®¾ç½®å·¥ä½œæ–¹å¼
 2604              		.loc 1 580 5 view .LVU687
 2605 001e FFF7FEFF 		bl	PCD_Reset
 2606              	.LVL266:
 581:Core/Src/RC522.c **** }
 2607              		.loc 1 581 2 view .LVU688
 2608 0022 4120     		movs	r0, #65
 2609 0024 FFF7FEFF 		bl	M500PcdConfigISOType
 2610              	.LVL267:
 582:Core/Src/RC522.c **** /* å¤ä½RC522 */
 2611              		.loc 1 582 1 is_stmt 0 view .LVU689
 2612 0028 08BD     		pop	{r3, pc}
 2613              	.L171:
 2614 002a 00BF     		.align	2
 2615              	.L170:
 2616 002c 000C0140 		.word	1073810432
 2617 0030 00080140 		.word	1073809408
 2618              		.cfi_endproc
 2619              	.LFE80:
 2621              		.global	addr
 2622              		.global	status
 2623              		.global	DATA1
 2624              		.global	RFID1
ARM GAS  /tmp/ccP8Hb0i.s 			page 70


 2625              		.global	KEY_B
 2626              		.global	KEY_A
 2627              		.global	cardNum
 2628              		.global	mycards
 2629              		.global	total
 2630              		.global	RFID
 2631              		.global	DATA
 2632              		.global	SN
 2633              		.global	CT
 2634              		.section	.bss.CT,"aw",%nobits
 2635              		.align	2
 2636              		.set	.LANCHOR1,. + 0
 2639              	CT:
 2640 0000 0000     		.space	2
 2641              		.section	.bss.DATA,"aw",%nobits
 2642              		.align	2
 2643              		.set	.LANCHOR7,. + 0
 2646              	DATA:
 2647 0000 00000000 		.space	16
 2647      00000000 
 2647      00000000 
 2647      00000000 
 2648              		.section	.bss.RFID,"aw",%nobits
 2649              		.align	2
 2650              		.set	.LANCHOR9,. + 0
 2653              	RFID:
 2654 0000 00000000 		.space	16
 2654      00000000 
 2654      00000000 
 2654      00000000 
 2655              		.section	.bss.SN,"aw",%nobits
 2656              		.align	2
 2657              		.set	.LANCHOR2,. + 0
 2660              	SN:
 2661 0000 00000000 		.space	4
 2662              		.section	.bss.cardNum,"aw",%nobits
 2663              		.set	.LANCHOR4,. + 0
 2666              	cardNum:
 2667 0000 00       		.space	1
 2668              		.section	.bss.status,"aw",%nobits
 2669              		.set	.LANCHOR0,. + 0
 2672              	status:
 2673 0000 00       		.space	1
 2674              		.section	.bss.total,"aw",%nobits
 2677              	total:
 2678 0000 00       		.space	1
 2679              		.section	.data.DATA1,"aw"
 2680              		.align	2
 2681              		.set	.LANCHOR10,. + 0
 2684              	DATA1:
 2685 0000 12345678 		.ascii	"\0224Vx\232\000\377\007\200)\377\377\377\377\377\377"
 2685      9A00FF07 
 2685      8029FFFF 
 2685      FFFFFFFF 
 2686              		.section	.data.KEY_A,"aw"
 2687              		.align	2
 2688              		.set	.LANCHOR5,. + 0
ARM GAS  /tmp/ccP8Hb0i.s 			page 71


 2691              	KEY_A:
 2692 0000 FFFFFFFF 		.ascii	"\377\377\377\377\377\377"
 2692      FFFF
 2693              		.section	.data.KEY_B,"aw"
 2694              		.align	2
 2695              		.set	.LANCHOR6,. + 0
 2698              	KEY_B:
 2699 0000 FFFFFFFF 		.ascii	"\377\377\377\377\377\377"
 2699      FFFF
 2700              		.section	.data.RFID1,"aw"
 2701              		.align	2
 2704              	RFID1:
 2705 0000 00000000 		.ascii	"\000\000\000\000\000\000\377\007\200)\377\377\377\377"
 2705      0000FF07 
 2705      8029FFFF 
 2705      FFFF
 2706 000e FFFF     		.ascii	"\377\377"
 2707              		.section	.data.addr,"aw"
 2708              		.set	.LANCHOR8,. + 0
 2711              	addr:
 2712 0000 08       		.byte	8
 2713              		.section	.data.mycards,"aw"
 2714              		.align	2
 2715              		.set	.LANCHOR3,. + 0
 2718              	mycards:
 2719 0000 AA5BD384 		.ascii	"\252[\323\204"
 2720 0004 F9562CE5 		.ascii	"\371V,\345"
 2721              		.text
 2722              	.Letext0:
 2723              		.file 2 "/home/akinya/gcc-arm-none-eabi/arm-none-eabi/include/machine/_default_types.h"
 2724              		.file 3 "/home/akinya/gcc-arm-none-eabi/arm-none-eabi/include/sys/_stdint.h"
 2725              		.file 4 "Drivers/CMSIS/Device/ST/STM32F1xx/Include/stm32f103xb.h"
 2726              		.file 5 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_def.h"
 2727              		.file 6 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_gpio.h"
 2728              		.file 7 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_dma.h"
 2729              		.file 8 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_spi.h"
 2730              		.file 9 "Core/Inc/spi.h"
 2731              		.file 10 "/home/akinya/gcc-arm-none-eabi/arm-none-eabi/include/stdio.h"
 2732              		.file 11 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_rcc.h"
 2733              		.file 12 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal_cortex.h"
 2734              		.file 13 "Drivers/STM32F1xx_HAL_Driver/Inc/stm32f1xx_hal.h"
 2735              		.file 14 "<built-in>"
ARM GAS  /tmp/ccP8Hb0i.s 			page 72


DEFINED SYMBOLS
                            *ABS*:0000000000000000 RC522.c
     /tmp/ccP8Hb0i.s:16     .text.Delay_us:0000000000000000 $t
     /tmp/ccP8Hb0i.s:24     .text.Delay_us:0000000000000000 Delay_us
     /tmp/ccP8Hb0i.s:70     .text.Delay_us:000000000000002c $d
     /tmp/ccP8Hb0i.s:76     .rodata.ShowID.str1.4:0000000000000000 $d
     /tmp/ccP8Hb0i.s:80     .text.ShowID:0000000000000000 $t
     /tmp/ccP8Hb0i.s:87     .text.ShowID:0000000000000000 ShowID
     /tmp/ccP8Hb0i.s:202    .text.ShowID:000000000000008c $d
     /tmp/ccP8Hb0i.s:207    .text.WriteRawRC:0000000000000000 $t
     /tmp/ccP8Hb0i.s:214    .text.WriteRawRC:0000000000000000 WriteRawRC
     /tmp/ccP8Hb0i.s:273    .text.WriteRawRC:000000000000003c $d
     /tmp/ccP8Hb0i.s:279    .text.ReadRawRC:0000000000000000 $t
     /tmp/ccP8Hb0i.s:286    .text.ReadRawRC:0000000000000000 ReadRawRC
     /tmp/ccP8Hb0i.s:353    .text.ReadRawRC:0000000000000050 $d
     /tmp/ccP8Hb0i.s:359    .text.PCD_Reset:0000000000000000 $t
     /tmp/ccP8Hb0i.s:366    .text.PCD_Reset:0000000000000000 PCD_Reset
     /tmp/ccP8Hb0i.s:463    .text.PCD_Reset:0000000000000080 $d
     /tmp/ccP8Hb0i.s:468    .text.SetBitMask:0000000000000000 $t
     /tmp/ccP8Hb0i.s:475    .text.SetBitMask:0000000000000000 SetBitMask
     /tmp/ccP8Hb0i.s:511    .text.PcdAntennaOn:0000000000000000 $t
     /tmp/ccP8Hb0i.s:518    .text.PcdAntennaOn:0000000000000000 PcdAntennaOn
     /tmp/ccP8Hb0i.s:558    .text.ClearBitMask:0000000000000000 $t
     /tmp/ccP8Hb0i.s:565    .text.ClearBitMask:0000000000000000 ClearBitMask
     /tmp/ccP8Hb0i.s:603    .text.PcdComMF522:0000000000000000 $t
     /tmp/ccP8Hb0i.s:610    .text.PcdComMF522:0000000000000000 PcdComMF522
     /tmp/ccP8Hb0i.s:890    .text.PcdAuthState:0000000000000000 $t
     /tmp/ccP8Hb0i.s:897    .text.PcdAuthState:0000000000000000 PcdAuthState
     /tmp/ccP8Hb0i.s:1031   .text.PcdRequest:0000000000000000 $t
     /tmp/ccP8Hb0i.s:1038   .text.PcdRequest:0000000000000000 PcdRequest
     /tmp/ccP8Hb0i.s:1132   .text.PcdAnticoll:0000000000000000 $t
     /tmp/ccP8Hb0i.s:1139   .text.PcdAnticoll:0000000000000000 PcdAnticoll
     /tmp/ccP8Hb0i.s:1271   .text.CalulateCRC:0000000000000000 $t
     /tmp/ccP8Hb0i.s:1278   .text.CalulateCRC:0000000000000000 CalulateCRC
     /tmp/ccP8Hb0i.s:1393   .text.PcdRead:0000000000000000 $t
     /tmp/ccP8Hb0i.s:1400   .text.PcdRead:0000000000000000 PcdRead
     /tmp/ccP8Hb0i.s:1502   .text.PcdWrite:0000000000000000 $t
     /tmp/ccP8Hb0i.s:1509   .text.PcdWrite:0000000000000000 PcdWrite
     /tmp/ccP8Hb0i.s:1688   .text.PcdSelect:0000000000000000 $t
     /tmp/ccP8Hb0i.s:1695   .text.PcdSelect:0000000000000000 PcdSelect
     /tmp/ccP8Hb0i.s:1811   .rodata.RC522_Handle1.str1.4:0000000000000000 $d
     /tmp/ccP8Hb0i.s:1821   .text.RC522_Handle1:0000000000000000 $t
     /tmp/ccP8Hb0i.s:1828   .text.RC522_Handle1:0000000000000000 RC522_Handle1
     /tmp/ccP8Hb0i.s:2011   .text.RC522_Handle1:00000000000000c4 $d
     /tmp/ccP8Hb0i.s:2023   .rodata.RC522_Handle.str1.4:0000000000000000 $d
     /tmp/ccP8Hb0i.s:2074   .text.RC522_Handle:0000000000000000 $t
     /tmp/ccP8Hb0i.s:2081   .text.RC522_Handle:0000000000000000 RC522_Handle
     /tmp/ccP8Hb0i.s:2433   .text.RC522_Handle:000000000000018c $d
     /tmp/ccP8Hb0i.s:2461   .text.M500PcdConfigISOType:0000000000000000 $t
     /tmp/ccP8Hb0i.s:2468   .text.M500PcdConfigISOType:0000000000000000 M500PcdConfigISOType
     /tmp/ccP8Hb0i.s:2539   .text.PcdAntennaOff:0000000000000000 $t
     /tmp/ccP8Hb0i.s:2546   .text.PcdAntennaOff:0000000000000000 PcdAntennaOff
     /tmp/ccP8Hb0i.s:2568   .text.RC522_Init:0000000000000000 $t
     /tmp/ccP8Hb0i.s:2575   .text.RC522_Init:0000000000000000 RC522_Init
     /tmp/ccP8Hb0i.s:2616   .text.RC522_Init:000000000000002c $d
     /tmp/ccP8Hb0i.s:2711   .data.addr:0000000000000000 addr
     /tmp/ccP8Hb0i.s:2672   .bss.status:0000000000000000 status
ARM GAS  /tmp/ccP8Hb0i.s 			page 73


     /tmp/ccP8Hb0i.s:2684   .data.DATA1:0000000000000000 DATA1
     /tmp/ccP8Hb0i.s:2704   .data.RFID1:0000000000000000 RFID1
     /tmp/ccP8Hb0i.s:2698   .data.KEY_B:0000000000000000 KEY_B
     /tmp/ccP8Hb0i.s:2691   .data.KEY_A:0000000000000000 KEY_A
     /tmp/ccP8Hb0i.s:2666   .bss.cardNum:0000000000000000 cardNum
     /tmp/ccP8Hb0i.s:2718   .data.mycards:0000000000000000 mycards
     /tmp/ccP8Hb0i.s:2677   .bss.total:0000000000000000 total
     /tmp/ccP8Hb0i.s:2653   .bss.RFID:0000000000000000 RFID
     /tmp/ccP8Hb0i.s:2646   .bss.DATA:0000000000000000 DATA
     /tmp/ccP8Hb0i.s:2660   .bss.SN:0000000000000000 SN
     /tmp/ccP8Hb0i.s:2639   .bss.CT:0000000000000000 CT
     /tmp/ccP8Hb0i.s:2635   .bss.CT:0000000000000000 $d
     /tmp/ccP8Hb0i.s:2642   .bss.DATA:0000000000000000 $d
     /tmp/ccP8Hb0i.s:2649   .bss.RFID:0000000000000000 $d
     /tmp/ccP8Hb0i.s:2656   .bss.SN:0000000000000000 $d
     /tmp/ccP8Hb0i.s:2667   .bss.cardNum:0000000000000000 $d
     /tmp/ccP8Hb0i.s:2673   .bss.status:0000000000000000 $d
     /tmp/ccP8Hb0i.s:2678   .bss.total:0000000000000000 $d
     /tmp/ccP8Hb0i.s:2680   .data.DATA1:0000000000000000 $d
     /tmp/ccP8Hb0i.s:2687   .data.KEY_A:0000000000000000 $d
     /tmp/ccP8Hb0i.s:2694   .data.KEY_B:0000000000000000 $d
     /tmp/ccP8Hb0i.s:2701   .data.RFID1:0000000000000000 $d
     /tmp/ccP8Hb0i.s:2714   .data.mycards:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_RCC_GetHCLKFreq
HAL_SYSTICK_Config
HAL_Delay
printf
HAL_GPIO_WritePin
HAL_SPI_Transmit
hspi1
HAL_SPI_Receive
puts
